/*! For license information please see main.b07f866d.js.LICENSE.txt */
(()=>{var __webpack_modules__={7530:(e,t,n)=>{"use strict";var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(9950),a=(r=o)&&r.__esModule?r:{default:r};t.A=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,o=void 0===r?24:r,s=e.height,l=void 0===s?24:s,c=e.style,u=void 0===c?{}:c,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return a.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:n,width:o,height:l},u)},d),a.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},6127:(e,t,n)=>{"use strict";var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(9950),a=(r=o)&&r.__esModule?r:{default:r};t.A=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,o=void 0===r?24:r,s=e.height,l=void 0===s?24:s,c=e.style,u=void 0===c?{}:c,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return a.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:n,width:o,height:l},u)},d),a.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},255:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(7394)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},7394:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,o,a=null;function s(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(!s.enabled)return;const o=s,a=Number(new Date),l=a-(n||a);o.diff=l,o.prev=n,o.curr=a,n=a,r[0]=t.coerce(r[0]),"string"!==typeof r[0]&&r.unshift("%O");let c=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,((e,n)=>{if("%%"===e)return"%";c++;const i=t.formatters[n];if("function"===typeof i){const t=r[c];e=i.call(o,t),r.splice(c,1),c--}return e})),t.formatArgs.call(o,r);(o.log||t.log).apply(o,r)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=r,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{a=e}}),"function"===typeof t.init&&t.init(s),s}function r(e,n){const r=t(this.namespace+("undefined"===typeof n?":":n)+e);return r.log=this.log,r}function i(e,t){let n=0,r=0,i=-1,o=0;for(;n<e.length;)if(r<t.length&&(t[r]===e[n]||"*"===t[r]))"*"===t[r]?(i=r,o=n,r++):(n++,r++);else{if(-1===i)return!1;r=i+1,o++,n=o}for(;r<t.length&&"*"===t[r];)r++;return r===t.length}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names,...t.skips.map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"===typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean);for(const r of n)"-"===r[0]?t.skips.push(r.slice(1)):t.names.push(r)},t.enabled=function(e){for(const n of t.skips)if(i(e,n))return!1;for(const n of t.names)if(i(e,n))return!0;return!1},t.humanize=n(8179),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},170:function(e,t,n){e.exports=function(){"use strict";var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)},t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function r(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,o=Object.keys,a=Array.isArray;function s(e,t){return"object"!=typeof t||o(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||i.Promise||(i.Promise=Promise);var l=Object.getPrototypeOf,c={}.hasOwnProperty;function u(e,t){return c.call(e,t)}function d(e,t){"function"==typeof t&&(t=t(l(e))),("undefined"==typeof Reflect?o:Reflect.ownKeys)(t).forEach((function(n){f(e,n,t[n])}))}var h=Object.defineProperty;function f(e,t,n,r){h(e,t,s(n&&u(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function p(e){return{from:function(t){return e.prototype=Object.create(t.prototype),f(e.prototype,"constructor",e),{extend:d.bind(null,e.prototype)}}}}var g=Object.getOwnPropertyDescriptor,y=[].slice;function m(e,t,n){return y.call(e,t,n)}function v(e,t){return t(e)}function b(e){if(!e)throw new Error("Assertion Failed")}function w(e){i.setImmediate?setImmediate(e):setTimeout(e,0)}function x(e,t){if("string"==typeof t&&u(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var o=x(e,t[r]);n.push(o)}return n}var a=t.indexOf(".");if(-1!==a){var s=e[t.substr(0,a)];return null==s?void 0:x(s,t.substr(a+1))}}function E(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){b("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)E(e,t[r],n[r])}else{var o,s,l=t.indexOf(".");-1!==l?(o=t.substr(0,l),""===(s=t.substr(l+1))?void 0===n?a(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n:E(l=(l=e[o])&&u(e,o)?l:e[o]={},s,n)):void 0===n?a(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function k(e){var t,n={};for(t in e)u(e,t)&&(n[t]=e[t]);return n}var _=[].concat;function S(e){return _.apply([],e)}var C="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(S([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return i[e]})),A=new Set(C.map((function(e){return i[e]}))),O=null;function N(e){return O=new WeakMap,e=function e(t){if(!t||"object"!=typeof t)return t;var n=O.get(t);if(n)return n;if(a(t)){n=[],O.set(t,n);for(var r=0,i=t.length;r<i;++r)n.push(e(t[r]))}else if(A.has(t.constructor))n=t;else{var o,s=l(t);for(o in n=s===Object.prototype?{}:Object.create(s),O.set(t,n),t)u(t,o)&&(n[o]=e(t[o]))}return n}(e),O=null,e}var P={}.toString;function j(e){return P.call(e).slice(8,-1)}var D="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",R="symbol"==typeof D?function(e){var t;return null!=e&&(t=e[D])&&t.apply(e)}:function(){return null};function T(e,t){return 0<=(t=e.indexOf(t))&&e.splice(t,1),0<=t}var I={};function F(e){var t,n,r,i;if(1===arguments.length){if(a(e))return e.slice();if(this===I&&"string"==typeof e)return[e];if(i=R(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"!=typeof(t=e.length))return[e];for(n=new Array(t);t--;)n[t]=e[t];return n}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var L="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},B=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(le=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),M={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function U(e,t){this.name=e,this.message=t}function z(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}function H(e,t,n,r){this.failures=t,this.failedKeys=r,this.successCount=n,this.message=z(e,t)}function q(e,t){this.name="BulkError",this.failures=Object.keys(t).map((function(e){return t[e]})),this.failuresByPos=t,this.message=z(e,this.failures)}p(U).from(Error).extend({toString:function(){return this.name+": "+this.message}}),p(H).from(U),p(q).from(U);var K=B.reduce((function(e,t){return e[t]=t+"Error",e}),{}),V=U,G=B.reduce((function(e,t){var n=t+"Error";function r(e,r){this.name=n,e?"string"==typeof e?(this.message="".concat(e).concat(r?"\n "+r:""),this.inner=r||null):"object"==typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=M[t]||n,this.inner=null)}return p(r).from(V),e[t]=r,e}),{});G.Syntax=SyntaxError,G.Type=TypeError,G.Range=RangeError;var W=le.reduce((function(e,t){return e[t+"Error"]=G[t],e}),{}),Y=B.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=G[t]),e}),{});function Z(){}function Q(e){return e}function $(e,t){return null==e||e===Q?t:function(n){return t(e(n))}}function J(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function X(e,t){return e===Z?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?J(r,this.onsuccess):r),i&&(this.onerror=this.onerror?J(i,this.onerror):i),void 0!==o?o:n}}function ee(e,t){return e===Z?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?J(n,this.onsuccess):n),r&&(this.onerror=this.onerror?J(r,this.onerror):r)}}function te(e,t){return e===Z?t:function(n){var r=e.apply(this,arguments);s(n,r);var i=this.onsuccess,o=this.onerror;return this.onsuccess=null,this.onerror=null,n=t.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?J(i,this.onsuccess):i),o&&(this.onerror=this.onerror?J(o,this.onerror):o),void 0===r?void 0===n?void 0:n:s(r,n)}}function ne(e,t){return e===Z?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function re(e,t){return e===Z?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then((function(){return t.apply(r,o)}))}return t.apply(this,arguments)}}Y.ModifyError=H,Y.DexieError=U,Y.BulkError=q;var ie="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function oe(e){ie=e}var ae={},se=100,le=(C="undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,l(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,l(t),e]}(),C[0]),ce=(B=C[1],C=C[2],B=B&&B.then,le&&le.constructor),ue=!!C,de=function(e,t){be.push([e,t]),fe&&(queueMicrotask(Ne),fe=!1)},he=!0,fe=!0,pe=[],ge=[],ye=Q,me={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Z,pgp:!1,env:{},finalize:Z},ve=me,be=[],we=0,xe=[];function Ee(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=ve;if("function"!=typeof e){if(e!==ae)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Se(this,this._value))}this._state=null,this._value=null,++t.ref,function e(t,n){try{n((function(n){if(null===t._state){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Pe();n&&"function"==typeof n.then?e(t,(function(e,t){n instanceof Ee?n._then(e,t):n.then(e,t)})):(t._state=!0,t._value=n,Ce(t)),r&&je()}}),Se.bind(null,t))}catch(n){Se(t,n)}}(this,e)}var ke={get:function(){var e=ve,t=Me;function n(n,r){var i=this,o=!e.global&&(e!==ve||t!==Me),a=o&&!qe(),s=new Ee((function(t,s){Ae(i,new _e(Ze(n,e,o,a),Ze(r,e,o,a),t,s,e))}));return this._consoleTask&&(s._consoleTask=this._consoleTask),s}return n.prototype=ae,n},set:function(e){f(this,"then",e&&e.prototype===ae?ke:{get:function(){return e},set:ke.set})}};function _e(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function Se(e,t){var n,r;ge.push(t),null===e._state&&(n=e._lib&&Pe(),t=ye(t),e._state=!1,e._value=t,r=e,pe.some((function(e){return e._value===r._value}))||pe.push(r),Ce(e),n&&je())}function Ce(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Ae(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===we&&(++we,de((function(){0==--we&&De()}),[]))}function Ae(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++we,de(Oe,[n,e,t])}else e._listeners.push(t)}function Oe(e,t,n){try{var r,i=t._value;!t._state&&ge.length&&(ge=[]),r=ie&&t._consoleTask?t._consoleTask.run((function(){return e(i)})):e(i),t._state||-1!==ge.indexOf(i)||function(e){for(var t=pe.length;t;)if(pe[--t]._value===e._value)return pe.splice(t,1)}(t),n.resolve(r)}catch(e){n.reject(e)}finally{0==--we&&De(),--n.psd.ref||n.psd.finalize()}}function Ne(){Ye(me,(function(){Pe()&&je()}))}function Pe(){var e=he;return fe=he=!1,e}function je(){var e,t,n;do{for(;0<be.length;)for(e=be,be=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(0<be.length);fe=he=!0}function De(){var e=pe;pe=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=xe.slice(0),n=t.length;n;)t[--n]()}function Re(e){return new Ee(ae,!1,e)}function Te(e,t){var n=ve;return function(){var r=Pe(),i=ve;try{return Ge(n,!0),e.apply(this,arguments)}catch(r){t&&t(r)}finally{Ge(i,!1),r&&je()}}}d(Ee.prototype,{then:ke,_then:function(e,t){Ae(this,new _e(null,null,e,t,ve))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=e,n=arguments[1];return"function"==typeof t?this.then(null,(function(e){return(e instanceof t?n:Re)(e)})):this.then(null,(function(e){return(e&&e.name===t?n:Re)(e)}))},finally:function(e){return this.then((function(t){return Ee.resolve(e()).then((function(){return t}))}),(function(t){return Ee.resolve(e()).then((function(){return Re(t)}))}))},timeout:function(e,t){var n=this;return e<1/0?new Ee((function(r,i){var o=setTimeout((function(){return i(new G.Timeout(t))}),e);n.then(r,i).finally(clearTimeout.bind(null,o))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&f(Ee.prototype,Symbol.toStringTag,"Dexie.Promise"),me.env=We(),d(Ee,{all:function(){var e=F.apply(null,arguments).map(Ke);return new Ee((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(i,o){return Ee.resolve(i).then((function(n){e[o]=n,--r||t(e)}),n)}))}))},resolve:function(e){return e instanceof Ee?e:e&&"function"==typeof e.then?new Ee((function(t,n){e.then(t,n)})):new Ee(ae,!0,e)},reject:Re,race:function(){var e=F.apply(null,arguments).map(Ke);return new Ee((function(t,n){e.map((function(e){return Ee.resolve(e).then(t,n)}))}))},PSD:{get:function(){return ve},set:function(e){return ve=e}},totalEchoes:{get:function(){return Me}},newPSD:ze,usePSD:Ye,scheduler:{get:function(){return de},set:function(e){de=e}},rejectionMapper:{get:function(){return ye},set:function(e){ye=e}},follow:function(e,t){return new Ee((function(n,r){return ze((function(t,n){var r=ve;r.unhandleds=[],r.onunhandled=n,r.finalize=J((function(){var e,r=this;e=function(){0===r.unhandleds.length?t():n(r.unhandleds[0])},xe.push((function t(){e(),xe.splice(xe.indexOf(t),1)})),++we,de((function(){0==--we&&De()}),[])}),r.finalize),e()}),t,n,r)}))}}),ce&&(ce.allSettled&&f(Ee,"allSettled",(function(){var e=F.apply(null,arguments).map(Ke);return new Ee((function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach((function(e,i){return Ee.resolve(e).then((function(e){return r[i]={status:"fulfilled",value:e}}),(function(e){return r[i]={status:"rejected",reason:e}})).then((function(){return--n||t(r)}))}))}))})),ce.any&&"undefined"!=typeof AggregateError&&f(Ee,"any",(function(){var e=F.apply(null,arguments).map(Ke);return new Ee((function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach((function(e,o){return Ee.resolve(e).then((function(e){return t(e)}),(function(e){i[o]=e,--r||n(new AggregateError(i))}))}))}))})),ce.withResolvers&&(Ee.withResolvers=ce.withResolvers));var Ie={awaits:0,echoes:0,id:0},Fe=0,Le=[],Be=0,Me=0,Ue=0;function ze(e,t,n,r){var i=ve,o=Object.create(i);return o.parent=i,o.ref=0,o.global=!1,o.id=++Ue,me.env,o.env=ue?{Promise:Ee,PromiseProp:{value:Ee,configurable:!0,writable:!0},all:Ee.all,race:Ee.race,allSettled:Ee.allSettled,any:Ee.any,resolve:Ee.resolve,reject:Ee.reject}:{},t&&s(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()},r=Ye(o,e,n,r),0===o.ref&&o.finalize(),r}function He(){return Ie.id||(Ie.id=++Fe),++Ie.awaits,Ie.echoes+=se,Ie.id}function qe(){return!!Ie.awaits&&(0==--Ie.awaits&&(Ie.id=0),Ie.echoes=Ie.awaits*se,!0)}function Ke(e){return Ie.echoes&&e&&e.constructor===ce?(He(),e.then((function(e){return qe(),e}),(function(e){return qe(),$e(e)}))):e}function Ve(){var e=Le[Le.length-1];Le.pop(),Ge(e,!1)}function Ge(e,t){var n,r=ve;(t?!Ie.echoes||Be++&&e===ve:!Be||--Be&&e===ve)||queueMicrotask(t?function(e){++Me,Ie.echoes&&0!=--Ie.echoes||(Ie.echoes=Ie.awaits=Ie.id=0),Le.push(ve),Ge(e,!0)}.bind(null,e):Ve),e!==ve&&(ve=e,r===me&&(me.env=We()),ue&&(n=me.env.Promise,t=e.env,(r.global||e.global)&&(Object.defineProperty(i,"Promise",t.PromiseProp),n.all=t.all,n.race=t.race,n.resolve=t.resolve,n.reject=t.reject,t.allSettled&&(n.allSettled=t.allSettled),t.any&&(n.any=t.any))))}function We(){var e=i.Promise;return ue?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function Ye(e,t,n,r,i){var o=ve;try{return Ge(e,!0),t(n,r,i)}finally{Ge(o,!1)}}function Ze(e,t,n,r){return"function"!=typeof e?e:function(){var i=ve;n&&He(),Ge(t,!0);try{return e.apply(this,arguments)}finally{Ge(i,!1),r&&queueMicrotask(qe)}}}function Qe(e){Promise===ce&&0===Ie.echoes?0===Be?e():enqueueNativeMicroTask(e):setTimeout(e,0)}-1===(""+B).indexOf("[native code]")&&(He=qe=Z);var $e=Ee.reject,Je=String.fromCharCode(65535),Xe="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",et="String expected.",tt=[],nt="__dbnames",rt="readonly",it="readwrite";function ot(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var at={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function st(e){return"string"!=typeof e||/\./.test(e)?function(e){return e}:function(t){return void 0===t[e]&&e in t&&delete(t=N(t))[e],t}}function lt(){throw G.Type()}function ct(e,t){try{var n=ut(e),r=ut(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return function(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,o=0;o<i;++o)if(e[o]!==t[o])return e[o]<t[o]?-1:1;return n===r?0:n<r?-1:1}(dt(e),dt(t));case"Array":return function(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,o=0;o<i;++o){var a=ct(e[o],t[o]);if(0!==a)return a}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function ut(e){var t=typeof e;return"object"!=t?t:ArrayBuffer.isView(e)||"ArrayBuffer"===(e=j(e))?"binary":e}function dt(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var ht=(ft.prototype._trans=function(e,t,n){var r=this._tx||ve.trans,i=this.name,o=ie&&"undefined"!=typeof console&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===e?"read":"write"," ").concat(this.name));function a(e,n,r){if(!r.schema[i])throw new G.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)}var s=Pe();try{var l=r&&r.db._novip===this.db._novip?r===ve.trans?r._promise(e,a,n):ze((function(){return r._promise(e,a,n)}),{trans:r,transless:ve.transless||ve}):function t(n,r,i,o){if(n.idbdb&&(n._state.openComplete||ve.letThrough||n._vip)){var a=n._createTransaction(r,i,n._dbSchema);try{a.create(),n._state.PR1398_maxLoop=3}catch(e){return e.name===K.InvalidState&&n.isOpen()&&0<--n._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),n.close({disableAutoOpen:!1}),n.open().then((function(){return t(n,r,i,o)}))):$e(e)}return a._promise(r,(function(e,t){return ze((function(){return ve.trans=a,o(e,t,a)}))})).then((function(e){if("readwrite"===r)try{a.idbtrans.commit()}catch(e){}return"readonly"===r?e:a._completion.then((function(){return e}))}))}if(n._state.openComplete)return $e(new G.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._state.autoOpen)return $e(new G.DatabaseClosed);n.open().catch(Z)}return n._state.dbReadyPromise.then((function(){return t(n,r,i,o)}))}(this.db,e,[this.name],a);return o&&(l._consoleTask=o,l=l.catch((function(e){return console.trace(e),$e(e)}))),l}finally{s&&je()}},ft.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):null==e?$e(new G.Type("Invalid argument to Table.get()")):this._trans("readonly",(function(t){return n.core.get({trans:t,key:e}).then((function(e){return n.hook.reading.fire(e)}))})).then(t)},ft.prototype.where=function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(a(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=o(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){if(e.compound&&t.every((function(t){return 0<=e.keyPath.indexOf(t)}))){for(var n=0;n<t.length;++n)if(-1===t.indexOf(e.keyPath[n]))return!1;return!0}return!1})).sort((function(e,t){return e.keyPath.length-t.keyPath.length}))[0];if(n&&this.db._maxKey!==Je){var r=n.keyPath.slice(0,t.length);return this.where(r).equals(r.map((function(t){return e[t]})))}!n&&ie&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var i=this.schema.idxByName;function s(e,t){return 0===ct(e,t)}var l=t.reduce((function(t,n){var r=t[0],o=t[1],l=(t=i[n],e[n]);return[r||t,r||!t?ot(o,t&&t.multi?function(e){return e=x(e,n),a(e)&&e.some((function(e){return s(l,e)}))}:function(e){return s(l,x(e,n))}):o]}),[null,null]);return r=l[0],l=l[1],r?this.where(r.name).equals(e[r.keyPath]).filter(l):n?this.filter(l):this.where(t).equals("")},ft.prototype.filter=function(e){return this.toCollection().and(e)},ft.prototype.count=function(e){return this.toCollection().count(e)},ft.prototype.offset=function(e){return this.toCollection().offset(e)},ft.prototype.limit=function(e){return this.toCollection().limit(e)},ft.prototype.each=function(e){return this.toCollection().each(e)},ft.prototype.toArray=function(e){return this.toCollection().toArray(e)},ft.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ft.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,a(e)?"[".concat(e.join("+"),"]"):e))},ft.prototype.reverse=function(){return this.toCollection().reverse()},ft.prototype.mapToClass=function(t){var n,r=this.db,i=this.name;function o(){return null!==n&&n.apply(this,arguments)||this}(this.schema.mappedClass=t).prototype instanceof lt&&(function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(o,n=t),Object.defineProperty(o.prototype,"db",{get:function(){return r},enumerable:!1,configurable:!0}),o.prototype.table=function(){return i},t=o);for(var a=new Set,s=t.prototype;s;s=l(s))Object.getOwnPropertyNames(s).forEach((function(e){return a.add(e)}));function c(e){if(!e)return e;var n,r=Object.create(t.prototype);for(n in e)if(!a.has(n))try{r[n]=e[n]}catch(e){}return r}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=c,this.hook("reading",c),t},ft.prototype.defineClass=function(){return this.mapToClass((function(e){s(this,e)}))},ft.prototype.add=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,o=r.keyPath,a=e;return o&&i&&(a=st(o)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[a]})})).then((function(e){return e.numFailures?Ee.reject(e.failures[0]):e.lastResult})).then((function(t){if(o)try{E(e,o,t)}catch(t){}return t}))},ft.prototype.update=function(e,t){return"object"!=typeof e||a(e)?this.where(":id").equals(e).modify(t):void 0===(e=x(e,this.schema.primKey.keyPath))?$e(new G.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t)},ft.prototype.put=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,o=r.keyPath,a=e;return o&&i&&(a=st(o)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"put",values:[a],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?Ee.reject(e.failures[0]):e.lastResult})).then((function(t){if(o)try{E(e,o,t)}catch(t){}return t}))},ft.prototype.delete=function(e){var t=this;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?Ee.reject(e.failures[0]):void 0}))},ft.prototype.clear=function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:at})})).then((function(e){return e.numFailures?Ee.reject(e.failures[0]):void 0}))},ft.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",(function(n){return t.core.getMany({keys:e,trans:n}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))},ft.prototype.bulkAdd=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,o=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=(s=r.schema.primKey).auto;if((s=s.keyPath)&&i)throw new G.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new G.InvalidArgument("Arguments objects and keys must have the same length");var a=e.length,s=s&&n?e.map(st(s)):e;return r.core.mutate({trans:t,type:"add",keys:i,values:s,wantResults:o}).then((function(e){var t=e.numFailures,n=e.results,i=e.lastResult;if(e=e.failures,0===t)return o?n:i;throw new q("".concat(r.name,".bulkAdd(): ").concat(t," of ").concat(a," operations failed"),e)}))}))},ft.prototype.bulkPut=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,o=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=(s=r.schema.primKey).auto;if((s=s.keyPath)&&i)throw new G.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new G.InvalidArgument("Arguments objects and keys must have the same length");var a=e.length,s=s&&n?e.map(st(s)):e;return r.core.mutate({trans:t,type:"put",keys:i,values:s,wantResults:o}).then((function(e){var t=e.numFailures,n=e.results,i=e.lastResult;if(e=e.failures,0===t)return o?n:i;throw new q("".concat(r.name,".bulkPut(): ").concat(t," of ").concat(a," operations failed"),e)}))}))},ft.prototype.bulkUpdate=function(e){var t=this,n=this.core,r=e.map((function(e){return e.key})),i=e.map((function(e){return e.changes})),o=[];return this._trans("readwrite",(function(a){return n.getMany({trans:a,keys:r,cache:"clone"}).then((function(s){var l=[],c=[];e.forEach((function(e,n){var r=e.key,i=e.changes,a=s[n];if(a){for(var u=0,d=Object.keys(i);u<d.length;u++){var h=d[u],f=i[h];if(h===t.schema.primKey.keyPath){if(0!==ct(f,r))throw new G.Constraint("Cannot update primary key in bulkUpdate()")}else E(a,h,f)}o.push(n),l.push(r),c.push(a)}}));var u=l.length;return n.mutate({trans:a,type:"put",keys:l,values:c,updates:{keys:r,changeSpecs:i}}).then((function(e){var n=e.numFailures,r=e.failures;if(0===n)return u;for(var i=0,a=Object.keys(r);i<a.length;i++){var s,l=a[i],c=o[Number(l)];null!=c&&(s=r[l],delete r[l],r[c]=s)}throw new q("".concat(t.name,".bulkUpdate(): ").concat(n," of ").concat(u," operations failed"),r)}))}))}))},ft.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:e})})).then((function(e){var r=e.numFailures,i=e.lastResult;if(e=e.failures,0===r)return i;throw new q("".concat(t.name,".bulkDelete(): ").concat(r," of ").concat(n," operations failed"),e)}))},ft);function ft(){}function pt(e){function t(t,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return n[t].subscribe.apply(null,o),e}if("string"==typeof t)return n[t]}var n={};t.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return t;function s(e,r,i){if("object"!=typeof e){var l;r=r||ne;var c={subscribers:[],fire:i=i||Z,subscribe:function(e){-1===c.subscribers.indexOf(e)&&(c.subscribers.push(e),c.fire=r(c.fire,e))},unsubscribe:function(e){c.subscribers=c.subscribers.filter((function(t){return t!==e})),c.fire=c.subscribers.reduce(r,i)}};return n[e]=t[e]=c}o(l=e).forEach((function(e){var t=l[e];if(a(t))s(e,l[e][0],l[e][1]);else{if("asap"!==t)throw new G.InvalidArgument("Invalid event config");var n=s(e,Q,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach((function(e){w((function(){e.apply(null,t)}))}))}))}}))}}function gt(e,t){return p(t).from({prototype:e}),t}function yt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function mt(e,t){e.filter=ot(e.filter,t)}function vt(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return ot(r(),t())}:t,e.justLimit=n&&!r}function bt(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new G.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function wt(e,t,n){var r=bt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function xt(e,t,n,r){var i=e.replayFilter?ot(e.filter,e.replayFilter()):e.filter;if(e.or){var o={},a=function(e,n,r){var a,s;i&&!i(n,r,(function(e){return n.stop(e)}),(function(e){return n.fail(e)}))||("[object ArrayBuffer]"===(s=""+(a=n.primaryKey))&&(s=""+new Uint8Array(a)),u(o,s)||(o[s]=!0,t(e,n,r)))};return Promise.all([e.or._iterate(a,n),Et(wt(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return Et(wt(e,r,n),ot(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Et(e,t,n,r){var i=Te(r?function(e,t,i){return n(r(e),t,i)}:n);return e.then((function(e){if(e)return e.start((function(){var n=function(){return e.continue()};t&&!t(e,(function(e){return n=e}),(function(t){e.stop(t),n=Z}),(function(t){e.fail(t),n=Z}))||i(e.value,e,(function(e){return n=e})),n()}))}))}var kt=(_t.prototype.execute=function(e){var t=this["@@propmod"];if(void 0!==t.add){var n=t.add;if(a(n))return r(r([],a(e)?e:[],!0),n,!0).sort();if("number"==typeof n)return(Number(e)||0)+n;if("bigint"==typeof n)try{return BigInt(e)+n}catch(e){return BigInt(0)+n}throw new TypeError("Invalid term ".concat(n))}if(void 0!==t.remove){var i=t.remove;if(a(i))return a(e)?e.filter((function(e){return!i.includes(e)})).sort():[];if("number"==typeof i)return Number(e)-i;if("bigint"==typeof i)try{return BigInt(e)-i}catch(e){return BigInt(0)-i}throw new TypeError("Invalid subtrahend ".concat(i))}return(n=null===(n=t.replacePrefix)||void 0===n?void 0:n[0])&&"string"==typeof e&&e.startsWith(n)?t.replacePrefix[1]+e.substring(n.length):e},_t);function _t(e){this["@@propmod"]=e}var St=(Ct.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,$e.bind(null,n.error)):n.table._trans("readonly",e).then(t)},Ct.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,$e.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},Ct.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=ot(t.algorithm,e)},Ct.prototype._iterate=function(e,t){return xt(this._ctx,e,t,this._ctx.table.core)},Ct.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&s(n,e),t._ctx=n,t},Ct.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ct.prototype.each=function(e){var t=this._ctx;return this._read((function(n){return xt(t,e,n,t.table.core)}))},Ct.prototype.count=function(e){var t=this;return this._read((function(e){var n=t._ctx,r=n.table.core;if(yt(n,!0))return r.count({trans:e,query:{index:bt(n,r.schema),range:n.range}}).then((function(e){return Math.min(e,n.limit)}));var i=0;return xt(n,(function(){return++i,!1}),e,r).then((function(){return i}))})).then(e)},Ct.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function s(e,t){return ct(o(e,i),o(t,i))*a}return this.toArray((function(e){return e.sort(s)})).then(t)},Ct.prototype.toArray=function(e){var t=this;return this._read((function(e){var n=t._ctx;if("next"===n.dir&&yt(n,!0)&&0<n.limit){var r=n.valueMapper,i=bt(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:i,range:n.range}}).then((function(e){return e=e.result,r?e.map(r):e}))}var o=[];return xt(n,(function(e){return o.push(e)}),e,n.table.core).then((function(){return o}))}),e)},Ct.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,yt(t)?vt(t,(function(){var t=e;return function(e,n){return 0===t||(1===t?--t:n((function(){e.advance(t),t=0})),!1)}})):vt(t,(function(){var t=e;return function(){return--t<0}}))),this},Ct.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),vt(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),0<=t}}),!0),this},Ct.prototype.until=function(e,t){return mt(this._ctx,(function(n,r,i){return!e(n.value)||(r(i),t)})),this},Ct.prototype.first=function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},Ct.prototype.last=function(e){return this.reverse().first(e)},Ct.prototype.filter=function(e){var t;return mt(this._ctx,(function(t){return e(t.value)})),(t=this._ctx).isMatch=ot(t.isMatch,e),this},Ct.prototype.and=function(e){return this.filter(e)},Ct.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},Ct.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ct.prototype.desc=function(){return this.reverse()},Ct.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},Ct.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},Ct.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},Ct.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},Ct.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&yt(t,!0)&&0<t.limit)return this._read((function(e){var n=bt(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((function(e){return e.result})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)},Ct.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},Ct.prototype.firstKey=function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},Ct.prototype.lastKey=function(e){return this.reverse().firstKey(e)},Ct.prototype.distinct=function(){var e;if(!(e=(e=this._ctx).index&&e.table.schema.idxByName[e.index])||!e.multi)return this;var t={};return mt(this._ctx,(function(e){var n=e.primaryKey.toString();return e=u(t,n),t[n]=!0,!e})),this},Ct.prototype.modify=function(e){var t=this,n=this._ctx;return this._write((function(r){var i,a,s;s="function"==typeof e?e:(i=o(e),a=i.length,function(t){for(var n=!1,r=0;r<a;++r){var o=i[r],s=e[o],l=x(t,o);s instanceof kt?(E(t,o,s.execute(l)),n=!0):l!==s&&(E(t,o,s),n=!0)}return n});var l,c=n.table.core,u=(l=c.schema.primaryKey).outbound,d=l.extractKey,h=200;function f(e,t){var n=t.failures;t=t.numFailures,g+=e-t;for(var r=0,i=o(n);r<i.length;r++){var a=i[r];p.push(n[a])}}(l=t.db._options.modifyChunkSize)&&(h="object"==typeof l?l[c.name]||l["*"]||200:l);var p=[],g=0,y=[];return t.clone().primaryKeys().then((function(t){function i(n){var a=Math.min(h,t.length-n);return c.getMany({trans:r,keys:t.slice(n,n+a),cache:"immutable"}).then((function(l){for(var p=[],g=[],y=u?[]:null,m=[],v=0;v<a;++v){var b=l[v],w={value:N(b),primKey:t[n+v]};!1!==s.call(w,w.value,w)&&(null==w.value?m.push(t[n+v]):u||0===ct(d(b),d(w.value))?(g.push(w.value),u&&y.push(t[n+v])):(m.push(t[n+v]),p.push(w.value)))}return Promise.resolve(0<p.length&&c.mutate({trans:r,type:"add",values:p}).then((function(e){for(var t in e.failures)m.splice(parseInt(t),1);f(p.length,e)}))).then((function(){return(0<g.length||o&&"object"==typeof e)&&c.mutate({trans:r,type:"put",keys:y,values:g,criteria:o,changeSpec:"function"!=typeof e&&e,isAdditionalChunk:0<n}).then((function(e){return f(g.length,e)}))})).then((function(){return(0<m.length||o&&e===At)&&c.mutate({trans:r,type:"delete",keys:m,criteria:o,isAdditionalChunk:0<n}).then((function(e){return f(m.length,e)}))})).then((function(){return t.length>n+a&&i(n+h)}))}))}var o=yt(n)&&n.limit===1/0&&("function"!=typeof e||e===At)&&{index:n.index,range:n.range};return i(0).then((function(){if(0<p.length)throw new H("Error modifying one or more objects",p,g,y);return t.length}))}))}))},Ct.prototype.delete=function(){var e=this._ctx,t=e.range;return yt(e)&&(e.isPrimKey||3===t.type)?this._write((function(n){var r=e.table.core.schema.primaryKey,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then((function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then((function(e){var n=e.failures;if(e.lastResult,e.results,e=e.numFailures)throw new H("Could not delete some values",Object.keys(n).map((function(e){return n[e]})),t-e);return t-e}))}))})):this.modify(At)},Ct);function Ct(){}var At=function(e,t){return t.value=null};function Ot(e,t){return e<t?-1:e===t?0:1}function Nt(e,t){return t<e?-1:e===t?0:1}function Pt(e,t,n){return(e=e instanceof It?new e.Collection(e):e)._ctx.error=new(n||TypeError)(t),e}function jt(e){return new e.Collection(e,(function(){return Tt("")})).limit(0)}function Dt(e,t,n,r){var i,o,a,s,l,c,u,d=n.length;if(!n.every((function(e){return"string"==typeof e})))return Pt(e,et);function h(e){i="next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()},o="next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()},a="next"===e?Ot:Nt;var t=n.map((function(e){return{lower:o(e),upper:i(e)}})).sort((function(e,t){return a(e.lower,t.lower)}));s=t.map((function(e){return e.upper})),l=t.map((function(e){return e.lower})),u="next"===(c=e)?"":r}h("next"),(e=new e.Collection(e,(function(){return Rt(s[0],l[d-1]+r)})))._ondirectionchange=function(e){h(e)};var f=0;return e._addAlgorithm((function(e,n,r){var i=e.key;if("string"!=typeof i)return!1;var h=o(i);if(t(h,l,f))return!0;for(var p=null,g=f;g<d;++g){var y=function(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),s=-1,l=0;l<a;++l){var c=t[l];if(c!==r[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):0<=s?e.substr(0,s)+t[s]+n.substr(s+1):null;i(e[l],c)<0&&(s=l)}return a<r.length&&"next"===o?e+n.substr(e.length):a<e.length&&"prev"===o?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}(i,h,s[g],l[g],a,c);null===y&&null===p?f=g+1:(null===p||0<a(p,y))&&(p=y)}return n(null!==p?function(){e.continue(p+u)}:r),!1})),e}function Rt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Tt(e){return{type:1,lower:e,upper:e}}var It=(Object.defineProperty(Ft.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ft.prototype.between=function(e,t,n,r){n=!1!==n,r=!0===r;try{return 0<this._cmp(e,t)||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?jt(this):new this.Collection(this,(function(){return Rt(e,t,!n,!r)}))}catch(e){return Pt(this,Xe)}},Ft.prototype.equals=function(e){return null==e?Pt(this,Xe):new this.Collection(this,(function(){return Tt(e)}))},Ft.prototype.above=function(e){return null==e?Pt(this,Xe):new this.Collection(this,(function(){return Rt(e,void 0,!0)}))},Ft.prototype.aboveOrEqual=function(e){return null==e?Pt(this,Xe):new this.Collection(this,(function(){return Rt(e,void 0,!1)}))},Ft.prototype.below=function(e){return null==e?Pt(this,Xe):new this.Collection(this,(function(){return Rt(void 0,e,!1,!0)}))},Ft.prototype.belowOrEqual=function(e){return null==e?Pt(this,Xe):new this.Collection(this,(function(){return Rt(void 0,e)}))},Ft.prototype.startsWith=function(e){return"string"!=typeof e?Pt(this,et):this.between(e,e+Je,!0,!0)},Ft.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):Dt(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],Je)},Ft.prototype.equalsIgnoreCase=function(e){return Dt(this,(function(e,t){return e===t[0]}),[e],"")},Ft.prototype.anyOfIgnoreCase=function(){var e=F.apply(I,arguments);return 0===e.length?jt(this):Dt(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},Ft.prototype.startsWithAnyOfIgnoreCase=function(){var e=F.apply(I,arguments);return 0===e.length?jt(this):Dt(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,Je)},Ft.prototype.anyOf=function(){var e=this,t=F.apply(I,arguments),n=this._cmp;try{t.sort(n)}catch(r){return Pt(this,Xe)}if(0===t.length)return jt(this);var r=new this.Collection(this,(function(){return Rt(t[0],t[t.length-1])}));r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var i=0;return r._addAlgorithm((function(e,r,o){for(var a=e.key;0<n(a,t[i]);)if(++i===t.length)return r(o),!1;return 0===n(a,t[i])||(r((function(){e.continue(t[i])})),!1)})),r},Ft.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ft.prototype.noneOf=function(){var e=F.apply(I,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Pt(this,Xe)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},Ft.prototype.inAnyRange=function(e,t){var n=this,r=this._cmp,i=this._ascending,o=this._descending,a=this._min,s=this._max;if(0===e.length)return jt(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&i(e[0],e[1])<=0})))return Pt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",G.InvalidArgument);var l,c=!t||!1!==t.includeLowers,u=t&&!0===t.includeUppers,d=i;function h(e,t){return d(e[0],t[0])}try{(l=e.reduce((function(e,t){for(var n=0,i=e.length;n<i;++n){var o=e[n];if(r(t[0],o[1])<0&&0<r(t[1],o[0])){o[0]=a(o[0],t[0]),o[1]=s(o[1],t[1]);break}}return n===i&&e.push(t),e}),[])).sort(h)}catch(e){return Pt(this,Xe)}var f=0,p=u?function(e){return 0<i(e,l[f][1])}:function(e){return 0<=i(e,l[f][1])},g=c?function(e){return 0<o(e,l[f][0])}:function(e){return 0<=o(e,l[f][0])},y=p;return(e=new this.Collection(this,(function(){return Rt(l[0][0],l[l.length-1][1],!c,!u)})))._ondirectionchange=function(e){d="next"===e?(y=p,i):(y=g,o),l.sort(h)},e._addAlgorithm((function(e,t,r){for(var o,a=e.key;y(a);)if(++f===l.length)return t(r),!1;return!p(o=a)&&!g(o)||(0===n._cmp(a,l[f][1])||0===n._cmp(a,l[f][0])||t((function(){d===i?e.continue(l[f][0]):e.continue(l[f][1])})),!1)})),e},Ft.prototype.startsWithAnyOf=function(){var e=F.apply(I,arguments);return e.every((function(e){return"string"==typeof e}))?0===e.length?jt(this):this.inAnyRange(e.map((function(e){return[e,e+Je]}))):Pt(this,"startsWithAnyOf() only works with strings")},Ft);function Ft(){}function Lt(e){return Te((function(t){return Bt(t),e(t.target.error),!1}))}function Bt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Mt="storagemutated",Ut="x-storagemutated-1",zt=pt(null,Mt),Ht=(qt.prototype._lock=function(){return b(!ve.global),++this._reculock,1!==this._reculock||ve.global||(ve.lockOwnerFor=this),this},qt.prototype._unlock=function(){if(b(!ve.global),0==--this._reculock)for(ve.global||(ve.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{Ye(e[1],e[0])}catch(e){}}return this},qt.prototype._locked=function(){return this._reculock&&ve.lockOwnerFor!==this},qt.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(b(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new G.DatabaseClosed(r);case"MissingAPIError":throw new G.MissingAPI(r.message,r);default:throw new G.OpenFailed(r)}if(!this.active)throw new G.TransactionInactive;return b(null===this._completion._state),(e=this.idbtrans=e||(this.db.core||n).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Te((function(n){Bt(n),t._reject(e.error)})),e.onabort=Te((function(n){Bt(n),t.active&&t._reject(new G.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=Te((function(){t.active=!1,t._resolve(),"mutatedParts"in e&&zt.storagemutated.fire(e.mutatedParts)})),this},qt.prototype._promise=function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return $e(new G.ReadOnly("Transaction is readonly"));if(!this.active)return $e(new G.TransactionInactive);if(this._locked())return new Ee((function(i,o){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,o)},ve])}));if(n)return ze((function(){var e=new Ee((function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var i=new Ee((function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return i._lib=!0,i},qt.prototype._root=function(){return this.parent?this.parent._root():this},qt.prototype.waitFor=function(e){var t,n=this._root(),r=Ee.resolve(e);n._waitingFor?n._waitingFor=n._waitingFor.then((function(){return r})):(n._waitingFor=r,n._waitingQueue=[],t=n.idbtrans.objectStore(n.storeNames[0]),function e(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(t.get(-1/0).onsuccess=e)}());var i=n._waitingFor;return new Ee((function(e,t){r.then((function(t){return n._waitingQueue.push(Te(e.bind(null,t)))}),(function(e){return n._waitingQueue.push(Te(t.bind(null,e)))})).finally((function(){n._waitingFor===i&&(n._waitingFor=null)}))}))},qt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new G.Abort))},qt.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(u(t,e))return t[e];var n=this.schema[e];if(!n)throw new G.NotFound("Table "+e+" not part of transaction");return(n=new this.db.Table(e,n,this)).core=this.db.core.table(e),t[e]=n},qt);function qt(){}function Kt(e,t,n,r,i,o,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+Vt(t)}}function Vt(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Gt(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(r=function(e){return[e.name,e]},n.reduce((function(e,t,n){return(n=r(t,n))&&(e[n[0]]=n[1]),e}),{}))};var r}var Wt=function(e){try{return e.only([[]]),Wt=function(){return[[]]},[[]]}catch(e){return Wt=function(){return Je},Je}};function Yt(e){return null==e?function(){}:"string"==typeof e?1===(t=e).split(".").length?function(e){return e[t]}:function(e){return x(e,t)}:function(t){return x(t,e)};var t}function Zt(e){return[].slice.call(e)}var Qt=0;function $t(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")}function Jt(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=e.lower,r=e.upper,i=e.lowerOpen;return e=e.upperOpen,void 0===n?void 0===r?null:t.upperBound(r,!!e):void 0===r?t.lowerBound(n,!!i):t.bound(n,r,!!i,!!e)}function i(e){var t,n=e.name;return{name:n,schema:e,mutate:function(e){var t=e.trans,i=e.type,o=e.keys,a=e.values,s=e.range;return new Promise((function(e,l){e=Te(e);var c=t.objectStore(n),u=null==c.keyPath,d="put"===i||"add"===i;if(!d&&"delete"!==i&&"deleteRange"!==i)throw new Error("Invalid operation type: "+i);var h,f=(o||a||{length:1}).length;if(o&&a&&o.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===f)return e({numFailures:0,failures:{},results:[],lastResult:void 0});function p(e){++m,Bt(e)}var g=[],y=[],m=0;if("deleteRange"===i){if(4===s.type)return e({numFailures:m,failures:y,results:[],lastResult:void 0});3===s.type?g.push(h=c.clear()):g.push(h=c.delete(r(s)))}else{var v=(u=d?u?[a,o]:[a,null]:[o,null])[0],b=u[1];if(d)for(var w=0;w<f;++w)g.push(h=b&&void 0!==b[w]?c[i](v[w],b[w]):c[i](v[w])),h.onerror=p;else for(w=0;w<f;++w)g.push(h=c[i](v[w])),h.onerror=p}function x(t){t=t.target.result,g.forEach((function(e,t){return null!=e.error&&(y[t]=e.error)})),e({numFailures:m,failures:y,results:"delete"===i?o:g.map((function(e){return e.result})),lastResult:t})}h.onerror=function(e){p(e),x(e)},h.onsuccess=x}))},getMany:function(e){var t=e.trans,r=e.keys;return new Promise((function(e,i){e=Te(e);for(var o,a=t.objectStore(n),s=r.length,l=new Array(s),c=0,u=0,d=function(t){t=t.target,l[t._pos]=t.result,++u===c&&e(l)},h=Lt(i),f=0;f<s;++f)null!=r[f]&&((o=a.get(r[f]))._pos=f,o.onsuccess=d,o.onerror=h,++c);0===c&&e(l)}))},get:function(e){var t=e.trans,r=e.key;return new Promise((function(e,i){e=Te(e);var o=t.objectStore(n).get(r);o.onsuccess=function(t){return e(t.target.result)},o.onerror=Lt(i)}))},query:(t=u,function(e){return new Promise((function(i,o){i=Te(i);var a,s,l,c=e.trans,u=e.values,d=e.limit,h=e.query,f=d===1/0?void 0:d,p=h.index;if(h=h.range,c=c.objectStore(n),p=p.isPrimaryKey?c:c.index(p.name),h=r(h),0===d)return i({result:[]});t?((f=u?p.getAll(h,f):p.getAllKeys(h,f)).onsuccess=function(e){return i({result:e.target.result})},f.onerror=Lt(o)):(a=0,s=!u&&"openKeyCursor"in p?p.openKeyCursor(h):p.openCursor(h),l=[],s.onsuccess=function(e){var t=s.result;return t?(l.push(u?t.value:t.primaryKey),++a===d?i({result:l}):void t.continue()):i({result:l})},s.onerror=Lt(o))}))}),openCursor:function(e){var t=e.trans,i=e.values,o=e.query,a=e.reverse,s=e.unique;return new Promise((function(e,l){e=Te(e);var c=o.index,u=o.range,d=t.objectStore(n),h=(d=c.isPrimaryKey?d:d.index(c.name),c=a?s?"prevunique":"prev":s?"nextunique":"next",!i&&"openKeyCursor"in d?d.openKeyCursor(r(u),c):d.openCursor(r(u),c));h.onerror=Lt(l),h.onsuccess=Te((function(n){var r,i,o,a,s=h.result;s?(s.___id=++Qt,s.done=!1,r=s.continue.bind(s),i=(i=s.continuePrimaryKey)&&i.bind(s),o=s.advance.bind(s),a=function(){throw new Error("Cursor not stopped")},s.trans=t,s.stop=s.continue=s.continuePrimaryKey=s.advance=function(){throw new Error("Cursor not started")},s.fail=Te(l),s.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},s.start=function(e){function t(){if(h.result)try{e()}catch(e){s.fail(e)}else s.done=!0,s.start=function(){throw new Error("Cursor behind last entry")},s.stop()}var n=new Promise((function(e,t){e=Te(e),h.onerror=Lt(t),s.fail=t,s.stop=function(t){s.stop=s.continue=s.continuePrimaryKey=s.advance=a,e(t)}}));return h.onsuccess=Te((function(e){h.onsuccess=t,t()})),s.continue=r,s.continuePrimaryKey=i,s.advance=o,t(),n},e(s)):e(null)}),l)}))},count:function(e){var t=e.query,i=e.trans,o=t.index,a=t.range;return new Promise((function(e,t){var s=i.objectStore(n),l=o.isPrimaryKey?s:s.index(o.name);(l=(s=r(a))?l.count(s):l.count()).onsuccess=Te((function(t){return e(t.target.result)})),l.onerror=Lt(t)}))}}}var o,s,l,c=(s=n,l=Zt((o=e).objectStoreNames),{schema:{name:o.name,tables:l.map((function(e){return s.objectStore(e)})).map((function(e){var t=e.keyPath,n=e.autoIncrement,r=a(t),i={};return n={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==t,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:Yt(t)},indexes:Zt(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,n=e.unique,r=e.multiEntry;return e=e.keyPath,r={name:t,compound:a(e),keyPath:e,unique:n,multiEntry:r,extractKey:Yt(e)},i[$t(e)]=r})),getIndexByKeyPath:function(e){return i[$t(e)]}},i[":id"]=n.primaryKey,null!=t&&(i[$t(t)]=n.primaryKey),n}))},hasGetAll:0<l.length&&"getAll"in s.objectStore(l[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),u=(n=c.schema,c.hasGetAll),d=(c=n.tables.map(i),{});return c.forEach((function(e){return d[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!d[e])throw new Error("Table '".concat(e,"' not found"));return d[e]},MIN_KEY:-1/0,MAX_KEY:Wt(t),schema:n}}function Xt(e,n,r,i){var o=r.IDBKeyRange;return r.indexedDB,{dbcore:(i=Jt(n,o,i),e.dbcore.reduce((function(e,n){return n=n.create,t(t({},e),n(e))}),i))}}function en(e,t){var n=t.db;t=Xt(e._middlewares,n,e._deps,t),e.core=t.dbcore,e.tables.forEach((function(t){var n=t.name;e.core.schema.tables.some((function(e){return e.name===n}))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function tn(e,t,n,r){n.forEach((function(n){var i=r[n];t.forEach((function(t){var r=function e(t,n){return g(t,n)||(t=l(t))&&e(t,n)}(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?f(t,n,{get:function(){return this.table(n)},set:function(e){h(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,i))}))}))}function nn(e,t){t.forEach((function(t){for(var n in t)t[n]instanceof e.Table&&delete t[n]}))}function rn(e,t){return e._cfg.version-t._cfg.version}function on(e,t,n,r){var i=e._dbSchema;n.objectStoreNames.contains("$meta")&&!i.$meta&&(i.$meta=Gt("$meta",fn("")[0],[]),e._storeNames.push("$meta"));var a=e._createTransaction("readwrite",e._storeNames,i);a.create(n),a._completion.catch(r);var s=a._reject.bind(a),l=ve.transless||ve;ze((function(){return ve.trans=a,ve.transless=l,0!==t?(en(e,n),c=t,((r=a).storeNames.includes("$meta")?r.table("$meta").get("version").then((function(e){return null!=e?e:c})):Ee.resolve(c)).then((function(t){return i=t,s=a,l=n,c=[],t=(r=e)._versions,u=r._dbSchema=dn(0,r.idbdb,l),0!==(t=t.filter((function(e){return e._cfg.version>=i}))).length?(t.forEach((function(e){c.push((function(){var t=u,n=e._cfg.dbschema;hn(r,t,l),hn(r,n,l),u=r._dbSchema=n;var a=sn(t,n);a.add.forEach((function(e){ln(l,e[0],e[1].primKey,e[1].indexes)})),a.change.forEach((function(e){if(e.recreate)throw new G.Upgrade("Not yet support for changing primary key");var t=l.objectStore(e.name);e.add.forEach((function(e){return un(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),un(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var c=e._cfg.contentUpgrade;if(c&&e._cfg.version>i){en(r,l),s._memoizedTables={};var d=k(n);a.del.forEach((function(e){d[e]=t[e]})),nn(r,[r.Transaction.prototype]),tn(r,[r.Transaction.prototype],o(d),d),s.schema=d;var h,f=L(c);return f&&He(),a=Ee.follow((function(){var e;(h=c(s))&&f&&(e=qe.bind(null,null),h.then(e,e))})),h&&"function"==typeof h.then?Ee.resolve(h):a.then((function(){return h}))}})),c.push((function(t){var n,i,o=e._cfg.dbschema;n=o,i=t,[].slice.call(i.db.objectStoreNames).forEach((function(e){return null==n[e]&&i.db.deleteObjectStore(e)})),nn(r,[r.Transaction.prototype]),tn(r,[r.Transaction.prototype],r._storeNames,r._dbSchema),s.schema=r._dbSchema})),c.push((function(t){r.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(r.idbdb.version/10)===e._cfg.version?(r.idbdb.deleteObjectStore("$meta"),delete r._dbSchema.$meta,r._storeNames=r._storeNames.filter((function(e){return"$meta"!==e}))):t.objectStore("$meta").put(e._cfg.version,"version"))}))})),function e(){return c.length?Ee.resolve(c.shift()(s.idbtrans)).then(e):Ee.resolve()}().then((function(){cn(u,l)}))):Ee.resolve();var r,i,s,l,c,u})).catch(s)):(o(i).forEach((function(e){ln(n,e,i[e].primKey,i[e].indexes)})),en(e,n),void Ee.follow((function(){return e.on.populate.fire(a)})).catch(s));var r,c}))}function an(e,t){cn(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var n=dn(0,e.idbdb,t);hn(e,e._dbSchema,t);for(var r=0,i=sn(n,e._dbSchema).change;r<i.length;r++){var o=function(e){if(e.change.length||e.recreate)return console.warn("Unable to patch indexes of table ".concat(e.name," because it has changes on the type of index or primary key.")),{value:void 0};var n=t.objectStore(e.name);e.add.forEach((function(t){ie&&console.debug("Dexie upgrade patch: Creating missing index ".concat(e.name,".").concat(t.src)),un(n,t)}))}(i[r]);if("object"==typeof o)return o.value}}function sn(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],o=t[n];if(i){var a={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto)a.recreate=!0,r.change.push(a);else{var s=i.idxByName,l=o.idxByName,c=void 0;for(c in s)l[c]||a.del.push(c);for(c in l){var u=s[c],d=l[c];u?u.src!==d.src&&a.change.push(d):a.add.push(d)}(0<a.del.length||0<a.add.length||0<a.change.length)&&r.change.push(a)}}else r.add.push([n,o])}return r}function ln(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){return un(i,e)})),i}function cn(e,t){o(e).forEach((function(n){t.db.objectStoreNames.contains(n)||(ie&&console.debug("Dexie: Creating missing table",n),ln(t,n,e[n].primKey,e[n].indexes))}))}function un(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function dn(e,t,n){var r={};return m(t.objectStoreNames,0).forEach((function(e){for(var t=n.objectStore(e),i=Kt(Vt(s=t.keyPath),s||"",!0,!1,!!t.autoIncrement,s&&"string"!=typeof s,!0),o=[],a=0;a<t.indexNames.length;++a){var s=(l=t.index(t.indexNames[a])).keyPath,l=Kt(l.name,s,!!l.unique,!!l.multiEntry,!1,s&&"string"!=typeof s,!1);o.push(l)}r[e]=Gt(e,i,o)})),r}function hn(e,t,n){for(var r=n.db.objectStoreNames,o=0;o<r.length;++o){var a=r[o],s=n.objectStore(a);e._hasGetAll="getAll"in s;for(var l=0;l<s.indexNames.length;++l){var c=s.indexNames[l],u=s.index(c).keyPath,d="string"==typeof u?u:"["+m(u).join("+")+"]";!t[a]||(u=t[a].idxByName[d])&&(u.name=c,delete t[a].idxByName[d],t[a].idxByName[c]=u)}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function fn(e){return e.split(",").map((function(e,t){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Kt(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),a(r),0===t)}))}var pn=(gn.prototype._parseStoresSpec=function(e,t){o(e).forEach((function(n){if(null!==e[n]){var r=fn(e[n]),i=r.shift();if(i.unique=!0,i.multi)throw new G.Schema("Primary key cannot be multi-valued");r.forEach((function(e){if(e.auto)throw new G.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new G.Schema("Index must have a name and cannot be an empty string")})),t[n]=Gt(n,i,r)}}))},gn.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,e):e,e=t._versions;var n={},r={};return e.forEach((function(e){s(n,e._cfg.storesSource),r=e._cfg.dbschema={},e._parseStoresSpec(n,r)})),t._dbSchema=r,nn(t,[t._allTables,t,t.Transaction.prototype]),tn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],o(r),r),t._storeNames=o(r),this},gn.prototype.upgrade=function(e){return this._cfg.contentUpgrade=re(this._cfg.contentUpgrade||Z,e),this},gn);function gn(){}function yn(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new tr(nt,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function mn(e){return e&&"function"==typeof e.databases}function vn(e){return ze((function(){return ve.letThrough=!0,e()}))}function bn(e){return!("from"in e)}var wn=function(e,t){if(!this){var n=new wn;return e&&"d"in e&&s(n,e),n}s(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function xn(e,t,n){var r=ct(t,n);if(!isNaN(r)){if(0<r)throw RangeError();if(bn(e))return s(e,{from:t,to:n,d:1});var i=e.l;if(r=e.r,ct(n,e.from)<0)return i?xn(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Sn(e);if(0<ct(t,e.to))return r?xn(r,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Sn(e);ct(t,e.from)<0&&(e.from=t,e.l=null,e.d=r?r.d+1:1),0<ct(n,e.to)&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1),n=!e.r,i&&!e.l&&En(e,i),r&&n&&En(e,r)}}function En(e,t){bn(t)||function e(t,n){var r=n.from,i=n.to,o=n.l;n=n.r,xn(t,r,i),o&&e(t,o),n&&e(t,n)}(e,t)}function kn(e,t){var n=_n(t),r=n.next();if(r.done)return!1;for(var i=r.value,o=_n(e),a=o.next(i.from),s=a.value;!r.done&&!a.done;){if(ct(s.from,i.to)<=0&&0<=ct(s.to,i.from))return!0;ct(i.from,s.from)<0?i=(r=n.next(s.from)).value:s=(a=o.next(i.from)).value}return!1}function _n(e){var t=bn(e)?null:{s:0,n:e};return{next:function(e){for(var n=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&ct(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||ct(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Sn(e){var n,r,i=((null===(n=e.r)||void 0===n?void 0:n.d)||0)-((null===(r=e.l)||void 0===r?void 0:r.d)||0),o=1<i?"r":i<-1?"l":"";o&&(n="r"==o?"l":"r",r=t({},e),i=e[o],e.from=i.from,e.to=i.to,e[o]=i[o],r[o]=i[n],(e[n]=r).d=Cn(r)),e.d=Cn(e)}function Cn(e){var t=e.r;return e=e.l,(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}function An(e,t){return o(t).forEach((function(n){e[n]?En(e[n],t[n]):e[n]=function e(t){var n,r,i={};for(n in t)u(t,n)&&(r=t[n],i[n]=!r||"object"!=typeof r||A.has(r.constructor)?r:e(r));return i}(t[n])})),e}function On(e,t){return e.all||t.all||Object.keys(e).some((function(n){return t[n]&&kn(t[n],e[n])}))}d(wn.prototype,((B={add:function(e){return En(this,e),this},addKey:function(e){return xn(this,e,e),this},addKeys:function(e){var t=this;return e.forEach((function(e){return xn(t,e,e)})),this},hasKey:function(e){var t=_n(this).next(e).value;return t&&ct(t.from,e)<=0&&0<=ct(t.to,e)}})[D]=function(){return _n(this)},B));var Nn={},Pn={},jn=!1;function Dn(e){An(Pn,e),jn||(jn=!0,setTimeout((function(){jn=!1,Rn(Pn,!(Pn={}))}),0))}function Rn(e,t){void 0===t&&(t=!1);var n=new Set;if(e.all)for(var r=0,i=Object.values(Nn);r<i.length;r++)Tn(a=i[r],e,n,t);else for(var o in e){var a,s=/^idb\:\/\/(.*)\/(.*)\//.exec(o);s&&(o=s[1],s=s[2],(a=Nn["idb://".concat(o,"/").concat(s)])&&Tn(a,e,n,t))}n.forEach((function(e){return e()}))}function Tn(e,t,n,r){for(var i=[],o=0,a=Object.entries(e.queries.query);o<a.length;o++){for(var s=a[o],l=s[0],c=[],u=0,d=s[1];u<d.length;u++){var h=d[u];On(t,h.obsSet)?h.subscribers.forEach((function(e){return n.add(e)})):r&&c.push(h)}r&&i.push([l,c])}if(r)for(var f=0,p=i;f<p.length;f++){var g=p[f];l=g[0],c=g[1],e.queries.query[l]=c}}function In(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((function(){return t.dbOpenError?$e(t.dbOpenError):e}));t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller,i=Math.round(10*e.verno),a=!1;function s(){if(t.openCanceller!==r)throw new G.DatabaseClosed("db.open() was cancelled")}function l(){return new Ee((function(r,c){if(s(),!n)throw new G.MissingAPI;var u=e.name,f=t.autoSchema||!i?n.open(u):n.open(u,i);if(!f)throw new G.MissingAPI;f.onerror=Lt(c),f.onblocked=Te(e._fireOnBlocked),f.onupgradeneeded=Te((function(r){var i;d=f.transaction,t.autoSchema&&!e._options.allowEmptyDB?(f.onerror=Bt,d.abort(),f.result.close(),(i=n.deleteDatabase(u)).onsuccess=i.onerror=Te((function(){c(new G.NoSuchDatabase("Database ".concat(u," doesnt exist")))}))):(d.onerror=Lt(c),r=r.oldVersion>Math.pow(2,62)?0:r.oldVersion,h=r<1,e.idbdb=f.result,a&&an(e,d),on(e,r/10,d,c))}),c),f.onsuccess=Te((function(){d=null;var n,s,c,p,g,y=e.idbdb=f.result,v=m(y.objectStoreNames);if(0<v.length)try{var b=y.transaction(1===(p=v).length?p[0]:p,"readonly");if(t.autoSchema)s=y,c=b,(n=e).verno=s.version/10,c=n._dbSchema=dn(0,s,c),n._storeNames=m(s.objectStoreNames,0),tn(n,[n._allTables],o(c),c);else if(hn(e,e._dbSchema,b),((g=sn(dn(0,(g=e).idbdb,b),g._dbSchema)).add.length||g.change.some((function(e){return e.add.length||e.change.length})))&&!a)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),y.close(),i=y.version+1,a=!0,r(l());en(e,b)}catch(n){}tt.push(e),y.onversionchange=Te((function(n){t.vcFired=!0,e.on("versionchange").fire(n)})),y.onclose=Te((function(t){e.on("close").fire(t)})),h&&(g=e._deps,b=u,y=g.indexedDB,g=g.IDBKeyRange,mn(y)||b===nt||yn(y,g).put({name:b}).catch(Z)),r()}),c)})).catch((function(e){switch(null==e?void 0:e.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),l();break;case"VersionError":if(0<i)return i=0,l()}return Ee.reject(e)}))}var c,u=t.dbReadyResolve,d=null,h=!1;return Ee.race([r,("undefined"==typeof navigator?Ee.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){function t(){return indexedDB.databases().finally(e)}c=setInterval(t,100),t()})).finally((function(){return clearInterval(c)})):Promise.resolve()).then(l)]).then((function(){return s(),t.onReadyBeingFired=[],Ee.resolve(vn((function(){return e.on.ready.fire(e.vip)}))).then((function n(){if(0<t.onReadyBeingFired.length){var r=t.onReadyBeingFired.reduce(re,Z);return t.onReadyBeingFired=[],Ee.resolve(vn((function(){return r(e.vip)}))).then(n)}}))})).finally((function(){t.openCanceller===r&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)})).catch((function(n){t.dbOpenError=n;try{d&&d.abort()}catch(n){}return r===t.openCanceller&&e._close(),$e(n)})).finally((function(){t.openComplete=!0,u()})).then((function(){var t;return h&&(t={},e.tables.forEach((function(n){n.schema.indexes.forEach((function(r){r.name&&(t["idb://".concat(e.name,"/").concat(n.name,"/").concat(r.name)]=new wn(-1/0,[[[]]]))})),t["idb://".concat(e.name,"/").concat(n.name,"/")]=t["idb://".concat(e.name,"/").concat(n.name,"/:dels")]=new wn(-1/0,[[[]]])})),zt(Mt).fire(t),Rn(t,!0)),e}))}function Fn(e){function t(t){return e.next(t)}var n=i(t),r=i((function(t){return e.throw(t)}));function i(e){return function(t){var i=e(t);return t=i.value,i.done?t:t&&"function"==typeof t.then?t.then(n,r):a(t)?Promise.all(t).then(n,r):n(t)}}return i(t)()}function Ln(e,t,n){for(var r=a(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}var Bn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return t(t({},e),{table:function(n){var r=e.table(n),i=r.schema,o={},a=[];function s(e,n,r){var i=$t(e),l=o[i]=o[i]||[],c=null==e?0:"string"==typeof e?1:e.length,u=0<n;return u=t(t({},r),{name:u?"".concat(i,"(virtual-from:").concat(r.name,")"):r.name,lowLevelIndex:r,isVirtual:u,keyTail:n,keyLength:c,extractKey:Yt(e),unique:!u&&r.unique}),l.push(u),u.isPrimaryKey||a.push(u),1<c&&s(2===c?e[0]:e.slice(0,c-1),n+1,r),l.sort((function(e,t){return e.keyTail-t.keyTail})),u}n=s(i.primaryKey.keyPath,0,i.primaryKey),o[":id"]=[n];for(var l=0,c=i.indexes;l<c.length;l++){var u=c[l];s(u.keyPath,0,u)}function d(n){var r,i=n.query.index;return i.isVirtual?t(t({},n),{query:{index:i.lowLevelIndex,range:(r=n.query.range,i=i.keyTail,{type:1===r.type?2:r.type,lower:Ln(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:!0,upper:Ln(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:!0})}}):n}return t(t({},r),{schema:t(t({},i),{primaryKey:n,indexes:a,getIndexByKeyPath:function(e){return(e=o[$t(e)])&&e[0]}}),count:function(e){return r.count(d(e))},query:function(e){return r.query(d(e))},openCursor:function(t){var n=t.query.index,i=n.keyTail,o=n.isVirtual,a=n.keyLength;return o?r.openCursor(d(t)).then((function(e){return e&&s(e)})):r.openCursor(t);function s(n){return Object.create(n,{continue:{value:function(r){null!=r?n.continue(Ln(r,t.reverse?e.MAX_KEY:e.MIN_KEY,i)):t.unique?n.continue(n.key.slice(0,a).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,i)):n.continue()}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(Ln(t,e.MAX_KEY,i),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var e=n.key;return 1===a?e[0]:e.slice(0,a)}},value:{get:function(){return n.value}}})}}})}})}};function Mn(e,t,n,r){return n=n||{},r=r||"",o(e).forEach((function(i){var o,a,s;u(t,i)?(o=e[i],a=t[i],"object"==typeof o&&"object"==typeof a&&o&&a?(s=j(o))!==j(a)?n[r+i]=t[i]:"Object"===s?Mn(o,a,n,r+i+"."):o!==a&&(n[r+i]=t[i]):o!==a&&(n[r+i]=t[i])):n[r+i]=void 0})),o(t).forEach((function(i){u(e,i)||(n[r+i]=t[i])})),n}function Un(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}var zn={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return t(t({},e),{table:function(n){var i=e.table(n),o=i.schema.primaryKey;return t(t({},i),{mutate:function(e){var a=ve.trans,s=a.table(n).hook,l=s.deleting,c=s.creating,d=s.updating;switch(e.type){case"add":if(c.fire===Z)break;return a._promise("readwrite",(function(){return h(e)}),!0);case"put":if(c.fire===Z&&d.fire===Z)break;return a._promise("readwrite",(function(){return h(e)}),!0);case"delete":if(l.fire===Z)break;return a._promise("readwrite",(function(){return h(e)}),!0);case"deleteRange":if(l.fire===Z)break;return a._promise("readwrite",(function(){return function e(n,r,a){return i.query({trans:n,values:!1,query:{index:o,range:r},limit:a}).then((function(i){var o=i.result;return h({type:"delete",keys:o,trans:n}).then((function(i){return 0<i.numFailures?Promise.reject(i.failures[0]):o.length<a?{failures:[],numFailures:0,lastResult:void 0}:e(n,t(t({},r),{lower:o[o.length-1],lowerOpen:!0}),a)}))}))}(e.trans,e.range,1e4)}),!0)}return i.mutate(e);function h(e){var n,a,s,h=ve.trans,f=e.keys||Un(o,e);if(!f)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?t(t({},e),{keys:f}):t({},e)).type&&(e.values=r([],e.values,!0)),e.keys&&(e.keys=r([],e.keys,!0)),n=i,s=f,("add"===(a=e).type?Promise.resolve([]):n.getMany({trans:a.trans,keys:s,cache:"immutable"})).then((function(t){var n=f.map((function(n,r){var i,a,s,f=t[r],p={onerror:null,onsuccess:null};return"delete"===e.type?l.fire.call(p,n,f,h):"add"===e.type||void 0===f?(i=c.fire.call(p,n,e.values[r],h),null==n&&null!=i&&(e.keys[r]=n=i,o.outbound||E(e.values[r],o.keyPath,n))):(i=Mn(f,e.values[r]),(a=d.fire.call(p,i,n,f,h))&&(s=e.values[r],Object.keys(a).forEach((function(e){u(s,e)?s[e]=a[e]:E(s,e,a[e])})))),p}));return i.mutate(e).then((function(r){for(var i=r.failures,o=r.results,a=r.numFailures,s=(r=r.lastResult,0);s<f.length;++s){var l=(o||f)[s],c=n[s];null==l?c.onerror&&c.onerror(i[s]):c.onsuccess&&c.onsuccess("put"===e.type&&t[s]?e.values[s]:l)}return{failures:i,results:o,numFailures:a,lastResult:r}})).catch((function(e){return n.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))}}})}})}};function Hn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;for(var r=[],i=0,o=0;i<t.keys.length&&o<e.length;++i)0===ct(t.keys[i],e[o])&&(r.push(n?N(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch(e){return null}}var qn={stack:"dbcore",level:-1,create:function(e){return{table:function(n){var r=e.table(n);return t(t({},r),{getMany:function(e){if(!e.cache)return r.getMany(e);var t=Hn(e.keys,e.trans._cache,"clone"===e.cache);return t?Ee.resolve(t):r.getMany(e).then((function(t){return e.trans._cache={keys:e.keys,values:"clone"===e.cache?N(t):t},t}))},mutate:function(e){return"add"!==e.type&&(e.trans._cache=null),r.mutate(e)}})}}}};function Kn(e,t){return"readonly"===e.trans.mode&&!!e.subscr&&!e.trans.explicit&&"disabled"!==e.trans.db._options.cache&&!t.schema.primaryKey.outbound}function Vn(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Gn={stack:"dbcore",level:0,name:"Observability",create:function(e){var n=e.schema.name,r=new wn(e.MIN_KEY,e.MAX_KEY);return t(t({},e),{transaction:function(t,n,r){if(ve.subscr&&"readonly"!==n)throw new G.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ve.querier));return e.transaction(t,n,r)},table:function(i){var s=e.table(i),l=s.schema,c=l.primaryKey,u=l.indexes,d=c.extractKey,h=c.outbound,f=c.autoIncrement&&u.filter((function(e){return e.compound&&e.keyPath.includes(c.keyPath)})),p=t(t({},s),{mutate:function(t){function o(e){return e="idb://".concat(n,"/").concat(i,"/").concat(e),g[e]||(g[e]=new wn)}var u,d,h,p=t.trans,g=t.mutatedParts||(t.mutatedParts={}),y=o(""),m=o(":dels"),v=t.type,b="deleteRange"===t.type?[t.range]:"delete"===t.type?[t.keys]:t.values.length<50?[Un(c,t).filter((function(e){return e})),t.values]:[],w=b[0],x=b[1];return b=t.trans._cache,a(w)?(y.addKeys(w),(b="delete"===v||w.length===x.length?Hn(w,b):null)||m.addKeys(w),(b||x)&&(u=o,d=b,h=x,l.indexes.forEach((function(e){var t=u(e.name||"");function n(t){return null!=t?e.extractKey(t):null}function r(n){return e.multiEntry&&a(n)?n.forEach((function(e){return t.addKey(e)})):t.addKey(n)}(d||h).forEach((function(e,t){var i=d&&n(d[t]);0!==ct(i,t=h&&n(h[t]))&&(null!=i&&r(i),null!=t&&r(t))}))})))):w?(x={from:null!==(x=w.lower)&&void 0!==x?x:e.MIN_KEY,to:null!==(x=w.upper)&&void 0!==x?x:e.MAX_KEY},m.add(x),y.add(x)):(y.add(r),m.add(r),l.indexes.forEach((function(e){return o(e.name).add(r)}))),s.mutate(t).then((function(e){return!w||"add"!==t.type&&"put"!==t.type||(y.addKeys(e.results),f&&f.forEach((function(n){for(var r=t.values.map((function(e){return n.extractKey(e)})),i=n.keyPath.findIndex((function(e){return e===c.keyPath})),a=0,s=e.results.length;a<s;++a)r[a][i]=e.results[a];o(n.name).addKeys(r)}))),p.mutatedParts=An(p.mutatedParts||{},g),e}))}}),g=(u=function(t){t=(n=t.query).index;var n=n.range;return[t,new wn(null!==(t=n.lower)&&void 0!==t?t:e.MIN_KEY,null!==(n=n.upper)&&void 0!==n?n:e.MAX_KEY)]},{get:function(e){return[c,new wn(e.key)]},getMany:function(e){return[c,(new wn).addKeys(e.keys)]},count:u,query:u,openCursor:u});return o(g).forEach((function(e){p[e]=function(o){var a=!!(p=ve.subscr),l=Kn(ve,s)&&Vn(e,o)?o.obsSet={}:p;if(a){var c=function(e){return e="idb://".concat(n,"/").concat(i,"/").concat(e),l[e]||(l[e]=new wn)},u=c(""),f=c(":dels"),p=(a=(p=g[e](o))[0],p[1]);if(("query"===e&&a.isPrimaryKey&&!o.values?f:c(a.name||"")).add(p),!a.isPrimaryKey){if("count"!==e){var y="query"===e&&h&&o.values&&s.query(t(t({},o),{values:!1}));return s[e].apply(this,arguments).then((function(t){if("query"===e){if(h&&o.values)return y.then((function(e){return e=e.result,u.addKeys(e),t}));var n=o.values?t.result.map(d):t.result;(o.values?u:f).addKeys(n)}else if("openCursor"===e){var r=t,i=o.values;return r&&Object.create(r,{key:{get:function(){return f.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var e=r.primaryKey;return f.addKey(e),e}},value:{get:function(){return i&&u.addKey(r.primaryKey),r.value}}})}return t}))}f.add(r)}}return s[e].apply(this,arguments)}})),p}})}};function Wn(e,n,r){if(0===r.numFailures)return n;if("deleteRange"===n.type)return null;var i=n.keys?n.keys.length:"values"in n&&n.values?n.values.length:1;return r.numFailures===i?null:(n=t({},n),a(n.keys)&&(n.keys=n.keys.filter((function(e,t){return!(t in r.failures)}))),"values"in n&&a(n.values)&&(n.values=n.values.filter((function(e,t){return!(t in r.failures)}))),n)}function Yn(e,t){return n=e,(void 0===(r=t).lower||(r.lowerOpen?0<ct(n,r.lower):0<=ct(n,r.lower)))&&(void 0===t.upper||(t.upperOpen?ct(e,t.upper)<0:ct(e,t.upper)<=0));var n,r}function Zn(e,t,n,r,i,o){if(!n||0===n.length)return e;var s=t.query.index,l=s.multiEntry,c=t.query.range,u=r.schema.primaryKey.extractKey,d=s.extractKey,h=(s.lowLevelIndex||s).extractKey;return n=n.reduce((function(e,n){var r=e,i=[];if("add"===n.type||"put"===n.type)for(var o=new wn,s=n.values.length-1;0<=s;--s){var h,f=n.values[s],p=u(f);o.hasKey(p)||(h=d(f),(l&&a(h)?h.some((function(e){return Yn(e,c)})):Yn(h,c))&&(o.addKey(p),i.push(f)))}switch(n.type){case"add":var g=(new wn).addKeys(t.values?e.map((function(e){return u(e)})):e);r=e.concat(t.values?i.filter((function(e){return e=u(e),!g.hasKey(e)&&(g.addKey(e),!0)})):i.map((function(e){return u(e)})).filter((function(e){return!g.hasKey(e)&&(g.addKey(e),!0)})));break;case"put":var y=(new wn).addKeys(n.values.map((function(e){return u(e)})));r=e.filter((function(e){return!y.hasKey(t.values?u(e):e)})).concat(t.values?i:i.map((function(e){return u(e)})));break;case"delete":var m=(new wn).addKeys(n.keys);r=e.filter((function(e){return!m.hasKey(t.values?u(e):e)}));break;case"deleteRange":var v=n.range;r=e.filter((function(e){return!Yn(u(e),v)}))}return r}),e),n===e?e:(n.sort((function(e,t){return ct(h(e),h(t))||ct(u(e),u(t))})),t.limit&&t.limit<1/0&&(n.length>t.limit?n.length=t.limit:e.length===t.limit&&n.length<t.limit&&(i.dirty=!0)),o?Object.freeze(n):n)}function Qn(e,t){return 0===ct(e.lower,t.lower)&&0===ct(e.upper,t.upper)&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function $n(e,t){return function(e,t,n,r){if(void 0===e)return void 0!==t?-1:0;if(void 0===t)return 1;if(0===(t=ct(e,t))){if(n&&r)return 0;if(n)return 1;if(r)return-1}return t}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=function(e,t,n,r){if(void 0===e)return void 0!==t?1:0;if(void 0===t)return-1;if(0===(t=ct(e,t))){if(n&&r)return 0;if(n)return-1;if(r)return 1}return t}(e.upper,t.upper,e.upperOpen,t.upperOpen)}function Jn(e,t,n,r){e.subscribers.add(n),r.addEventListener("abort",(function(){var r,i;e.subscribers.delete(n),0===e.subscribers.size&&(r=e,i=t,setTimeout((function(){0===r.subscribers.size&&T(i,r)}),3e3))}))}var Xn={stack:"dbcore",level:0,name:"Cache",create:function(e){var n=e.schema.name;return t(t({},e),{transaction:function(t,r,i){var o,a,s=e.transaction(t,r,i);return"readwrite"===r&&(a=(o=new AbortController).signal,i=function(i){return function(){if(o.abort(),"readwrite"===r){for(var a=new Set,l=0,c=t;l<c.length;l++){var u=c[l],d=Nn["idb://".concat(n,"/").concat(u)];if(d){var h=e.table(u),f=d.optimisticOps.filter((function(e){return e.trans===s}));if(s._explicit&&i&&s.mutatedParts)for(var p=0,g=Object.values(d.queries.query);p<g.length;p++)for(var y=0,m=(w=g[p]).slice();y<m.length;y++)On((x=m[y]).obsSet,s.mutatedParts)&&(T(w,x),x.subscribers.forEach((function(e){return a.add(e)})));else if(0<f.length){d.optimisticOps=d.optimisticOps.filter((function(e){return e.trans!==s}));for(var v=0,b=Object.values(d.queries.query);v<b.length;v++)for(var w,x,E,k=0,_=(w=b[v]).slice();k<_.length;k++)null!=(x=_[k]).res&&s.mutatedParts&&(i&&!x.dirty?(E=Object.isFrozen(x.res),E=Zn(x.res,x.req,f,h,x,E),x.dirty?(T(w,x),x.subscribers.forEach((function(e){return a.add(e)}))):E!==x.res&&(x.res=E,x.promise=Ee.resolve({result:E}))):(x.dirty&&T(w,x),x.subscribers.forEach((function(e){return a.add(e)}))))}}}a.forEach((function(e){return e()}))}}},s.addEventListener("abort",i(!1),{signal:a}),s.addEventListener("error",i(!1),{signal:a}),s.addEventListener("complete",i(!0),{signal:a})),s},table:function(r){var i=e.table(r),o=i.schema.primaryKey;return t(t({},i),{mutate:function(e){var a=ve.trans;if(o.outbound||"disabled"===a.db._options.cache||a.explicit||"readwrite"!==a.idbtrans.mode)return i.mutate(e);var s=Nn["idb://".concat(n,"/").concat(r)];return s?(a=i.mutate(e),"add"!==e.type&&"put"!==e.type||!(50<=e.values.length||Un(o,e).some((function(e){return null==e})))?(s.optimisticOps.push(e),e.mutatedParts&&Dn(e.mutatedParts),a.then((function(t){0<t.numFailures&&(T(s.optimisticOps,e),(t=Wn(0,e,t))&&s.optimisticOps.push(t),e.mutatedParts&&Dn(e.mutatedParts))})),a.catch((function(){T(s.optimisticOps,e),e.mutatedParts&&Dn(e.mutatedParts)}))):a.then((function(n){var r=Wn(0,t(t({},e),{values:e.values.map((function(e,r){var i;return n.failures[r]||E(e=null!==(i=o.keyPath)&&void 0!==i&&i.includes(".")?N(e):t({},e),o.keyPath,n.results[r]),e}))}),n);s.optimisticOps.push(r),queueMicrotask((function(){return e.mutatedParts&&Dn(e.mutatedParts)}))})),a):i.mutate(e)},query:function(e){if(!Kn(ve,i)||!Vn("query",e))return i.query(e);var t="immutable"===(null===(s=ve.trans)||void 0===s?void 0:s.db._options.cache),o=(c=ve).requery,a=c.signal,s=function(e,t,n,r){var i=Nn["idb://".concat(e,"/").concat(t)];if(!i)return[];if(!(t=i.queries[n]))return[null,!1,i,null];var o=t[(r.query?r.query.index.name:null)||""];if(!o)return[null,!1,i,null];switch(n){case"query":var a=o.find((function(e){return e.req.limit===r.limit&&e.req.values===r.values&&Qn(e.req.query.range,r.query.range)}));return a?[a,!0,i,o]:[o.find((function(e){return("limit"in e.req?e.req.limit:1/0)>=r.limit&&(!r.values||e.req.values)&&$n(e.req.query.range,r.query.range)})),!1,i,o];case"count":return a=o.find((function(e){return Qn(e.req.query.range,r.query.range)})),[a,!!a,i,o]}}(n,r,"query",e),l=s[0],c=s[1],u=s[2],d=s[3];return l&&c?l.obsSet=e.obsSet:(c=i.query(e).then((function(e){var n=e.result;if(l&&(l.res=n),t){for(var r=0,i=n.length;r<i;++r)Object.freeze(n[r]);Object.freeze(n)}else e.result=N(n);return e})).catch((function(e){return d&&l&&T(d,l),Promise.reject(e)})),l={obsSet:e.obsSet,promise:c,subscribers:new Set,type:"query",req:e,dirty:!1},d?d.push(l):(d=[l],(u=u||(Nn["idb://".concat(n,"/").concat(r)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[e.query.index.name||""]=d)),Jn(l,d,o,a),l.promise.then((function(n){return{result:Zn(n.result,e,null==u?void 0:u.optimisticOps,i,l,t)}}))}})}})}};function er(e,t){return new Proxy(e,{get:function(e,n,r){return"db"===n?t:Reflect.get(e,n,r)}})}var tr=(nr.prototype.version=function(e){if(isNaN(e)||e<.1)throw new G.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new G.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter((function(t){return t._cfg.version===e}))[0];return n||(n=new this.Version(e),t.push(n),t.sort(rn),n.stores({}),this._state.autoSchema=!1,n)},nr.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||ve.letThrough||this._vip)?e():new Ee((function(e,n){if(t._state.openComplete)return n(new G.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void n(new G.DatabaseClosed);t.open().catch(Z)}t._state.dbReadyPromise.then(e,n)})).then(e)},nr.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,i=e.name;return i&&this.unuse({stack:t,name:i}),(e=this._middlewares[t]||(this._middlewares[t]=[])).push({stack:t,create:n,level:null==r?10:r,name:i}),e.sort((function(e,t){return e.level-t.level})),this},nr.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return r?e.create!==r:!!n&&e.name!==n}))),this},nr.prototype.open=function(){var e=this;return Ye(me,(function(){return In(e)}))},nr.prototype._close=function(){var e=this._state,t=tt.indexOf(this);if(0<=t&&tt.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(t){}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new Ee((function(t){e.dbReadyResolve=t})),e.openCanceller=new Ee((function(t,n){e.cancelOpen=n})))},nr.prototype.close=function(e){var t=(void 0===e?{disableAutoOpen:!0}:e).disableAutoOpen;e=this._state,t?(e.isBeingOpened&&e.cancelOpen(new G.DatabaseClosed),this._close(),e.autoOpen=!1,e.dbOpenError=new G.DatabaseClosed):(this._close(),e.autoOpen=this._options.autoOpen||e.isBeingOpened,e.openComplete=!1,e.dbOpenError=null)},nr.prototype.delete=function(e){var t=this;void 0===e&&(e={disableAutoOpen:!0});var n=0<arguments.length&&"object"!=typeof arguments[0],r=this._state;return new Ee((function(i,o){function a(){t.close(e);var n=t._deps.indexedDB.deleteDatabase(t.name);n.onsuccess=Te((function(){var e,n,r;e=t._deps,n=t.name,r=e.indexedDB,e=e.IDBKeyRange,mn(r)||n===nt||yn(r,e).delete(n).catch(Z),i()})),n.onerror=Lt(o),n.onblocked=t._fireOnBlocked}if(n)throw new G.InvalidArgument("Invalid closeOptions argument to db.delete()");r.isBeingOpened?r.dbReadyPromise.then(a):a()}))},nr.prototype.backendDB=function(){return this.idbdb},nr.prototype.isOpen=function(){return null!==this.idbdb},nr.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},nr.prototype.hasFailed=function(){return null!==this._state.dbOpenError},nr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(nr.prototype,"tables",{get:function(){var e=this;return o(this._allTables).map((function(t){return e._allTables[t]}))},enumerable:!1,configurable:!0}),nr.prototype.transaction=function(){var e=function(e,t,n){var r=arguments.length;if(r<2)throw new G.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,S(i),n]}.apply(this,arguments);return this._transaction.apply(this,e)},nr.prototype._transaction=function(e,t,n){var r=this,i=ve.trans;i&&i.db===this&&-1===e.indexOf("!")||(i=null);var o,a,s=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(a=t.map((function(e){if("string"!=typeof(e=e instanceof r.Table?e.name:e))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e})),"r"==e||e===rt)o=rt;else{if("rw"!=e&&e!=it)throw new G.InvalidArgument("Invalid transaction mode: "+e);o=it}if(i){if(i.mode===rt&&o===it){if(!s)throw new G.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach((function(e){if(i&&-1===i.storeNames.indexOf(e)){if(!s)throw new G.SubTransaction("Table "+e+" not included in parent transaction.");i=null}})),s&&i&&!i.active&&(i=null)}}catch(n){return i?i._promise(null,(function(e,t){t(n)})):$e(n)}var l=function e(t,n,r,i,o){return Ee.resolve().then((function(){var a=ve.transless||ve,s=t._createTransaction(n,r,t._dbSchema,i);if(s.explicit=!0,a={trans:s,transless:a},i)s.idbtrans=i.idbtrans;else try{s.create(),s.idbtrans._explicit=!0,t._state.PR1398_maxLoop=3}catch(a){return a.name===K.InvalidState&&t.isOpen()&&0<--t._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then((function(){return e(t,n,r,null,o)}))):$e(a)}var l,c=L(o);return c&&He(),a=Ee.follow((function(){var e;(l=o.call(s,s))&&(c?(e=qe.bind(null,null),l.then(e,e)):"function"==typeof l.next&&"function"==typeof l.throw&&(l=Fn(l)))}),a),(l&&"function"==typeof l.then?Ee.resolve(l).then((function(e){return s.active?e:$e(new G.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):a.then((function(){return l}))).then((function(e){return i&&s._resolve(),s._completion.then((function(){return e}))})).catch((function(e){return s._reject(e),$e(e)}))}))}.bind(null,this,o,a,i,n);return i?i._promise(o,l,"lock"):ve.trans?Ye(ve.transless,(function(){return r._whenReady(l)})):this._whenReady(l)},nr.prototype.table=function(e){if(!u(this._allTables,e))throw new G.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},nr);function nr(e,n){var r=this;this._middlewares={},this.verno=0;var i=nr.dependencies;this._options=n=t({addons:nr.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange,cache:"cloned"},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange},i=n.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o,a,s,l,c,u={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Z,dbReadyPromise:null,cancelOpen:Z,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:n.autoOpen};u.dbReadyPromise=new Ee((function(e){u.dbReadyResolve=e})),u.openCanceller=new Ee((function(e,t){u.cancelOpen=t})),this._state=u,this.name=e,this.on=pt(this,"populate","blocked","versionchange","close",{ready:[re,Z]}),this.on.ready.subscribe=v(this.on.ready.subscribe,(function(e){return function(t,n){nr.vip((function(){var i,o=r._state;o.openComplete?(o.dbOpenError||Ee.resolve().then(t),n&&e(t)):o.onReadyBeingFired?(o.onReadyBeingFired.push(t),n&&e(t)):(e(t),i=r,n||e((function e(){i.on.ready.unsubscribe(t),i.on.ready.unsubscribe(e)})))}))}})),this.Collection=(o=this,gt(St.prototype,(function(e,t){this.db=o;var n=at,r=null;if(t)try{n=t()}catch(e){r=e}var i=e._ctx;e=(t=i.table).hook.reading.fire,this._ctx={table:t,index:i.index,isPrimKey:!i.index||t.schema.primKey.keyPath&&i.index===t.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:e!==Q?e:null}}))),this.Table=(a=this,gt(ht.prototype,(function(e,t,n){this.db=a,this._tx=n,this.name=e,this.schema=t,this.hook=a._allTables[e]?a._allTables[e].hook:pt(null,{creating:[X,Z],reading:[$,Q],updating:[te,Z],deleting:[ee,Z]})}))),this.Transaction=(s=this,gt(Ht.prototype,(function(e,t,n,r,i){var o=this;this.db=s,this.mode=e,this.storeNames=t,this.schema=n,this.chromeTransactionDurability=r,this.idbtrans=null,this.on=pt(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ee((function(e,t){o._resolve=e,o._reject=t})),this._completion.then((function(){o.active=!1,o.on.complete.fire()}),(function(e){var t=o.active;return o.active=!1,o.on.error.fire(e),o.parent?o.parent._reject(e):t&&o.idbtrans&&o.idbtrans.abort(),$e(e)}))}))),this.Version=(l=this,gt(pn.prototype,(function(e){this.db=l,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))),this.WhereClause=(c=this,gt(It.prototype,(function(e,t,n){if(this.db=c,this._ctx={table:e,index:":id"===t?null:t,or:n},this._cmp=this._ascending=ct,this._descending=function(e,t){return ct(t,e)},this._max=function(e,t){return 0<ct(e,t)?e:t},this._min=function(e,t){return ct(e,t)<0?e:t},this._IDBKeyRange=c._deps.IDBKeyRange,!this._IDBKeyRange)throw new G.MissingAPI}))),this.on("versionchange",(function(e){0<e.newVersion?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close({disableAutoOpen:!1})})),this.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))})),this._maxKey=Wt(n.IDBKeyRange),this._createTransaction=function(e,t,n,i){return new r.Transaction(e,t,n,r._options.chromeTransactionDurability,i)},this._fireOnBlocked=function(e){r.on("blocked").fire(e),tt.filter((function(e){return e.name===r.name&&e!==r&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(qn),this.use(Xn),this.use(Gn),this.use(Bn),this.use(zn);var d=new Proxy(this,{get:function(e,t,n){if("_vip"===t)return!0;if("table"===t)return function(e){return er(r.table(e),d)};var i=Reflect.get(e,t,n);return i instanceof ht?er(i,d):"tables"===t?i.map((function(e){return er(e,d)})):"_createTransaction"===t?function(){return er(i.apply(this,arguments),d)}:i}});this.vip=d,i.forEach((function(e){return e(r)}))}B="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";var rr,ir=(or.prototype.subscribe=function(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})},or.prototype[B]=function(){return this},or);function or(e){this._subscribe=e}try{rr={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch(C){rr={indexedDB:null,IDBKeyRange:null}}function ar(e){var t,n=!1,r=new ir((function(r){var i,o=L(e),a=!1,s={},l={},c={get closed(){return a},unsubscribe:function(){a||(a=!0,i&&i.abort(),d&&zt.storagemutated.unsubscribe(f))}};r.start&&r.start(c);var d=!1,h=function(){return Qe(p)},f=function(e){An(s,e),On(l,s)&&h()},p=function(){var c,p,g;!a&&rr.indexedDB&&(s={},c={},i&&i.abort(),i=new AbortController,g=function(t){var n=Pe();try{o&&He();var r=ze(e,t);return r=o?r.finally(qe):r}finally{n&&je()}}(p={subscr:c,signal:i.signal,requery:h,querier:e,trans:null}),Promise.resolve(g).then((function(e){n=!0,t=e,a||p.signal.aborted||(s={},function(e){for(var t in e)if(u(e,t))return;return 1}(l=c)||d||(zt(Mt,f),d=!0),Qe((function(){return!a&&r.next&&r.next(e)})))}),(function(e){n=!1,["DatabaseClosedError","AbortError"].includes(null==e?void 0:e.name)||a||Qe((function(){a||r.error&&r.error(e)}))})))};return setTimeout(h,0),c}));return r.hasValue=function(){return n},r.getValue=function(){return t},r}var sr=tr;function lr(e){var t=ur;try{ur=!0,zt.storagemutated.fire(e),Rn(e,!0)}finally{ur=t}}d(sr,t(t({},Y),{delete:function(e){return new sr(e,{addons:[]}).delete()},exists:function(e){return new sr(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){try{return n=(t=sr.dependencies).indexedDB,t=t.IDBKeyRange,(mn(n)?Promise.resolve(n.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return e!==nt}))})):yn(n,t).toCollection().primaryKeys()).then(e)}catch(e){return $e(new G.MissingAPI)}var t,n},defineClass:function(){return function(e){s(this,e)}},ignoreTransaction:function(e){return ve.trans?Ye(ve.transless,e):e()},vip:vn,async:function(e){return function(){try{var t=Fn(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Ee.resolve(t)}catch(t){return $e(t)}}},spawn:function(e,t,n){try{var r=Fn(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Ee.resolve(r)}catch(e){return $e(e)}},currentTransaction:{get:function(){return ve.trans||null}},waitFor:function(e,t){return t=Ee.resolve("function"==typeof e?sr.ignoreTransaction(e):e).timeout(t||6e4),ve.trans?ve.trans.waitFor(t):t},Promise:Ee,debug:{get:function(){return ie},set:function(e){oe(e)}},derive:p,extend:s,props:d,override:v,Events:pt,on:zt,liveQuery:ar,extendObservabilitySet:An,getByKeyPath:x,setByKeyPath:E,delByKeyPath:function(e,t){"string"==typeof t?E(e,t,void 0):"length"in t&&[].map.call(t,(function(t){E(e,t,void 0)}))},shallowClone:k,deepClone:N,getObjectDiff:Mn,cmp:ct,asap:w,minKey:-1/0,addons:[],connections:tt,errnames:K,dependencies:rr,cache:Nn,semVer:"4.0.11",version:"4.0.11".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)}))})),sr.maxKey=Wt(sr.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(zt(Mt,(function(e){ur||(e=new CustomEvent(Ut,{detail:e}),ur=!0,dispatchEvent(e),ur=!1)})),addEventListener(Ut,(function(e){e=e.detail,ur||lr(e)})));var cr,ur=!1,dr=function(){};return"undefined"!=typeof BroadcastChannel&&((dr=function(){(cr=new BroadcastChannel(Ut)).onmessage=function(e){return e.data&&lr(e.data)}})(),"function"==typeof cr.unref&&cr.unref(),zt(Mt,(function(e){ur||cr.postMessage(e)}))),"undefined"!=typeof addEventListener&&(addEventListener("pagehide",(function(e){if(!tr.disableBfCache&&e.persisted){ie&&console.debug("Dexie: handling persisted pagehide"),null!=cr&&cr.close();for(var t=0,n=tt;t<n.length;t++)n[t].close({disableAutoOpen:!1})}})),addEventListener("pageshow",(function(e){!tr.disableBfCache&&e.persisted&&(ie&&console.debug("Dexie: handling persisted pageshow"),dr(),lr({all:new wn(-1/0,[[]])}))}))),Ee.rejectionMapper=function(e,t){return!e||e instanceof U||e instanceof TypeError||e instanceof SyntaxError||!e.name||!W[e.name]?e:(t=new W[e.name](t||e.message,e),"stack"in e&&f(t,"stack",{get:function(){return this.inner.stack}}),t)},oe(ie),t(tr,Object.freeze({__proto__:null,Dexie:tr,liveQuery:ar,Entity:lt,cmp:ct,PropModification:kt,replacePrefix:function(e,t){return new kt({replacePrefix:[e,t]})},add:function(e){return new kt({add:e})},remove:function(e){return new kt({remove:e})},default:tr,RangeSet:wn,mergeRanges:En,rangesOverlap:kn}),{default:tr}),tr}()},4691:function(e,t,n){var r,i,o;i=[],void 0===(o="function"===typeof(r=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){l(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,n){var s=a.URL||a.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):i(l.href)?r(e,t,n):o(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),n);else if(i(e))r(e,n,a);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){o(s)}))}}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var o="application/octet-stream"===e.type,l=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&l||s)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var d=a.URL||a.webkitURL,h=d.createObjectURL(e);i?i.location=h:location.href=h,i=null,setTimeout((function(){d.revokeObjectURL(h)}),4e4)}});a.saveAs=l.saveAs=l,e.exports=l})?r.apply(t,i):r)||(e.exports=o)},818:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Animation=void 0;const r=n(2829),i=n(2710),o=r.glob.performance&&r.glob.performance.now?function(){return r.glob.performance.now()}:function(){return(new Date).getTime()};class a{constructor(e,t){this.id=a.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:o(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){let t=[];return e&&(t=Array.isArray(e)?e:[e]),this.layers=t,this}getLayers(){return this.layers}addLayer(e){const t=this.layers,n=t.length;for(let r=0;r<n;r++)if(t[r]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const e=a.animations,t=e.length;for(let n=0;n<t;n++)if(e[n].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=o(),a._addAnimation(this),this}stop(){return a._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const t=e.id,n=this.animations,r=n.length;for(let i=0;i<r;i++)if(n[i].id===t){this.animations.splice(i,1);break}}static _runFrames(){const e={},t=this.animations;for(let n=0;n<t.length;n++){const r=t[n],i=r.layers,a=r.func;r._updateFrameObject(o());const s=i.length;let l;if(l=!a||!1!==a.call(r,r.frame),l)for(let t=0;t<s;t++){const n=i[t];void 0!==n._id&&(e[n._id]=n)}}for(const n in e)e.hasOwnProperty(n)&&e[n].batchDraw()}static _animationLoop(){const e=a;e.animations.length?(e._runFrames(),i.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,i.Util.requestAnimFrame(this._animationLoop))}}t.Animation=a,a.animations=[],a.animIdCounter=0,a.animRunning=!1},4420:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];t.getCubicArcLength=(e,r,i)=>{let o,a;const s=i/2;o=0;for(let l=0;l<20;l++)a=s*t.tValues[20][l]+s,o+=t.cValues[20][l]*n(e,r,a);return s*o};function n(e,t,n){const i=r(1,n,e),o=r(1,n,t),a=i*i+o*o;return Math.sqrt(a)}t.getQuadraticArcLength=(e,t,n)=>{void 0===n&&(n=1);const r=e[0]-2*e[1]+e[2],i=t[0]-2*t[1]+t[2],o=2*e[1]-2*e[0],a=2*t[1]-2*t[0],s=4*(r*r+i*i),l=4*(r*o+i*a),c=o*o+a*a;if(0===s)return n*Math.sqrt(Math.pow(e[2]-e[0],2)+Math.pow(t[2]-t[0],2));const u=l/(2*s),d=n+u,h=c/s-u*u,f=d*d+h>0?Math.sqrt(d*d+h):0,p=u*u+h>0?Math.sqrt(u*u+h):0,g=u+Math.sqrt(u*u+h)!==0?h*Math.log(Math.abs((d+f)/(u+p))):0;return Math.sqrt(s)/2*(d*f-u*p+g)};const r=(e,n,i)=>{const o=i.length-1;let a,s;if(0===o)return 0;if(0===e){s=0;for(let e=0;e<=o;e++)s+=t.binomialCoefficients[o][e]*Math.pow(1-n,o-e)*Math.pow(n,e)*i[e];return s}a=new Array(o);for(let t=0;t<o;t++)a[t]=o*(i[t+1]-i[t]);return r(e-1,n,a)};t.t2length=(e,t,n)=>{let r=1,i=e/t,o=(e-n(i))/t,a=0;for(;r>.001;){const s=n(i+o),l=Math.abs(e-s)/t;if(l<r)r=l,i+=o;else{const a=n(i-o),s=Math.abs(e-a)/t;s<r?(r=s,i-=o):o/=2}if(a++,a>500)break}return i}},1262:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HitCanvas=t.SceneCanvas=t.Canvas=void 0;const r=n(2710),i=n(5671),o=n(2829),a=n(2818),s=n(7621);let l;class c{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const t=(e||{}).pixelRatio||o.Konva.pixelRatio||function(){if(l)return l;const e=r.Util.createCanvasElement(),t=e.getContext("2d");return l=(o.Konva._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),r.Util.releaseCanvas(e),l}();this.pixelRatio=t,this._canvas=r.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const t=this.pixelRatio;this.getContext()._context.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const t=this.pixelRatio;this.getContext()._context.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch(n){try{return this._canvas.toDataURL()}catch(i){return r.Util.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}t.Canvas=c,a.Factory.addGetterSetter(c,"pixelRatio",void 0,(0,s.getNumberValidator)());t.SceneCanvas=class extends c{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:0,height:0,willReadFrequently:!1};super(e),this.context=new i.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}};t.HitCanvas=class extends c{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:0,height:0};super(e),this.hitCanvas=!0,this.context=new i.HitContext(this),this.setSize(e.width,e.height)}}},5099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;const r=n(2818),i=n(5714),o=n(7621);class a extends i.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const t=this.children||[],n=[];return t.forEach((function(t){e(t)&&n.push(t)})),n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach((e=>{e.parent=null,e.index=0,e.remove()})),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach((e=>{e.parent=null,e.index=0,e.destroy()})),this.children=[],this._requestDraw(),this}add(){if(0===arguments.length)return this;if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(e<0||arguments.length<=e?void 0:arguments[e]);return this}const e=arguments.length<=0?void 0:arguments[0];return e.getParent()?(e.moveTo(this),this):(this._validateAdd(e),e.index=this.getChildren().length,e.parent=this,e._clearCaches(),this.getChildren().push(e),this._fire("add",{child:e}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){const n=[];return this._descendants((r=>{const i=r._isMatch(e);return i&&n.push(r),!(!i||!t)})),n}_descendants(e){let t=!1;const n=this.getChildren();for(const r of n){if(t=e(r),t)return!0;if(r.hasChildren()&&(t=r._descendants(e),t))return!0}return!1}toObject(){const e=i.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach((t=>{e.children.push(t.toObject())})),e}isAncestorOf(e){let t=e.getParent();for(;t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){const t=i.Node.prototype.clone.call(this,e);return this.getChildren().forEach((function(e){t.add(e.clone())})),t}getAllIntersections(e){const t=[];return this.find("Shape").forEach((n=>{n.isVisible()&&n.intersects(e)&&t.push(n)})),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),this.isCached()||null===(t=this.children)||void 0===t||t.forEach((function(t){t._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;null===(e=this.children)||void 0===e||e.forEach((function(e,t){e.index=t})),this._requestDraw()}drawScene(e,t,n){const r=this.getLayer(),i=e||r&&r.getCanvas(),o=i&&i.getContext(),a=this._getCanvasCache(),s=a&&a.scene,l=i&&i.isCache;if(!this.isVisible()&&!l)return this;if(s){o.save();const e=this.getAbsoluteTransform(t).getMatrix();o.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this._drawCachedSceneCanvas(o),o.restore()}else this._drawChildren("drawScene",i,t,n);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;const n=this.getLayer(),r=e||n&&n.hitCanvas,i=r&&r.getContext(),o=this._getCanvasCache();if(o&&o.hit){i.save();const e=this.getAbsoluteTransform(t).getMatrix();i.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",r,t);return this}_drawChildren(e,t,n,r){var i;const o=t&&t.getContext(),a=this.clipWidth(),s=this.clipHeight(),l=this.clipFunc(),c="number"===typeof a&&"number"===typeof s||l,u=n===this;if(c){o.save();const e=this.getAbsoluteTransform(n);let t,r=e.getMatrix();if(o.transform(r[0],r[1],r[2],r[3],r[4],r[5]),o.beginPath(),l)t=l.call(this,o,this);else{const e=this.clipX(),t=this.clipY();o.rect(e||0,t||0,a,s)}o.clip.apply(o,t),r=e.copy().invert().getMatrix(),o.transform(r[0],r[1],r[2],r[3],r[4],r[5])}const d=!u&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===e;d&&(o.save(),o._applyGlobalCompositeOperation(this)),null===(i=this.children)||void 0===i||i.forEach((function(i){i[e](t,n,r)})),d&&o.restore(),c&&o.restore()}getClientRect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const n=e.skipTransform,r=e.relativeTo;let i,o,a,s,l={x:1/0,y:1/0,width:0,height:0};const c=this;null===(t=this.children)||void 0===t||t.forEach((function(t){if(!t.visible())return;const n=t.getClientRect({relativeTo:c,skipShadow:e.skipShadow,skipStroke:e.skipStroke});0===n.width&&0===n.height||(void 0===i?(i=n.x,o=n.y,a=n.x+n.width,s=n.y+n.height):(i=Math.min(i,n.x),o=Math.min(o,n.y),a=Math.max(a,n.x+n.width),s=Math.max(s,n.y+n.height)))}));const u=this.find("Shape");let d=!1;for(let h=0;h<u.length;h++){if(u[h]._isVisible(this)){d=!0;break}}return l=d&&void 0!==i?{x:i,y:o,width:a-i,height:s-o}:{x:0,y:0,width:0,height:0},n?l:this._transformedRect(l,r)}}t.Container=a,r.Factory.addComponentsGetterSetter(a,"clip",["x","y","width","height"]),r.Factory.addGetterSetter(a,"clipX",void 0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(a,"clipY",void 0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(a,"clipWidth",void 0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(a,"clipHeight",void 0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(a,"clipFunc")},5671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HitContext=t.SceneContext=t.Context=void 0;const r=n(2710),i=n(2829);const o=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class a{constructor(e){this.canvas=e,i.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){let n,i,o,a,s=this.traceArr,l=s.length,c="";for(n=0;n<l;n++)i=s[n],o=i.method,o?(a=i.args,c+=o,e?c+="()":r.Util._isArray(a[0])?c+="(["+a.join(",")+"])":(t&&(a=a.map((e=>"number"===typeof e?Math.floor(e):e))),c+="("+a.join(",")+")")):(c+=i.property,e||(c+="="+i.val)),c+=";";return c}clearTrace(){this.traceArr=[]}_trace(e){let t,n=this.traceArr;n.push(e),t=n.length,t>=100&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){const t=e.attrs.lineCap;t&&this.setAttr("lineCap",t)}_applyOpacity(e){const t=e.getAbsoluteOpacity();1!==t&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){const t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}setAttr(e,t){this._context[e]=t}arc(e,t,n,r,i,o){this._context.arc(e,t,n,r,i,o)}arcTo(e,t,n,r,i){this._context.arcTo(e,t,n,r,i)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,n,r,i,o){this._context.bezierCurveTo(e,t,n,r,i,o)}clearRect(e,t,n,r){this._context.clearRect(e,t,n,r)}clip(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._context.clip.apply(this._context,t)}closePath(){this._context.closePath()}createImageData(e,t){const n=arguments;return 2===n.length?this._context.createImageData(e,t):1===n.length?this._context.createImageData(e):void 0}createLinearGradient(e,t,n,r){return this._context.createLinearGradient(e,t,n,r)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,n,r,i,o){return this._context.createRadialGradient(e,t,n,r,i,o)}drawImage(e,t,n,r,i,o,a,s,l){const c=arguments,u=this._context;3===c.length?u.drawImage(e,t,n):5===c.length?u.drawImage(e,t,n,r,i):9===c.length&&u.drawImage(e,t,n,r,i,o,a,s,l)}ellipse(e,t,n,r,i,o,a,s){this._context.ellipse(e,t,n,r,i,o,a,s)}isPointInPath(e,t,n,r){return n?this._context.isPointInPath(n,e,t,r):this._context.isPointInPath(e,t,r)}fill(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._context.fill.apply(this._context,t)}fillRect(e,t,n,r){this._context.fillRect(e,t,n,r)}strokeRect(e,t,n,r){this._context.strokeRect(e,t,n,r)}fillText(e,t,n,r){r?this._context.fillText(e,t,n,r):this._context.fillText(e,t,n)}measureText(e){return this._context.measureText(e)}getImageData(e,t,n,r){return this._context.getImageData(e,t,n,r)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,n,r){this._context.rect(e,t,n,r)}roundRect(e,t,n,r,i){this._context.roundRect(e,t,n,r,i)}putImageData(e,t,n){this._context.putImageData(e,t,n)}quadraticCurveTo(e,t,n,r){this._context.quadraticCurveTo(e,t,n,r)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,n,r,i,o){this._context.setTransform(e,t,n,r,i,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,n,r){this._context.strokeText(e,t,n,r)}transform(e,t,n,r,i,o){this._context.transform(e,t,n,r,i,o)}translate(e,t){this._context.translate(e,t)}_enableTrace(){let e,t,n=this,i=o.length,a=this.setAttr;const s=function(e){let i,o=n[e];n[e]=function(){return t=function(e){const t=[],n=e.length,i=r.Util;for(let r=0;r<n;r++){let n=e[r];i._isNumber(n)?n=Math.round(1e3*n)/1e3:i._isString(n)||(n+=""),t.push(n)}return t}(Array.prototype.slice.call(arguments,0)),i=o.apply(n,arguments),n._trace({method:e,args:t}),i}};for(e=0;e<i;e++)s(o[e]);n.setAttr=function(){a.apply(n,arguments);const e=arguments[0];let t=arguments[1];"shadowOffsetX"!==e&&"shadowOffsetY"!==e&&"shadowBlur"!==e||(t/=this.canvas.getPixelRatio()),n._trace({property:e,val:t})}}_applyGlobalCompositeOperation(e){const t=e.attrs.globalCompositeOperation;!t||"source-over"===t||this.setAttr("globalCompositeOperation",t)}}t.Context=a,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(e){Object.defineProperty(a.prototype,e,{get(){return this._context[e]},set(t){this._context[e]=t}})}));t.SceneContext=class extends a{constructor(e){let{willReadFrequently:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:t})}_fillColor(e){const t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fillRadialGradient(e){const t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fill(e){const t=e.fill(),n=e.getFillPriority();if(t&&"color"===n)return void this._fillColor(e);const r=e.getFillPatternImage();if(r&&"pattern"===n)return void this._fillPattern(e);const i=e.getFillLinearGradientColorStops();if(i&&"linear-gradient"===n)return void this._fillLinearGradient(e);const o=e.getFillRadialGradientColorStops();o&&"radial-gradient"===n?this._fillRadialGradient(e):t?this._fillColor(e):r?this._fillPattern(e):i?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const t=e.getStrokeLinearGradientStartPoint(),n=e.getStrokeLinearGradientEndPoint(),r=e.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(t.x,t.y,n.x,n.y);if(r){for(let e=0;e<r.length;e+=2)i.addColorStop(r[e],r[e+1]);this.setAttr("strokeStyle",i)}}_stroke(e){const t=e.dash(),n=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!n){this.save();const e=this.getCanvas().getPixelRatio();this.setTransform(e,0,0,e,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),n||this.restore()}}_applyShadow(e){var t,n,r;const i=null!==(t=e.getShadowRGBA())&&void 0!==t?t:"black",o=null!==(n=e.getShadowBlur())&&void 0!==n?n:5,a=null!==(r=e.getShadowOffset())&&void 0!==r?r:{x:0,y:0},s=e.getAbsoluteScale(),l=this.canvas.getPixelRatio(),c=s.x*l,u=s.y*l;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",o*Math.min(Math.abs(c),Math.abs(u))),this.setAttr("shadowOffsetX",a.x*c),this.setAttr("shadowOffsetY",a.y*u)}};t.HitContext=class extends a{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const t=e.getStrokeScaleEnabled();if(!t){this.save();const e=this.getCanvas().getPixelRatio();this.setTransform(e,0,0,e,0,0)}this._applyLineCap(e);const n=e.hitStrokeWidth(),r="auto"===n?e.strokeWidth():n;this.setAttr("lineWidth",r),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore()}}}},4653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;var r=n(9786);Object.defineProperty(t,"Konva",{enumerable:!0,get:function(){return r.Konva}});const i=n(9786);e.exports=i.Konva},5422:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const r=n(2829),i=n(2710);t.DD={get isDragging(){let e=!1;return t.DD._dragElements.forEach((t=>{"dragging"===t.dragStatus&&(e=!0)})),e},justDragged:!1,get node(){let e;return t.DD._dragElements.forEach((t=>{e=t.node})),e},_dragElements:new Map,_drag(e){const n=[];t.DD._dragElements.forEach(((t,r)=>{const{node:o}=t,a=o.getStage();a.setPointersPositions(e),void 0===t.pointerId&&(t.pointerId=i.Util._getFirstPointerId(e));const s=a._changedPointerPositions.find((e=>e.id===t.pointerId));if(s){if("dragging"!==t.dragStatus){const n=o.dragDistance();if(Math.max(Math.abs(s.x-t.startPointerPos.x),Math.abs(s.y-t.startPointerPos.y))<n)return;if(o.startDrag({evt:e}),!o.isDragging())return}o._setDragPosition(e,t),n.push(o)}})),n.forEach((t=>{t.fire("dragmove",{type:"dragmove",target:t,evt:e},!0)}))},_endDragBefore(e){const n=[];t.DD._dragElements.forEach((i=>{const{node:o}=i,a=o.getStage();e&&a.setPointersPositions(e);if(!a._changedPointerPositions.find((e=>e.id===i.pointerId)))return;"dragging"!==i.dragStatus&&"stopped"!==i.dragStatus||(t.DD.justDragged=!0,r.Konva._mouseListenClick=!1,r.Konva._touchListenClick=!1,r.Konva._pointerListenClick=!1,i.dragStatus="stopped");const s=i.node.getLayer()||i.node instanceof r.Konva.Stage&&i.node;s&&-1===n.indexOf(s)&&n.push(s)})),n.forEach((e=>{e.draw()}))},_endDragAfter(e){t.DD._dragElements.forEach(((n,r)=>{"stopped"===n.dragStatus&&n.node.fire("dragend",{type:"dragend",target:n.node,evt:e},!0),"dragging"!==n.dragStatus&&t.DD._dragElements.delete(r)}))}},r.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))},2818:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const r=n(2710),i=n(7621),o="get",a="set";t.Factory={addGetterSetter(e,n,r,i,o){t.Factory.addGetter(e,n,r),t.Factory.addSetter(e,n,i,o),t.Factory.addOverloadedGetterSetter(e,n)},addGetter(e,t,n){var i=o+r.Util._capitalize(t);e.prototype[i]=e.prototype[i]||function(){const e=this.attrs[t];return void 0===e?n:e}},addSetter(e,n,i,o){var s=a+r.Util._capitalize(n);e.prototype[s]||t.Factory.overWriteSetter(e,n,i,o)},overWriteSetter(e,t,n,i){var o=a+r.Util._capitalize(t);e.prototype[o]=function(e){return n&&void 0!==e&&null!==e&&(e=n.call(this,e,t)),this._setAttr(t,e),i&&i.call(this),this}},addComponentsGetterSetter(e,n,s,l,c){const u=s.length,d=r.Util._capitalize,h=o+d(n),f=a+d(n);e.prototype[h]=function(){const e={};for(let t=0;t<u;t++){const r=s[t];e[r]=this.getAttr(n+d(r))}return e};const p=(0,i.getComponentValidator)(s);e.prototype[f]=function(e){const t=this.attrs[n];l&&(e=l.call(this,e,n)),p&&p.call(this,e,n);for(const r in e)e.hasOwnProperty(r)&&this._setAttr(n+d(r),e[r]);return e||s.forEach((e=>{this._setAttr(n+d(e),void 0)})),this._fireChangeEvent(n,t,e),c&&c.call(this),this},t.Factory.addOverloadedGetterSetter(e,n)},addOverloadedGetterSetter(e,t){var n=r.Util._capitalize(t),i=a+n,s=o+n;e.prototype[t]=function(){return arguments.length?(this[i](arguments[0]),this):this[s]()}},addDeprecatedGetterSetter(e,n,i,a){r.Util.error("Adding deprecated "+n);const s=o+r.Util._capitalize(n),l=n+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[s]=function(){r.Util.error(l);const e=this.attrs[n];return void 0===e?i:e},t.Factory.addSetter(e,n,a,(function(){r.Util.error(l)})),t.Factory.addOverloadedGetterSetter(e,n)},backCompat(e,t){r.Util.each(t,(function(t,n){const i=e.prototype[n],s=o+r.Util._capitalize(t),l=a+r.Util._capitalize(t);function c(){i.apply(this,arguments),r.Util.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}e.prototype[t]=c,e.prototype[s]=c,e.prototype[l]=c}))},afterSetFilter(){this._filterUpToDate=!1}}},3347:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FastLayer=void 0;const r=n(2710),i=n(2517),o=n(2829);class a extends i.Layer{constructor(e){super(e),this.listening(!1),r.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}t.FastLayer=a,a.prototype.nodeType="FastLayer",(0,o._registerNode)(a)},2829:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const r=Math.PI/180;t.glob="undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope?self:{},t.Konva={_global:t.glob,version:"9.3.18",isBrowser:"undefined"!==typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(e){}.toString()),dblClickWindow:400,getAngle:e=>t.Konva.angleDeg?e*r:e,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:"undefined"!==typeof window&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>t.Konva.DD.isDragging,isTransforming(){var e;return null===(e=t.Konva.Transformer)||void 0===e?void 0:e.isTransforming()},isDragReady:()=>!!t.Konva.DD.node,releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(e){t.glob.Konva=e}};t._registerNode=e=>{t.Konva[e.prototype.getClassName()]=e},t.Konva._injectGlobal(t.Konva)},71:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Group=void 0;const r=n(2710),i=n(5099),o=n(2829);class a extends i.Container{_validateAdd(e){const t=e.getType();"Group"!==t&&"Shape"!==t&&r.Util.throw("You may only add groups and shapes to groups.")}}t.Group=a,a.prototype.nodeType="Group",(0,o._registerNode)(a)},2517:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Layer=void 0;const r=n(2710),i=n(5099),o=n(5714),a=n(2818),s=n(1262),l=n(7621),c=n(7685),u=n(2829),d=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],h=d.length;class f extends i.Container{constructor(e){super(e),this.canvas=new s.SceneCanvas,this.hitCanvas=new s.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){o.Node.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!o.Node.prototype.moveUp.call(this))return!1;const e=this.getStage();return!(!e||!e.content)&&(e.content.removeChild(this.getNativeCanvasElement()),this.index<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(o.Node.prototype.moveDown.call(this)){const e=this.getStage();if(e){const t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(o.Node.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return o.Node.prototype.remove.call(this),e&&e.parentNode&&r.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize(e){let{width:t,height:n}=e;return this.canvas.setSize(t,n),this.hitCanvas.setSize(t,n),this._setSmoothEnabled(),this}_validateAdd(e){const t=e.getType();"Group"!==t&&"Shape"!==t&&r.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return(e=e||{}).width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=void 0!==e.x?e.x:this.x(),e.y=void 0!==e.y?e.y:this.y(),o.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){const e=this.visible();this.canvas._canvas.style.display=e?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){r.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){r.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,r.Util.requestAnimFrame((()=>{this.draw(),this._waitingForDraw=!1}))),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let t=1,n=!1;for(;;){for(let r=0;r<h;r++){const i=d[r],o=this._getIntersection({x:e.x+i.x*t,y:e.y+i.y*t}),a=o.shape;if(a)return a;if(n=!!o.antialiased,!o.antialiased)break}if(!n)return null;t+=1}}_getIntersection(e){const t=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,i=n[3];if(255===i){const e=r.Util._rgbToHex(n[0],n[1],n[2]),t=c.shapes["#"+e];return t?{shape:t}:{antialiased:!0}}return i>0?{antialiased:!0}:{}}drawScene(e,t){const n=this.getLayer(),r=e||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),i.Container.prototype.drawScene.call(this,r,t),this._fire("draw",{node:this}),this}drawHit(e,t){const n=this.getLayer(),r=e||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),i.Container.prototype.drawHit.call(this,r,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){r.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return r.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return r.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}t.Layer=f,f.prototype.nodeType="Layer",(0,u._registerNode)(f),a.Factory.addGetterSetter(f,"imageSmoothingEnabled",!0),a.Factory.addGetterSetter(f,"clearBeforeDraw",!0),a.Factory.addGetterSetter(f,"hitGraphEnabled",!0,(0,l.getBooleanValidator)())},5714:(e,t,n)=>{"use strict";var r=n(1847).default;const i=["x","y"];Object.defineProperty(t,"__esModule",{value:!0}),t.Node=void 0;const o=n(2710),a=n(2818),s=n(1262),l=n(2829),c=n(5422),u=n(7621),d="absoluteOpacity",h="allEventListeners",f="absoluteTransform",p="absoluteScale",g="canvas",y="listening",m="mouseenter",v="mouseleave",b="Shape",w=" ",x="stage",E="transform",k="visible",_=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(w);let S=1;class C{constructor(e){this._id=S++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){e!==E&&e!==f||!this._cache.get(e)?e?this._cache.delete(e):this._cache.clear():this._cache.get(e).dirty=!0}_getCache(e,t){let n=this._cache.get(e);return(void 0===n||(e===E||e===f)&&!0===n.dirty)&&(n=t.call(this),this._cache.set(e,n)),n}_calculate(e,t,n){if(!this._attachedDepsListeners.get(e)){const n=t.map((e=>e+"Change.konva")).join(w);this.on(n,(()=>{this._clearCache(e)})),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,n)}_getCanvasCache(){return this._cache.get(g)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===f&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(g)){const{scene:e,filter:t,hit:n}=this._cache.get(g);o.Util.releaseCanvas(e,t,n),this._cache.delete(g)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const t=e||{};let n={};void 0!==t.x&&void 0!==t.y&&void 0!==t.width&&void 0!==t.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let r=Math.ceil(t.width||n.width),i=Math.ceil(t.height||n.height),a=t.pixelRatio,l=void 0===t.x?Math.floor(n.x):t.x,c=void 0===t.y?Math.floor(n.y):t.y,u=t.offset||0,h=t.drawBorder||!1,f=t.hitCanvasPixelRatio||1;if(!r||!i)return void o.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");r+=2*u+(Math.abs(Math.round(n.x)-l)>.5?1:0),i+=2*u+(Math.abs(Math.round(n.y)-c)>.5?1:0),l-=u,c-=u;const y=new s.SceneCanvas({pixelRatio:a,width:r,height:i}),m=new s.SceneCanvas({pixelRatio:a,width:0,height:0,willReadFrequently:!0}),v=new s.HitCanvas({pixelRatio:f,width:r,height:i}),b=y.getContext(),w=v.getContext();return v.isCache=!0,y.isCache=!0,this._cache.delete(g),this._filterUpToDate=!1,!1===t.imageSmoothingEnabled&&(y.getContext()._context.imageSmoothingEnabled=!1,m.getContext()._context.imageSmoothingEnabled=!1),b.save(),w.save(),b.translate(-l,-c),w.translate(-l,-c),this._isUnderCache=!0,this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(p),this.drawScene(y,this),this.drawHit(v,this),this._isUnderCache=!1,b.restore(),w.restore(),h&&(b.save(),b.beginPath(),b.rect(0,0,r,i),b.closePath(),b.setAttr("strokeStyle","red"),b.setAttr("lineWidth",5),b.stroke(),b.restore()),this._cache.set(g,{scene:y,filter:m,hit:v,x:l,y:c}),this._requestDraw(),this}isCached(){return this._cache.has(g)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){const n=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let r=1/0,i=1/0,o=-1/0,a=-1/0;const s=this.getAbsoluteTransform(t);return n.forEach((function(e){const t=s.point(e);void 0===r&&(r=o=t.x,i=a=t.y),r=Math.min(r,t.x),i=Math.min(i,t.y),o=Math.max(o,t.x),a=Math.max(a,t.y)})),{x:r,y:i,width:o-r,height:a-i}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const t=this._getCanvasCache();e.translate(t.x,t.y);const n=this._getCachedSceneCanvas(),r=n.pixelRatio;e.drawImage(n._canvas,0,0,n.width/r,n.height/r),e.restore()}_drawCachedHitCanvas(e){const t=this._getCanvasCache(),n=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e,t,n,r,i=this.filters(),a=this._getCanvasCache(),s=a.scene,l=a.filter,c=l.getContext();if(i){if(!this._filterUpToDate){const a=s.pixelRatio;l.setSize(s.width/s.pixelRatio,s.height/s.pixelRatio);try{for(e=i.length,c.clear(),c.drawImage(s._canvas,0,0,s.getWidth()/a,s.getHeight()/a),t=c.getImageData(0,0,l.getWidth(),l.getHeight()),n=0;n<e;n++)r=i[n],"function"===typeof r?(r.call(this,t),c.putImageData(t,0,0)):o.Util.error("Filter should be type of function, but got "+typeof r+" instead. Please check correct filters")}catch(u){o.Util.error("Unable to apply filter. "+u.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return l}return s}on(e,t){if(this._cache&&this._cache.delete(h),3===arguments.length)return this._delegate.apply(this,arguments);let n,r,i,o,a,s=e.split(w),l=s.length;for(n=0;n<l;n++)r=s[n],i=r.split("."),o=i[0],a=i[1]||"",this.eventListeners[o]||(this.eventListeners[o]=[]),this.eventListeners[o].push({name:a,handler:t});return this}off(e,t){let n,r,i,o,a,s,l=(e||"").split(w),c=l.length;if(this._cache&&this._cache.delete(h),!e)for(r in this.eventListeners)this._off(r);for(n=0;n<c;n++)if(i=l[n],o=i.split("."),a=o[0],s=o[1],a)this.eventListeners[a]&&this._off(a,s,t);else for(r in this.eventListeners)this._off(r,s,t);return this}dispatchEvent(e){const t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,(function(e){t.call(this,e.evt)})),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,n){const r=this;this.on(e,(function(e){const i=e.target.findAncestors(t,!0,r);for(let t=0;t<i.length;t++)(e=o.Util.cloneObject(e)).currentTarget=i[t],n.call(i[t],e)}))}remove(){return this.isDragging()&&this.stopDrag(),c.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(x),this._clearSelfAndDescendantCache(k),this._clearSelfAndDescendantCache(y)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const t="get"+o.Util._capitalize(e);return o.Util._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){let e=this.getParent(),t=[];for(;e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges((()=>{let t,n;if(!e)return this;for(t in e)"children"!==t&&(n="set"+o.Util._capitalize(t),o.Util._isFunction(this[n])?this[n](e[t]):this._setAttr(t,e[t]))})),this}isListening(){return this._getCache(y,this._isListening)}_isListening(e){if(!this.listening())return!1;const t=this.getParent();return!t||t===e||this===e||t._isListening(e)}isVisible(){return this._getCache(k,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const t=this.getParent();return!t||t===e||this===e||t._isVisible(e)}shouldDrawHit(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this._isVisible(e)&&this._isListening(e);const n=this.getLayer();let r=!1;c.DD._dragElements.forEach((e=>{"dragging"===e.dragStatus&&("Stage"===e.node.nodeType||e.node.getLayer()===n)&&(r=!0)}));const i=!t&&!l.Konva.hitOnDragEnabled&&(r||l.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!i}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e,t,n,r,i=this.getDepth(),o=this,a=0;const s=this.getStage();return"Stage"!==o.nodeType&&s&&function s(l){for(e=[],t=l.length,n=0;n<t;n++)r=l[n],a++,r.nodeType!==b&&(e=e.concat(r.getChildren().slice())),r._id===o._id&&(n=t);e.length>0&&e[0].getDepth()<=i&&s(e)}(s.getChildren()),a}getDepth(){let e=0,t=this.parent;for(;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(E),this._clearSelfAndDescendantCache(f)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges((()=>{this.x(e.x),this.y(e.y)})),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const t=e.getPointerPosition();if(!t)return null;const n=this.getAbsoluteTransform().copy();return n.invert(),n.point(t)}getAbsolutePosition(e){let t=!1,n=this.parent;for(;n;){if(n.isCached()){t=!0;break}n=n.parent}t&&!e&&(e=!0);const r=this.getAbsoluteTransform(e).getMatrix(),i=new o.Transform,a=this.offset();return i.m=r.slice(),i.translate(a.x,a.y),i.getTranslation()}setAbsolutePosition(e){const t=this._clearTransform(),{x:n,y:o}=t,a=r(t,i);this.attrs.x=n,this.attrs.y=o,this._clearCache(E);const s=this._getAbsoluteTransform().copy();return s.invert(),s.translate(e.x,e.y),e={x:this.attrs.x+s.getTranslation().x,y:this.attrs.y+s.getTranslation().y},this._setTransform(a),this.setPosition({x:e.x,y:e.y}),this._clearCache(E),this._clearSelfAndDescendantCache(f),this}_setTransform(e){let t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let t=e.x,n=e.y,r=this.x(),i=this.y();return void 0!==t&&(r+=t),void 0!==n&&(i+=n),this.setPosition({x:r,y:i}),this}_eachAncestorReverse(e,t){let n,r,i=[],o=this.getParent();if(!t||t._id!==this._id){for(i.unshift(this);o&&(!t||o._id!==t._id);)i.unshift(o),o=o.parent;for(n=i.length,r=0;r<n;r++)e(i[r])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return o.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return o.Util.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return o.Util.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return o.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(e){if(!this.parent)return o.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&o.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(d,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e,t,n,r,i,a=this.getAttrs();const s={attrs:{},className:this.getClassName()};for(e in a)t=a[e],i=o.Util.isObject(t)&&!o.Util._isPlainObject(t)&&!o.Util._isArray(t),i||(n="function"===typeof this[e]&&this[e],delete a[e],r=n?n.call(this):null,a[e]=t,r!==t&&(s.attrs[e]=t));return o.Util._prepareToStringify(s)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,n){const r=[];t&&this._isMatch(e)&&r.push(this);let i=this.parent;for(;i;){if(i===n)return r;i._isMatch(e)&&r.push(i),i=i.parent}return r}isAncestorOf(e){return!1}findAncestor(e,t,n){return this.findAncestors(e,t,n)[0]}_isMatch(e){if(!e)return!1;if("function"===typeof e)return e(this);let t,n,r=e.replace(/ /g,"").split(","),i=r.length;for(t=0;t<i;t++)if(n=r[t],o.Util.isValidSelector(n)||(o.Util.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),o.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),o.Util.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(x,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.target=t.target||this,n?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(f,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let t;if(e)return t=new o.Transform,this._eachAncestorReverse((function(e){const n=e.transformsEnabled();"all"===n?t.multiply(e.getTransform()):"position"===n&&t.translate(e.x()-e.offsetX(),e.y()-e.offsetY())}),e),t;{t=this._cache.get(f)||new o.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();const e=this.transformsEnabled();if("all"===e)t.multiply(this.getTransform());else if("position"===e){const e=this.attrs.x||0,n=this.attrs.y||0,r=this.attrs.offsetX||0,i=this.attrs.offsetY||0;t.translate(e-r,n-i)}return t.dirty=!1,t}}getAbsoluteScale(e){let t=this;for(;t;)t._isUnderCache&&(e=t),t=t.getParent();const n=this.getAbsoluteTransform(e).decompose();return{x:n.scaleX,y:n.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(E,this._getTransform)}_getTransform(){var e,t;const n=this._cache.get(E)||new o.Transform;n.reset();const r=this.x(),i=this.y(),a=l.Konva.getAngle(this.rotation()),s=null!==(e=this.attrs.scaleX)&&void 0!==e?e:1,c=null!==(t=this.attrs.scaleY)&&void 0!==t?t:1,u=this.attrs.skewX||0,d=this.attrs.skewY||0,h=this.attrs.offsetX||0,f=this.attrs.offsetY||0;return 0===r&&0===i||n.translate(r,i),0!==a&&n.rotate(a),0===u&&0===d||n.skew(u,d),1===s&&1===c||n.scale(s,c),0===h&&0===f||n.translate(-1*h,-1*f),n.dirty=!1,n}clone(e){let t,n,r,i,a,s=o.Util.cloneObject(this.attrs);for(t in e)s[t]=e[t];const l=new this.constructor(s);for(t in this.eventListeners)for(n=this.eventListeners[t],r=n.length,i=0;i<r;i++)a=n[i],a.name.indexOf("konva")<0&&(l.eventListeners[t]||(l.eventListeners[t]=[]),l.eventListeners[t].push(a));return l}_toKonvaCanvas(e){e=e||{};const t=this.getClientRect(),n=this.getStage(),r=void 0!==e.x?e.x:Math.floor(t.x),i=void 0!==e.y?e.y:Math.floor(t.y),o=e.pixelRatio||1,a=new s.SceneCanvas({width:e.width||Math.ceil(t.width)||(n?n.width():0),height:e.height||Math.ceil(t.height)||(n?n.height():0),pixelRatio:o}),l=a.getContext(),c=new s.SceneCanvas({width:a.width/a.pixelRatio+Math.abs(r),height:a.height/a.pixelRatio+Math.abs(i),pixelRatio:a.pixelRatio});return!1===e.imageSmoothingEnabled&&(l._context.imageSmoothingEnabled=!1),l.save(),(r||i)&&l.translate(-1*r,-1*i),this.drawScene(a,void 0,c),l.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){const t=(e=e||{}).mimeType||null,n=e.quality||null,r=this._toKonvaCanvas(e).toDataURL(t,n);return e.callback&&e.callback(r),r}toImage(e){return new Promise(((t,n)=>{try{const n=null===e||void 0===e?void 0:e.callback;n&&delete e.callback,o.Util._urlToImage(this.toDataURL(e),(function(e){t(e),null===n||void 0===n||n(e)}))}catch(r){n(r)}}))}toBlob(e){return new Promise(((t,n)=>{try{const n=null===e||void 0===e?void 0:e.callback;n&&delete e.callback,this.toCanvas(e).toBlob((e=>{t(e),null===n||void 0===n||n(e)}),null===e||void 0===e?void 0:e.mimeType,null===e||void 0===e?void 0:e.quality)}catch(r){n(r)}}))}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():l.Konva.dragDistance}_off(e,t,n){let r,i,o,a=this.eventListeners[e];for(r=0;r<a.length;r++)if(i=a[r].name,o=a[r].handler,("konva"!==i||"konva"===t)&&(!t||i===t)&&(!n||n===o)){if(a.splice(r,1),0===a.length){delete this.eventListeners[e];break}r--}}_fireChangeEvent(e,t,n){this._fire(e+"Change",{oldVal:t,newVal:n})}addName(e){if(!this.hasName(e)){const t=this.name(),n=t?t+" "+e:e;this.name(n)}return this}hasName(e){if(!e)return!1;const t=this.name();if(!t)return!1;return-1!==(t||"").split(/\s/g).indexOf(e)}removeName(e){const t=(this.name()||"").split(/\s/g),n=t.indexOf(e);return-1!==n&&(t.splice(n,1),this.name(t.join(" "))),this}setAttr(e,t){const n=this["set"+o.Util._capitalize(e)];return o.Util._isFunction(n)?n.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(l.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();null===e||void 0===e||e.batchDraw()}}_setAttr(e,t){const n=this.attrs[e];(n!==t||o.Util.isObject(t))&&(void 0===t||null===t?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,n,t),this._requestDraw())}_setComponentAttr(e,t,n){let r;void 0!==n&&(r=this.attrs[e],r||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=n,this._fireChangeEvent(e,r,n))}_fireAndBubble(e,t,n){t&&this.nodeType===b&&(t.target=this);if(!((e===m||e===v)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n))){this._fire(e,t);const r=(e===m||e===v)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!r&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,t,n):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){var t,n,r;const i=null!==(t=this._cache.get(h))&&void 0!==t?t:{};let o=null===i||void 0===i?void 0:i[e];if(void 0===o){o=[];let t=Object.getPrototypeOf(this);for(;t;){const i=null!==(r=null===(n=t.eventListeners)||void 0===n?void 0:n[e])&&void 0!==r?r:[];o.push(...i),t=Object.getPrototypeOf(t)}i[e]=o,this._cache.set(h,i)}return o}_fire(e,t){(t=t||{}).currentTarget=this,t.type=e;const n=this._getProtoListeners(e);if(n)for(var r=0;r<n.length;r++)n[r].handler.call(this,t);const i=this.eventListeners[e];if(i)for(r=0;r<i.length;r++)i[r].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const t=e?e.pointerId:void 0,n=this.getStage(),r=this.getAbsolutePosition();if(!n)return;const i=n._getPointerById(t)||n._changedPointerPositions[0]||r;c.DD._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-r.x,y:i.y-r.y},dragStatus:"ready",pointerId:t})}startDrag(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];c.DD._dragElements.has(this._id)||this._createDragElement(e);c.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){const n=this.getStage()._getPointerById(t.pointerId);if(!n)return;let r={x:n.x-t.offset.x,y:n.y-t.offset.y};const i=this.dragBoundFunc();if(void 0!==i){const t=i.call(this,r,e);t?r=t:o.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===r.x&&this._lastPos.y===r.y||(this.setAbsolutePosition(r),this._requestDraw()),this._lastPos=r}stopDrag(e){const t=c.DD._dragElements.get(this._id);t&&(t.dragStatus="stopped"),c.DD._endDragBefore(e),c.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=c.DD._dragElements.get(this._id);return!!e&&"dragging"===e.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(e){if(!(!(void 0!==e.evt.button)||l.Konva.dragButtons.indexOf(e.evt.button)>=0))return;if(this.isDragging())return;let t=!1;c.DD._dragElements.forEach((e=>{this.isAncestorOf(e.node)&&(t=!0)})),t||this._createDragElement(e)}))}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();if(!this.getStage())return;const e=c.DD._dragElements.get(this._id),t=e&&"dragging"===e.dragStatus,n=e&&"ready"===e.dragStatus;t?this.stopDrag():n&&c.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};const t=this.getStage();if(!t)return!1;const n={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return o.Util.haveIntersection(n,this.getClientRect())}static create(e,t){return o.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){let n,r,i,a=C.prototype.getClassName.call(e),s=e.children;t&&(e.attrs.container=t),l.Konva[a]||(o.Util.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");if(n=new(0,l.Konva[a])(e.attrs),s)for(r=s.length,i=0;i<r;i++)n.add(C._createNode(s[i]));return n}}t.Node=C,C.prototype.nodeType="Node",C.prototype._attrsAffectingSize=[],C.prototype.eventListeners={},C.prototype.on.call(C.prototype,_,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(E),this._clearSelfAndDescendantCache(f))})),C.prototype.on.call(C.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(k)})),C.prototype.on.call(C.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(y)})),C.prototype.on.call(C.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(d)}));const A=a.Factory.addGetterSetter;A(C,"zIndex"),A(C,"absolutePosition"),A(C,"position"),A(C,"x",0,(0,u.getNumberValidator)()),A(C,"y",0,(0,u.getNumberValidator)()),A(C,"globalCompositeOperation","source-over",(0,u.getStringValidator)()),A(C,"opacity",1,(0,u.getNumberValidator)()),A(C,"name","",(0,u.getStringValidator)()),A(C,"id","",(0,u.getStringValidator)()),A(C,"rotation",0,(0,u.getNumberValidator)()),a.Factory.addComponentsGetterSetter(C,"scale",["x","y"]),A(C,"scaleX",1,(0,u.getNumberValidator)()),A(C,"scaleY",1,(0,u.getNumberValidator)()),a.Factory.addComponentsGetterSetter(C,"skew",["x","y"]),A(C,"skewX",0,(0,u.getNumberValidator)()),A(C,"skewY",0,(0,u.getNumberValidator)()),a.Factory.addComponentsGetterSetter(C,"offset",["x","y"]),A(C,"offsetX",0,(0,u.getNumberValidator)()),A(C,"offsetY",0,(0,u.getNumberValidator)()),A(C,"dragDistance",void 0,(0,u.getNumberValidator)()),A(C,"width",0,(0,u.getNumberValidator)()),A(C,"height",0,(0,u.getNumberValidator)()),A(C,"listening",!0,(0,u.getBooleanValidator)()),A(C,"preventDefault",!0,(0,u.getBooleanValidator)()),A(C,"filters",void 0,(function(e){return this._filterUpToDate=!1,e})),A(C,"visible",!0,(0,u.getBooleanValidator)()),A(C,"transformsEnabled","all",(0,u.getStringValidator)()),A(C,"size"),A(C,"dragBoundFunc"),A(C,"draggable",!1,(0,u.getBooleanValidator)()),a.Factory.backCompat(C,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"})},800:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCapturedShape=function(e){return i.get(e)},t.createEvent=a,t.hasPointerCapture=function(e,t){return i.get(e)===t},t.setPointerCapture=function(e,t){s(e);if(!t.getStage())return;i.set(e,t),o&&t._fire("gotpointercapture",a(new PointerEvent("gotpointercapture")))},t.releaseCapture=s;const r=n(2829),i=new Map,o=void 0!==r.Konva._global.PointerEvent;function a(e){return{evt:e,pointerId:e.pointerId}}function s(e,t){const n=i.get(e);if(!n)return;const r=n.getStage();r&&r.content,i.delete(e),o&&n._fire("lostpointercapture",a(new PointerEvent("lostpointercapture")))}},7685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const r=n(2829),i=n(2710),o=n(2818),a=n(5714),s=n(7621),l=n(2829),c=n(800),u="hasShadow",d="shadowRGBA",h="patternImage",f="linearGradient",p="radialGradient";let g;function y(){return g||(g=i.Util.createCanvasElement().getContext("2d"),g)}t.shapes={};class m extends a.Node{constructor(e){let n;for(super(e);n=i.Util.getRandomColor(),!n||n in t.shapes;);this.colorKey=n,t.shapes[n]=this}getContext(){return i.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return i.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(u,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(h,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const e=y().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(e&&e.setTransform){const t=new i.Transform;t.translate(this.fillPatternX(),this.fillPatternY()),t.rotate(r.Konva.getAngle(this.fillPatternRotation())),t.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),t.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const n=t.getMatrix(),o="undefined"===typeof DOMMatrix?{a:n[0],b:n[1],c:n[2],d:n[3],e:n[4],f:n[5]}:new DOMMatrix(n);e.setTransform(o)}return e}}_getLinearGradient(){return this._getCache(f,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const t=y(),n=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),i=t.createLinearGradient(n.x,n.y,r.x,r.y);for(let o=0;o<e.length;o+=2)i.addColorStop(e[o],e[o+1]);return i}}_getRadialGradient(){return this._getCache(p,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const t=y(),n=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),i=t.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius());for(let o=0;o<e.length;o+=2)i.addColorStop(e[o],e[o+1]);return i}}getShadowRGBA(){return this._getCache(d,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=i.Util.colorToRGBA(this.shadowColor());return e?"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")":void 0}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())))}hasHitStroke(){const e=this.hitStrokeWidth();return"auto"===e?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const t=this.getStage();if(!t)return!1;const n=t.bufferHitCanvas;n.getContext().clear(),this.drawHit(n,void 0,!0);return n.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return a.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var t;if(!(null===(t=this.attrs.perfectDrawEnabled)||void 0===t||t))return!1;const n=e||this.hasFill(),r=this.hasStroke(),i=1!==this.getAbsoluteOpacity();if(n&&r&&i)return!0;const o=this.hasShadow(),a=this.shadowForStrokeEnabled();return!!(n&&r&&o&&a)}setStrokeHitEnabled(e){i.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!1,n=this.getParent();for(;n;){if(n.isCached()){t=!0;break}n=n.getParent()}const r=e.skipTransform,i=e.relativeTo||t&&this.getStage()||void 0,o=this.getSelfRect(),a=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,s=o.width+a,l=o.height+a,c=!e.skipShadow&&this.hasShadow(),u=c?this.shadowOffsetX():0,d=c?this.shadowOffsetY():0,h=s+Math.abs(u),f=l+Math.abs(d),p=c&&this.shadowBlur()||0,g={width:h+2*p,height:f+2*p,x:-(a/2+p)+Math.min(u,0)+o.x,y:-(a/2+p)+Math.min(d,0)+o.y};return r?g:this._transformedRect(g,i)}drawScene(e,t,n){const r=this.getLayer();let i,o,a=e||r.getCanvas(),s=a.getContext(),l=this._getCanvasCache(),c=this.getSceneFunc(),u=this.hasShadow();const d=a.isCache,h=t===this;if(!this.isVisible()&&!h)return this;if(l){s.save();const e=this.getAbsoluteTransform(t).getMatrix();return s.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!c)return this;if(s.save(),this._useBufferCanvas()&&!d){i=this.getStage();const e=n||i.bufferCanvas;o=e.getContext(),o.clear(),o.save(),o._applyLineJoin(this);var f=this.getAbsoluteTransform(t).getMatrix();o.transform(f[0],f[1],f[2],f[3],f[4],f[5]),c.call(this,o,this),o.restore();const r=e.pixelRatio;u&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(e._canvas,0,0,e.width/r,e.height/r)}else{if(s._applyLineJoin(this),!h){f=this.getAbsoluteTransform(t).getMatrix();s.transform(f[0],f[1],f[2],f[3],f[4],f[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}u&&s._applyShadow(this),c.call(this,s,this)}return s.restore(),this}drawHit(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.shouldDrawHit(t,n))return this;const r=this.getLayer(),o=e||r.hitCanvas,a=o&&o.getContext(),s=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||i.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){a.save();const e=this.getAbsoluteTransform(t).getMatrix();return a.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this._drawCachedHitCanvas(a),a.restore(),this}if(!s)return this;a.save(),a._applyLineJoin(this);if(!(this===t)){const e=this.getAbsoluteTransform(t).getMatrix();a.transform(e[0],e[1],e[2],e[3],e[4],e[5])}return s.call(this,a,this),a.restore(),this}drawHitFromCache(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=this._getCanvasCache(),n=this._getCachedSceneCanvas(),r=t.hit,o=r.getContext(),a=r.getWidth(),s=r.getHeight();o.clear(),o.drawImage(n._canvas,0,0,a,s);try{const t=o.getImageData(0,0,a,s),n=t.data,r=n.length,l=i.Util._hexToRgb(this.colorKey);for(let i=0;i<r;i+=4){n[i+3]>e?(n[i]=l.r,n[i+1]=l.g,n[i+2]=l.b,n[i+3]=255):n[i+3]=0}o.putImageData(t,0,0)}catch(l){i.Util.error("Unable to draw hit graph from cached scene canvas. "+l.message)}return this}hasPointerCapture(e){return c.hasPointerCapture(e,this)}setPointerCapture(e){c.setPointerCapture(e,this)}releaseCapture(e){c.releaseCapture(e,this)}}t.Shape=m,m.prototype._fillFunc=function(e){const t=this.attrs.fillRule;t?e.fill(t):e.fill()},m.prototype._strokeFunc=function(e){e.stroke()},m.prototype._fillFuncHit=function(e){const t=this.attrs.fillRule;t?e.fill(t):e.fill()},m.prototype._strokeFuncHit=function(e){e.stroke()},m.prototype._centroid=!1,m.prototype.nodeType="Shape",(0,l._registerNode)(m),m.prototype.eventListeners={},m.prototype.on.call(m.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(u)})),m.prototype.on.call(m.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(d)})),m.prototype.on.call(m.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",(function(){this._clearCache(h)})),m.prototype.on.call(m.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache(f)})),m.prototype.on.call(m.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache(p)})),o.Factory.addGetterSetter(m,"stroke",void 0,(0,s.getStringOrGradientValidator)()),o.Factory.addGetterSetter(m,"strokeWidth",2,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(m,"fillAfterStrokeEnabled",!1),o.Factory.addGetterSetter(m,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),o.Factory.addGetterSetter(m,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),o.Factory.addGetterSetter(m,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),o.Factory.addGetterSetter(m,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),o.Factory.addGetterSetter(m,"lineJoin"),o.Factory.addGetterSetter(m,"lineCap"),o.Factory.addGetterSetter(m,"sceneFunc"),o.Factory.addGetterSetter(m,"hitFunc"),o.Factory.addGetterSetter(m,"dash"),o.Factory.addGetterSetter(m,"dashOffset",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(m,"shadowColor",void 0,(0,s.getStringValidator)()),o.Factory.addGetterSetter(m,"shadowBlur",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(m,"shadowOpacity",1,(0,s.getNumberValidator)()),o.Factory.addComponentsGetterSetter(m,"shadowOffset",["x","y"]),o.Factory.addGetterSetter(m,"shadowOffsetX",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(m,"shadowOffsetY",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(m,"fillPatternImage"),o.Factory.addGetterSetter(m,"fill",void 0,(0,s.getStringOrGradientValidator)()),o.Factory.addGetterSetter(m,"fillPatternX",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(m,"fillPatternY",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(m,"fillLinearGradientColorStops"),o.Factory.addGetterSetter(m,"strokeLinearGradientColorStops"),o.Factory.addGetterSetter(m,"fillRadialGradientStartRadius",0),o.Factory.addGetterSetter(m,"fillRadialGradientEndRadius",0),o.Factory.addGetterSetter(m,"fillRadialGradientColorStops"),o.Factory.addGetterSetter(m,"fillPatternRepeat","repeat"),o.Factory.addGetterSetter(m,"fillEnabled",!0),o.Factory.addGetterSetter(m,"strokeEnabled",!0),o.Factory.addGetterSetter(m,"shadowEnabled",!0),o.Factory.addGetterSetter(m,"dashEnabled",!0),o.Factory.addGetterSetter(m,"strokeScaleEnabled",!0),o.Factory.addGetterSetter(m,"fillPriority","color"),o.Factory.addComponentsGetterSetter(m,"fillPatternOffset",["x","y"]),o.Factory.addGetterSetter(m,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(m,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),o.Factory.addComponentsGetterSetter(m,"fillPatternScale",["x","y"]),o.Factory.addGetterSetter(m,"fillPatternScaleX",1,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(m,"fillPatternScaleY",1,(0,s.getNumberValidator)()),o.Factory.addComponentsGetterSetter(m,"fillLinearGradientStartPoint",["x","y"]),o.Factory.addComponentsGetterSetter(m,"strokeLinearGradientStartPoint",["x","y"]),o.Factory.addGetterSetter(m,"fillLinearGradientStartPointX",0),o.Factory.addGetterSetter(m,"strokeLinearGradientStartPointX",0),o.Factory.addGetterSetter(m,"fillLinearGradientStartPointY",0),o.Factory.addGetterSetter(m,"strokeLinearGradientStartPointY",0),o.Factory.addComponentsGetterSetter(m,"fillLinearGradientEndPoint",["x","y"]),o.Factory.addComponentsGetterSetter(m,"strokeLinearGradientEndPoint",["x","y"]),o.Factory.addGetterSetter(m,"fillLinearGradientEndPointX",0),o.Factory.addGetterSetter(m,"strokeLinearGradientEndPointX",0),o.Factory.addGetterSetter(m,"fillLinearGradientEndPointY",0),o.Factory.addGetterSetter(m,"strokeLinearGradientEndPointY",0),o.Factory.addComponentsGetterSetter(m,"fillRadialGradientStartPoint",["x","y"]),o.Factory.addGetterSetter(m,"fillRadialGradientStartPointX",0),o.Factory.addGetterSetter(m,"fillRadialGradientStartPointY",0),o.Factory.addComponentsGetterSetter(m,"fillRadialGradientEndPoint",["x","y"]),o.Factory.addGetterSetter(m,"fillRadialGradientEndPointX",0),o.Factory.addGetterSetter(m,"fillRadialGradientEndPointY",0),o.Factory.addGetterSetter(m,"fillPatternRotation",0),o.Factory.addGetterSetter(m,"fillRule",void 0,(0,s.getStringValidator)()),o.Factory.backCompat(m,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})},6818:(e,t,n)=>{"use strict";var r=n(2897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const i=n(2710),o=n(2818),a=n(5099),s=n(2829),l=n(1262),c=n(5422),u=n(2829),d=n(800),h="mouseleave",f="mouseover",p="mouseenter",g="mousemove",y="mousedown",m="mouseup",v="pointermove",b="pointerdown",w="pointerup",x="pointercancel",E="pointerout",k="pointerleave",_="pointerover",S="pointerenter",C="contextmenu",A="touchstart",O="touchend",N="touchmove",P="touchcancel",j="wheel",D=[[p,"_pointerenter"],[y,"_pointerdown"],[g,"_pointermove"],[m,"_pointerup"],[h,"_pointerleave"],[A,"_pointerdown"],[N,"_pointermove"],[O,"_pointerup"],[P,"_pointercancel"],[f,"_pointerover"],[j,"_wheel"],[C,"_contextmenu"],[b,"_pointerdown"],[v,"_pointermove"],[w,"_pointerup"],[x,"_pointercancel"],["lostpointercapture","_lostpointercapture"]],R={mouse:{[E]:"mouseout",[k]:h,[_]:f,[S]:p,[v]:g,[b]:y,[w]:m,[x]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[E]:"touchout",[k]:"touchleave",[_]:"touchover",[S]:"touchenter",[v]:N,[b]:A,[w]:O,[x]:P,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[E]:E,[k]:k,[_]:_,[S]:S,[v]:v,[b]:b,[w]:w,[x]:x,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},T=e=>e.indexOf("pointer")>=0?"pointer":e.indexOf("touch")>=0?"touch":"mouse",I=e=>{const t=T(e);return"pointer"===t?s.Konva.pointerEventsEnabled&&R.pointer:"touch"===t?R.touch:"mouse"===t?R.mouse:void 0};function F(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e.clipFunc||e.clipWidth||e.clipHeight)&&i.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),e}t.stages=[];class L extends a.Container{constructor(e){super(F(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(()=>{F(this.attrs)})),this._checkVisibility()}_validateAdd(e){const t="Layer"===e.getType(),n="FastLayer"===e.getType();t||n||i.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if("string"===typeof e){if("."===e.charAt(0)){const t=e.slice(1);e=document.getElementsByClassName(t)[0]}else{var t;t="#"!==e.charAt(0)?e:e.slice(1),e=document.getElementById(t)}if(!e)throw"Can not find container in document with id "+t}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,t=e.length;for(let n=0;n<t;n++)e[n].clear();return this}clone(e){return e||(e={}),e.container="undefined"!==typeof document&&document.createElement("div"),a.Container.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&i.Util._isInDocument(e)&&this.container().removeChild(e);const n=t.stages.indexOf(this);return n>-1&&t.stages.splice(n,1),i.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(i.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(e){return this._pointerPositions.find((t=>t.id===e))}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){(e=e||{}).x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const t=new l.SceneCanvas({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),n=t.getContext()._context,r=this.children;return(e.x||e.y)&&n.translate(-1*e.x,-1*e.y),r.forEach((function(t){if(!t.isVisible())return;const r=t._toKonvaCanvas(e);n.drawImage(r._canvas,e.x,e.y,r.getWidth()/r.getPixelRatio(),r.getHeight()/r.getPixelRatio())})),t}getIntersection(e){if(!e)return null;const t=this.children;for(let n=t.length-1;n>=0;n--){const r=t[n].getIntersection(e);if(r)return r}return null}_resizeDOM(){const e=this.width(),t=this.height();this.content&&(this.content.style.width=e+"px",this.content.style.height=t+"px"),this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t),this.children.forEach((n=>{n.setSize({width:e,height:t}),n.draw()}))}add(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}super.add(e);const o=this.children.length;return o>5&&i.Util.warn("The stage has "+o+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),s.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return d.hasPointerCapture(e,this)}setPointerCapture(e){d.setPointerCapture(e,this)}releaseCapture(e){d.releaseCapture(e,this)}getLayers(){return this.children}_bindContentEvents(){s.Konva.isBrowser&&D.forEach((e=>{let[t,n]=e;this.content.addEventListener(t,(e=>{this[n](e)}),{passive:!1})}))}_pointerenter(e){this.setPointersPositions(e);const t=I(e.type);t&&this._fire(t.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const t=I(e.type);t&&this._fire(t.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let t=this[e+"targetShape"];return t&&!t.getStage()&&(t=null),t}_pointerleave(e){const t=I(e.type),n=T(e.type);if(!t)return;this.setPointersPositions(e);const r=this._getTargetShape(n),i=!(s.Konva.isDragging()||s.Konva.isTransforming())||s.Konva.hitOnDragEnabled;r&&i?(r._fireAndBubble(t.pointerout,{evt:e}),r._fireAndBubble(t.pointerleave,{evt:e}),this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this[n+"targetShape"]=null):i&&(this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(t.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const t=I(e.type),n=T(e.type);if(!t)return;this.setPointersPositions(e);let r=!1;this._changedPointerPositions.forEach((i=>{const o=this.getIntersection(i);if(c.DD.justDragged=!1,s.Konva["_"+n+"ListenClick"]=!0,!o||!o.isListening())return void(this[n+"ClickStartShape"]=void 0);s.Konva.capturePointerEventsEnabled&&o.setPointerCapture(i.id),this[n+"ClickStartShape"]=o,o._fireAndBubble(t.pointerdown,{evt:e,pointerId:i.id}),r=!0;const a=e.type.indexOf("touch")>=0;o.preventDefault()&&e.cancelable&&a&&e.preventDefault()})),r||this._fire(t.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const t=I(e.type),n=T(e.type);if(!t)return;s.Konva.isDragging()&&c.DD.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e);if(!(!(s.Konva.isDragging()||s.Konva.isTransforming())||s.Konva.hitOnDragEnabled))return;const i={};let o=!1;const a=this._getTargetShape(n);this._changedPointerPositions.forEach((s=>{const l=d.getCapturedShape(s.id)||this.getIntersection(s),c=s.id,u={evt:e,pointerId:c},h=a!==l;if(h&&a&&(a._fireAndBubble(t.pointerout,r({},u),l),a._fireAndBubble(t.pointerleave,r({},u),l)),l){if(i[l._id])return;i[l._id]=!0}l&&l.isListening()?(o=!0,h&&(l._fireAndBubble(t.pointerover,r({},u),a),l._fireAndBubble(t.pointerenter,r({},u),a),this[n+"targetShape"]=l),l._fireAndBubble(t.pointermove,r({},u))):a&&(this._fire(t.pointerover,{evt:e,target:this,currentTarget:this,pointerId:c}),this[n+"targetShape"]=null)})),o||this._fire(t.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const t=I(e.type),n=T(e.type);if(!t)return;this.setPointersPositions(e);const i=this[n+"ClickStartShape"],o=this[n+"ClickEndShape"],a={};let l=!1;this._changedPointerPositions.forEach((u=>{const h=d.getCapturedShape(u.id)||this.getIntersection(u);if(h){if(h.releaseCapture(u.id),a[h._id])return;a[h._id]=!0}const f=u.id,p={evt:e,pointerId:f};let g=!1;s.Konva["_"+n+"InDblClickWindow"]?(g=!0,clearTimeout(this[n+"DblTimeout"])):c.DD.justDragged||(s.Konva["_"+n+"InDblClickWindow"]=!0,clearTimeout(this[n+"DblTimeout"])),this[n+"DblTimeout"]=setTimeout((function(){s.Konva["_"+n+"InDblClickWindow"]=!1}),s.Konva.dblClickWindow),h&&h.isListening()?(l=!0,this[n+"ClickEndShape"]=h,h._fireAndBubble(t.pointerup,r({},p)),s.Konva["_"+n+"ListenClick"]&&i&&i===h&&(h._fireAndBubble(t.pointerclick,r({},p)),g&&o&&o===h&&h._fireAndBubble(t.pointerdblclick,r({},p)))):(this[n+"ClickEndShape"]=null,s.Konva["_"+n+"ListenClick"]&&this._fire(t.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:f}),g&&this._fire(t.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:f}))})),l||this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),s.Konva["_"+n+"ListenClick"]=!1,e.cancelable&&"touch"!==n&&"pointer"!==n&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(C,{evt:e}):this._fire(C,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(j,{evt:e}):this._fire(j,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const t=d.getCapturedShape(e.pointerId)||this.getIntersection(this.getPointerPosition());t&&t._fireAndBubble(w,d.createEvent(e)),d.releaseCapture(e.pointerId)}_lostpointercapture(e){d.releaseCapture(e.pointerId)}setPointersPositions(e){const t=this._getContentPosition();let n=null,r=null;void 0!==(e=e||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,(e=>{this._pointerPositions.push({id:e.identifier,x:(e.clientX-t.left)/t.scaleX,y:(e.clientY-t.top)/t.scaleY})})),Array.prototype.forEach.call(e.changedTouches||e.touches,(e=>{this._changedPointerPositions.push({id:e.identifier,x:(e.clientX-t.left)/t.scaleX,y:(e.clientY-t.top)/t.scaleY})}))):(n=(e.clientX-t.left)/t.scaleX,r=(e.clientY-t.top)/t.scaleY,this.pointerPos={x:n,y:r},this._pointerPositions=[{x:n,y:r,id:i.Util._getFirstPointerId(e)}],this._changedPointerPositions=[{x:n,y:r,id:i.Util._getFirstPointerId(e)}])}_setPointerPosition(e){i.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new l.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new l.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!s.Konva.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return i.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach((function(e){e.batchDraw()})),this}}t.Stage=L,L.prototype.nodeType="Stage",(0,u._registerNode)(L),o.Factory.addGetterSetter(L,"container"),s.Konva.isBrowser&&document.addEventListener("visibilitychange",(()=>{t.stages.forEach((e=>{e.batchDraw()}))}))},9847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const r=n(2710),i=n(818),o=n(5714),a=n(2829),s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},l=["fill","stroke","shadowColor"];let c=0;class u{constructor(e,t,n,r,i,o,a){this.prop=e,this.propFunc=t,this.begin=r,this._pos=r,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=i-this.begin,this.pause()}fire(e){const t=this[e];t&&t()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return void 0===e&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;2===this.state?this.setTime(e):3===this.state&&this.setTime(this.duration-e)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class d{constructor(e){const n=this,o=e.node,l=o._id,h=e.easing||t.Easings.Linear,f=!!e.yoyo;let p,g;p="undefined"===typeof e.duration?.3:0===e.duration?.001:e.duration,this.node=o,this._id=c++;const y=o.getLayer()||(o instanceof a.Konva.Stage?o.getLayers():null);for(g in y||r.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new i.Animation((function(){n.tween.onEnterFrame()}),y),this.tween=new u(g,(function(e){n._tweenFunc(e)}),h,0,1,1e3*p,f),this._addListeners(),d.attrs[l]||(d.attrs[l]={}),d.attrs[l][this._id]||(d.attrs[l][this._id]={}),d.tweens[l]||(d.tweens[l]={}),e)void 0===s[g]&&this._addAttr(g,e[g]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,t){const n=this.node,i=n._id;let o,a,s,c,u;const h=d.tweens[i][e];h&&delete d.attrs[i][h][e];let f=n.getAttr(e);if(r.Util._isArray(t))if(o=[],a=Math.max(t.length,f.length),"points"===e&&t.length!==f.length&&(t.length>f.length?(c=f,f=r.Util._prepareArrayForTween(f,t,n.closed())):(s=t,t=r.Util._prepareArrayForTween(t,f,n.closed()))),0===e.indexOf("fill"))for(let l=0;l<a;l++)if(l%2===0)o.push(t[l]-f[l]);else{const e=r.Util.colorToRGBA(f[l]);u=r.Util.colorToRGBA(t[l]),f[l]=e,o.push({r:u.r-e.r,g:u.g-e.g,b:u.b-e.b,a:u.a-e.a})}else for(let r=0;r<a;r++)o.push(t[r]-f[r]);else-1!==l.indexOf(e)?(f=r.Util.colorToRGBA(f),u=r.Util.colorToRGBA(t),o={r:u.r-f.r,g:u.g-f.g,b:u.b-f.b,a:u.a-f.a}):o=t-f;d.attrs[i][this._id][e]={start:f,diff:o,end:t,trueEnd:s,trueStart:c},d.tweens[i][e]=this._id}_tweenFunc(e){const t=this.node,n=d.attrs[t._id][this._id];let i,o,a,s,c,u,h,f;for(i in n){if(o=n[i],a=o.start,s=o.diff,f=o.end,r.Util._isArray(a))if(c=[],h=Math.max(a.length,f.length),0===i.indexOf("fill"))for(u=0;u<h;u++)u%2===0?c.push((a[u]||0)+s[u]*e):c.push("rgba("+Math.round(a[u].r+s[u].r*e)+","+Math.round(a[u].g+s[u].g*e)+","+Math.round(a[u].b+s[u].b*e)+","+(a[u].a+s[u].a*e)+")");else for(u=0;u<h;u++)c.push((a[u]||0)+s[u]*e);else c=-1!==l.indexOf(i)?"rgba("+Math.round(a.r+s.r*e)+","+Math.round(a.g+s.g*e)+","+Math.round(a.b+s.b*e)+","+(a.a+s.a*e)+")":a+s*e;t.setAttr(i,c)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,t=d.attrs[e._id][this._id];t.points&&t.points.trueEnd&&e.setAttr("points",t.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,t=d.attrs[e._id][this._id];t.points&&t.points.trueStart&&e.points(t.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(1e3*e),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,t=this._id,n=d.tweens[e];this.pause();for(const r in n)delete d.tweens[e][r];delete d.attrs[e][t]}}t.Tween=d,d.attrs={},d.tweens={},o.Node.prototype.to=function(e){const t=e.onFinish;e.node=this,e.onFinish=function(){this.destroy(),t&&t()};new d(e).play()},t.Easings={BackEaseIn(e,t,n,r){const i=1.70158;return n*(e/=r)*e*((i+1)*e-i)+t},BackEaseOut(e,t,n,r){const i=1.70158;return n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},BackEaseInOut(e,t,n,r){let i=1.70158;return(e/=r/2)<1?n/2*(e*e*((1+(i*=1.525))*e-i))+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},ElasticEaseIn(e,t,n,r,i,o){let a=0;return 0===e?t:1===(e/=r)?t+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)+t)},ElasticEaseOut(e,t,n,r,i,o){let a=0;return 0===e?t:1===(e/=r)?t+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*r-a)*(2*Math.PI)/o)+n+t)},ElasticEaseInOut(e,t,n,r,i,o){let a=0;return 0===e?t:2===(e/=r/2)?t+n:(o||(o=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*-.5+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*.5+n+t)},BounceEaseOut:(e,t,n,r)=>(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t,BounceEaseIn:(e,n,r,i)=>r-t.Easings.BounceEaseOut(i-e,0,r,i)+n,BounceEaseInOut:(e,n,r,i)=>e<i/2?.5*t.Easings.BounceEaseIn(2*e,0,r,i)+n:.5*t.Easings.BounceEaseOut(2*e-i,0,r,i)+.5*r+n,EaseIn:(e,t,n,r)=>n*(e/=r)*e+t,EaseOut:(e,t,n,r)=>-n*(e/=r)*(e-2)+t,EaseInOut:(e,t,n,r)=>(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t,StrongEaseIn:(e,t,n,r)=>n*(e/=r)*e*e*e*e+t,StrongEaseOut:(e,t,n,r)=>n*((e=e/r-1)*e*e*e*e+1)+t,StrongEaseInOut:(e,t,n,r)=>(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t,Linear:(e,t,n,r)=>n*e/r+t}},2710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const r=n(2829);class i{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[1,0,0,1,0,0];this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new i(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}translate(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}scale(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),r=this.m[0]*t+this.m[2]*n,i=this.m[1]*t+this.m[3]*n,o=this.m[0]*-n+this.m[2]*t,a=this.m[1]*-n+this.m[3]*t;return this.m[0]=r,this.m[1]=i,this.m[2]=o,this.m[3]=a,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,t){const n=this.m[0]+this.m[2]*t,r=this.m[1]+this.m[3]*t,i=this.m[2]+this.m[0]*e,o=this.m[3]+this.m[1]*e;return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=o,this}multiply(e){const t=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],r=this.m[0]*e.m[2]+this.m[2]*e.m[3],i=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=a,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,n=-this.m[1]*e,r=-this.m[2]*e,i=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=a,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],r=this.m[2],i=this.m[3],o=e*i-n*r,a={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=e||0!=n){const t=Math.sqrt(e*e+n*n);a.rotation=n>0?Math.acos(e/t):-Math.acos(e/t),a.scaleX=t,a.scaleY=o/t,a.skewX=(e*r+n*i)/o,a.skewY=0}else if(0!=r||0!=i){const t=Math.sqrt(r*r+i*i);a.rotation=Math.PI/2-(i>0?Math.acos(-r/t):-Math.acos(r/t)),a.scaleX=o/t,a.scaleY=t,a.skewX=0,a.skewY=(e*r+n*i)/o}return a.rotation=t.Util._getRotation(a.rotation),a}}t.Transform=i;const o=Math.PI/180,a=180/Math.PI,s="Konva error: ",l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},c=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let u=[];const d="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame||function(e){setTimeout(e,60)};t.Util={_isElement:e=>!(!e||1!=e.nodeType),_isFunction:e=>!!(e&&e.constructor&&e.call&&e.apply),_isPlainObject:e=>!!e&&e.constructor===Object,_isArray:e=>"[object Array]"===Object.prototype.toString.call(e),_isNumber:e=>"[object Number]"===Object.prototype.toString.call(e)&&!isNaN(e)&&isFinite(e),_isString:e=>"[object String]"===Object.prototype.toString.call(e),_isBoolean:e=>"[object Boolean]"===Object.prototype.toString.call(e),isObject:e=>e instanceof Object,isValidSelector(e){if("string"!==typeof e)return!1;const t=e[0];return"#"===t||"."===t||t===t.toUpperCase()},_sign:e=>0===e||e>0?1:-1,requestAnimFrame(e){u.push(e),1===u.length&&d((function(){const e=u;u=[],e.forEach((function(e){e()}))}))},createCanvasElement(){const e=document.createElement("canvas");try{e.style=e.style||{}}catch(t){}return e},createImageElement:()=>document.createElement("img"),_isInDocument(e){for(;e=e.parentNode;)if(e==document)return!0;return!1},_urlToImage(e,n){const r=t.Util.createImageElement();r.onload=function(){n(r)},r.src=e},_rgbToHex:(e,t,n)=>((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1),_hexToRgb(e){e=e.replace("#","");const t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}},getRandomColor(){let e=(16777215*Math.random()|0).toString(16);for(;e.length<6;)e="0"+e;return"#"+e},getRGB(e){let t;return e in l?(t=l[e],{r:t[0],g:t[1],b:t[2]}):"#"===e[0]?this._hexToRgb(e.substring(1)):"rgb("===e.substr(0,4)?(t=c.exec(e.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA:e=>(e=e||"black",t.Util._namedColorToRBA(e)||t.Util._hex3ColorToRGBA(e)||t.Util._hex4ColorToRGBA(e)||t.Util._hex6ColorToRGBA(e)||t.Util._hex8ColorToRGBA(e)||t.Util._rgbColorToRGBA(e)||t.Util._rgbaColorToRGBA(e)||t.Util._hslColorToRGBA(e)),_namedColorToRBA(e){const t=l[e.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA(e){if(0===e.indexOf("rgb(")){const t=(e=e.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA(e){if(0===e.indexOf("rgba(")){const t=(e=e.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(((e,t)=>"%"===e.slice(-1)?3===t?parseInt(e)/100:parseInt(e)/100*255:Number(e)));return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex8ColorToRGBA(e){if("#"===e[0]&&9===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:parseInt(e.slice(7,9),16)/255}},_hex6ColorToRGBA(e){if("#"===e[0]&&7===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:1}},_hex4ColorToRGBA(e){if("#"===e[0]&&5===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:parseInt(e[4]+e[4],16)/255}},_hex3ColorToRGBA(e){if("#"===e[0]&&4===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}},_hslColorToRGBA(e){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(e)){const[t,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e),r=Number(n[0])/360,i=Number(n[1])/100,o=Number(n[2])/100;let a,s,l;if(0===i)return l=255*o,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};a=o<.5?o*(1+i):o+i-o*i;const c=2*o-a,u=[0,0,0];for(let e=0;e<3;e++)s=r+1/3*-(e-1),s<0&&s++,s>1&&s--,l=6*s<1?c+6*(a-c)*s:2*s<1?a:3*s<2?c+(a-c)*(2/3-s)*6:c,u[e]=255*l;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection:(e,t)=>!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y),cloneObject(e){const t={};for(const n in e)this._isPlainObject(e[n])?t[n]=this.cloneObject(e[n]):this._isArray(e[n])?t[n]=this.cloneArray(e[n]):t[n]=e[n];return t},cloneArray:e=>e.slice(0),degToRad:e=>e*o,radToDeg:e=>e*a,_degToRad:e=>(t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(e)),_radToDeg:e=>(t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(e)),_getRotation:e=>r.Konva.angleDeg?t.Util.radToDeg(e):e,_capitalize:e=>e.charAt(0).toUpperCase()+e.slice(1),throw(e){throw new Error(s+e)},error(e){console.error(s+e)},warn(e){r.Konva.showWarnings&&console.warn("Konva warning: "+e)},each(e,t){for(const n in e)t(n,e[n])},_inRange:(e,t,n)=>t<=e&&e<n,_getProjectionToSegment(e,t,n,r,i,o){let a,s,l;const c=(e-n)*(e-n)+(t-r)*(t-r);if(0==c)a=e,s=t,l=(i-n)*(i-n)+(o-r)*(o-r);else{const u=((i-e)*(n-e)+(o-t)*(r-t))/c;u<0?(a=e,s=t,l=(e-i)*(e-i)+(t-o)*(t-o)):u>1?(a=n,s=r,l=(n-i)*(n-i)+(r-o)*(r-o)):(a=e+u*(n-e),s=t+u*(r-t),l=(a-i)*(a-i)+(s-o)*(s-o))}return[a,s,l]},_getProjectionToLine(e,n,r){const i=t.Util.cloneObject(e);let o=Number.MAX_VALUE;return n.forEach((function(a,s){if(!r&&s===n.length-1)return;const l=n[(s+1)%n.length],c=t.Util._getProjectionToSegment(a.x,a.y,l.x,l.y,e.x,e.y),u=c[0],d=c[1],h=c[2];h<o&&(i.x=u,i.y=d,o=h)})),i},_prepareArrayForTween(e,n,r){const i=[],o=[];if(e.length>n.length){const t=n;n=e,e=t}for(let t=0;t<e.length;t+=2)i.push({x:e[t],y:e[t+1]});for(let t=0;t<n.length;t+=2)o.push({x:n[t],y:n[t+1]});const a=[];return o.forEach((function(e){const n=t.Util._getProjectionToLine(e,i,r);a.push(n.x),a.push(n.y)})),a},_prepareToStringify(e){let n;e.visitedByCircularReferenceRemoval=!0;for(const r in e)if(e.hasOwnProperty(r)&&e[r]&&"object"==typeof e[r])if(n=Object.getOwnPropertyDescriptor(e,r),e[r].visitedByCircularReferenceRemoval||t.Util._isElement(e[r])){if(!n.configurable)return null;delete e[r]}else if(null===t.Util._prepareToStringify(e[r])){if(!n.configurable)return null;delete e[r]}return delete e.visitedByCircularReferenceRemoval,e},_assign(e,t){for(const n in t)e[n]=t[n];return e},_getFirstPointerId:e=>e.touches?e.changedTouches[0].identifier:e.pointerId||999,releaseCanvas(){if(r.Konva.releaseCanvasOnDestroy){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((e=>{e.width=0,e.height=0}))}},drawRoundedRectPath(e,t,n,r){let i=0,o=0,a=0,s=0;"number"===typeof r?i=o=a=s=Math.min(r,t/2,n/2):(i=Math.min(r[0]||0,t/2,n/2),o=Math.min(r[1]||0,t/2,n/2),s=Math.min(r[2]||0,t/2,n/2),a=Math.min(r[3]||0,t/2,n/2)),e.moveTo(i,0),e.lineTo(t-o,0),e.arc(t-o,o,o,3*Math.PI/2,0,!1),e.lineTo(t,n-s),e.arc(t-s,n-s,s,0,Math.PI/2,!1),e.lineTo(a,n),e.arc(a,n-a,a,Math.PI/2,Math.PI,!1),e.lineTo(0,i),e.arc(i,i,i,Math.PI,3*Math.PI/2,!1)}}},7621:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RGBComponent=function(e){if(e>255)return 255;if(e<0)return 0;return Math.round(e)},t.alphaComponent=function(e){if(e>1)return 1;if(e<1e-4)return 1e-4;return e},t.getNumberValidator=function(){if(r.Konva.isUnminified)return function(e,t){return i.Util._isNumber(e)||i.Util.warn(o(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}},t.getNumberOrArrayOfNumbersValidator=function(e){if(r.Konva.isUnminified)return function(t,n){let r=i.Util._isNumber(t),a=i.Util._isArray(t)&&t.length==e;return r||a||i.Util.warn(o(t)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+e+")"),t}},t.getNumberOrAutoValidator=function(){if(r.Konva.isUnminified)return function(e,t){return i.Util._isNumber(e)||"auto"===e||i.Util.warn(o(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}},t.getStringValidator=function(){if(r.Konva.isUnminified)return function(e,t){return i.Util._isString(e)||i.Util.warn(o(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}},t.getStringOrGradientValidator=function(){if(r.Konva.isUnminified)return function(e,t){const n=i.Util._isString(e),r="[object CanvasGradient]"===Object.prototype.toString.call(e)||e&&e.addColorStop;return n||r||i.Util.warn(o(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}},t.getFunctionValidator=function(){if(r.Konva.isUnminified)return function(e,t){return i.Util._isFunction(e)||i.Util.warn(o(e)+' is a not valid value for "'+t+'" attribute. The value should be a function.'),e}},t.getNumberArrayValidator=function(){if(r.Konva.isUnminified)return function(e,t){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&e instanceof n||(i.Util._isArray(e)?e.forEach((function(e){i.Util._isNumber(e)||i.Util.warn('"'+t+'" attribute has non numeric element '+e+". Make sure that all elements are numbers.")})):i.Util.warn(o(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),e}},t.getBooleanValidator=function(){if(r.Konva.isUnminified)return function(e,t){return!0===e||!1===e||i.Util.warn(o(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}},t.getComponentValidator=function(e){if(r.Konva.isUnminified)return function(t,n){return void 0===t||null===t||i.Util.isObject(t)||i.Util.warn(o(t)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+e),t}};const r=n(2829),i=n(2710);function o(e){return i.Util._isString(e)?'"'+e+'"':"[object Number]"===Object.prototype.toString.call(e)||i.Util._isBoolean(e)?e:Object.prototype.toString.call(e)}},9786:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const r=n(2829),i=n(2710),o=n(5714),a=n(5099),s=n(6818),l=n(2517),c=n(3347),u=n(71),d=n(5422),h=n(7685),f=n(818),p=n(9847),g=n(5671),y=n(1262);t.Konva=i.Util._assign(r.Konva,{Util:i.Util,Transform:i.Transform,Node:o.Node,Container:a.Container,Stage:s.Stage,stages:s.stages,Layer:l.Layer,FastLayer:c.FastLayer,Group:u.Group,DD:d.DD,Shape:h.Shape,shapes:h.shapes,Animation:f.Animation,Tween:p.Tween,Easings:p.Easings,Context:g.Context,Canvas:y.Canvas}),t.default=t.Konva},9640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const r=n(9786),i=n(7731),o=n(4022),a=n(3183),s=n(4205),l=n(3410),c=n(1453),u=n(7297),d=n(8440),h=n(5133),f=n(4713),p=n(2993),g=n(9302),y=n(6835),m=n(7259),v=n(5107),b=n(9828),w=n(1687),x=n(6535),E=n(8525),k=n(1080),_=n(6337),S=n(9930),C=n(191),A=n(3151),O=n(5337),N=n(8682),P=n(1095),j=n(1562),D=n(4394),R=n(310),T=n(1377),I=n(7059),F=n(7388),L=n(6626),B=n(6967),M=n(7927);t.Konva=r.Konva.Util._assign(r.Konva,{Arc:i.Arc,Arrow:o.Arrow,Circle:a.Circle,Ellipse:s.Ellipse,Image:l.Image,Label:c.Label,Tag:c.Tag,Line:u.Line,Path:d.Path,Rect:h.Rect,RegularPolygon:f.RegularPolygon,Ring:p.Ring,Sprite:g.Sprite,Star:y.Star,Text:m.Text,TextPath:v.TextPath,Transformer:b.Transformer,Wedge:w.Wedge,Filters:{Blur:x.Blur,Brighten:E.Brighten,Contrast:k.Contrast,Emboss:_.Emboss,Enhance:S.Enhance,Grayscale:C.Grayscale,HSL:A.HSL,HSV:O.HSV,Invert:N.Invert,Kaleidoscope:P.Kaleidoscope,Mask:j.Mask,Noise:D.Noise,Pixelate:R.Pixelate,Posterize:T.Posterize,RGB:I.RGB,RGBA:F.RGBA,Sepia:L.Sepia,Solarize:B.Solarize,Threshold:M.Threshold}})},6535:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Blur=void 0;const r=n(2818),i=n(5714),o=n(7621);function a(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const s=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],l=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];t.Blur=function(e){const t=Math.round(this.blurRadius());t>0&&function(e,t){const n=e.data,r=e.width,i=e.height;let o,c,u,d,h,f,p,g,y,m,v,b,w,x,E,k,_,S,C,A,O,N,P,j;const D=t+t+1,R=r-1,T=i-1,I=t+1,F=I*(I+1)/2,L=new a,B=s[t],M=l[t];let U=null,z=L,H=null,q=null;for(u=1;u<D;u++)z=z.next=new a,u===I&&(U=z);for(z.next=L,p=f=0,c=0;c<i;c++){for(k=_=S=C=g=y=m=v=0,b=I*(A=n[f]),w=I*(O=n[f+1]),x=I*(N=n[f+2]),E=I*(P=n[f+3]),g+=F*A,y+=F*O,m+=F*N,v+=F*P,z=L,u=0;u<I;u++)z.r=A,z.g=O,z.b=N,z.a=P,z=z.next;for(u=1;u<I;u++)d=f+((R<u?R:u)<<2),g+=(z.r=A=n[d])*(j=I-u),y+=(z.g=O=n[d+1])*j,m+=(z.b=N=n[d+2])*j,v+=(z.a=P=n[d+3])*j,k+=A,_+=O,S+=N,C+=P,z=z.next;for(H=L,q=U,o=0;o<r;o++)n[f+3]=P=v*B>>M,0!==P?(P=255/P,n[f]=(g*B>>M)*P,n[f+1]=(y*B>>M)*P,n[f+2]=(m*B>>M)*P):n[f]=n[f+1]=n[f+2]=0,g-=b,y-=w,m-=x,v-=E,b-=H.r,w-=H.g,x-=H.b,E-=H.a,d=p+((d=o+t+1)<R?d:R)<<2,k+=H.r=n[d],_+=H.g=n[d+1],S+=H.b=n[d+2],C+=H.a=n[d+3],g+=k,y+=_,m+=S,v+=C,H=H.next,b+=A=q.r,w+=O=q.g,x+=N=q.b,E+=P=q.a,k-=A,_-=O,S-=N,C-=P,q=q.next,f+=4;p+=r}for(o=0;o<r;o++){for(_=S=C=k=y=m=v=g=0,f=o<<2,b=I*(A=n[f]),w=I*(O=n[f+1]),x=I*(N=n[f+2]),E=I*(P=n[f+3]),g+=F*A,y+=F*O,m+=F*N,v+=F*P,z=L,u=0;u<I;u++)z.r=A,z.g=O,z.b=N,z.a=P,z=z.next;for(h=r,u=1;u<=t;u++)f=h+o<<2,g+=(z.r=A=n[f])*(j=I-u),y+=(z.g=O=n[f+1])*j,m+=(z.b=N=n[f+2])*j,v+=(z.a=P=n[f+3])*j,k+=A,_+=O,S+=N,C+=P,z=z.next,u<T&&(h+=r);for(f=o,H=L,q=U,c=0;c<i;c++)d=f<<2,n[d+3]=P=v*B>>M,P>0?(P=255/P,n[d]=(g*B>>M)*P,n[d+1]=(y*B>>M)*P,n[d+2]=(m*B>>M)*P):n[d]=n[d+1]=n[d+2]=0,g-=b,y-=w,m-=x,v-=E,b-=H.r,w-=H.g,x-=H.b,E-=H.a,d=o+((d=c+I)<T?d:T)*r<<2,g+=k+=H.r=n[d],y+=_+=H.g=n[d+1],m+=S+=H.b=n[d+2],v+=C+=H.a=n[d+3],H=H.next,b+=A=q.r,w+=O=q.g,x+=N=q.b,E+=P=q.a,k-=A,_-=O,S-=N,C-=P,q=q.next,f+=r}}(e,t)},r.Factory.addGetterSetter(i.Node,"blurRadius",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter)},8525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Brighten=void 0;const r=n(2818),i=n(5714),o=n(7621);t.Brighten=function(e){const t=255*this.brightness(),n=e.data,r=n.length;for(let i=0;i<r;i+=4)n[i]+=t,n[i+1]+=t,n[i+2]+=t},r.Factory.addGetterSetter(i.Node,"brightness",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter)},1080:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Contrast=void 0;const r=n(2818),i=n(5714),o=n(7621);t.Contrast=function(e){const t=Math.pow((this.contrast()+100)/100,2),n=e.data,r=n.length;let i=150,o=150,a=150;for(let s=0;s<r;s+=4)i=n[s],o=n[s+1],a=n[s+2],i/=255,i-=.5,i*=t,i+=.5,i*=255,o/=255,o-=.5,o*=t,o+=.5,o*=255,a/=255,a-=.5,a*=t,a+=.5,a*=255,i=i<0?0:i>255?255:i,o=o<0?0:o>255?255:o,a=a<0?0:a>255?255:a,n[s]=i,n[s+1]=o,n[s+2]=a},r.Factory.addGetterSetter(i.Node,"contrast",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter)},6337:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emboss=void 0;const r=n(2818),i=n(5714),o=n(2710),a=n(7621);t.Emboss=function(e){const t=10*this.embossStrength(),n=255*this.embossWhiteLevel(),r=this.embossDirection(),i=this.embossBlend(),a=e.data,s=e.width,l=e.height,c=4*s;let u=0,d=0,h=l;switch(r){case"top-left":u=-1,d=-1;break;case"top":u=-1,d=0;break;case"top-right":u=-1,d=1;break;case"right":u=0,d=1;break;case"bottom-right":u=1,d=1;break;case"bottom":u=1,d=0;break;case"bottom-left":u=1,d=-1;break;case"left":u=0,d=-1;break;default:o.Util.error("Unknown emboss direction: "+r)}do{const e=(h-1)*c;let r=u;h+r<1&&(r=0),h+r>l&&(r=0);const o=(h-1+r)*s*4;let f=s;do{const r=e+4*(f-1);let l=d;f+l<1&&(l=0),f+l>s&&(l=0);const c=o+4*(f-1+l),u=a[r]-a[c],h=a[r+1]-a[c+1],p=a[r+2]-a[c+2];let g=u;const y=g>0?g:-g;if((h>0?h:-h)>y&&(g=h),(p>0?p:-p)>y&&(g=p),g*=t,i){const e=a[r]+g,t=a[r+1]+g,n=a[r+2]+g;a[r]=e>255?255:e<0?0:e,a[r+1]=t>255?255:t<0?0:t,a[r+2]=n>255?255:n<0?0:n}else{let e=n-g;e<0?e=0:e>255&&(e=255),a[r]=a[r+1]=a[r+2]=e}}while(--f)}while(--h)},r.Factory.addGetterSetter(i.Node,"embossStrength",.5,(0,a.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossWhiteLevel",.5,(0,a.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossDirection","top-left",void 0,r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossBlend",!1,void 0,r.Factory.afterSetFilter)},9930:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Enhance=void 0;const r=n(2818),i=n(5714),o=n(7621);function a(e,t,n,r,i){const o=n-t,a=i-r;if(0===o)return r+a/2;if(0===a)return r;let s=(e-t)/o;return s=a*s+r,s}t.Enhance=function(e){const t=e.data,n=t.length;let r,i,o,s=t[0],l=s,c=t[1],u=c,d=t[2],h=d;const f=this.enhance();if(0===f)return;for(let a=0;a<n;a+=4)r=t[a+0],r<s?s=r:r>l&&(l=r),i=t[a+1],i<c?c=i:i>u&&(u=i),o=t[a+2],o<d?d=o:o>h&&(h=o);let p,g,y,m,v,b,w,x,E;l===s&&(l=255,s=0),u===c&&(u=255,c=0),h===d&&(h=255,d=0),f>0?(g=l+f*(255-l),y=s-f*(s-0),v=u+f*(255-u),b=c-f*(c-0),x=h+f*(255-h),E=d-f*(d-0)):(p=.5*(l+s),g=l+f*(l-p),y=s+f*(s-p),m=.5*(u+c),v=u+f*(u-m),b=c+f*(c-m),w=.5*(h+d),x=h+f*(h-w),E=d+f*(d-w));for(let k=0;k<n;k+=4)t[k+0]=a(t[k+0],s,l,y,g),t[k+1]=a(t[k+1],c,u,b,v),t[k+2]=a(t[k+2],d,h,E,x)},r.Factory.addGetterSetter(i.Node,"enhance",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter)},191:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Grayscale=void 0;t.Grayscale=function(e){const t=e.data,n=t.length;for(let r=0;r<n;r+=4){const e=.34*t[r]+.5*t[r+1]+.16*t[r+2];t[r]=e,t[r+1]=e,t[r+2]=e}}},3151:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HSL=void 0;const r=n(2818),i=n(5714),o=n(7621);r.Factory.addGetterSetter(i.Node,"hue",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"saturation",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"luminance",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter);t.HSL=function(e){const t=e.data,n=t.length,r=Math.pow(2,this.saturation()),i=Math.abs(this.hue()+360)%360,o=127*this.luminance(),a=1*r*Math.cos(i*Math.PI/180),s=1*r*Math.sin(i*Math.PI/180),l=.299+.701*a+.167*s,c=.587-.587*a+.33*s,u=.114-.114*a-.497*s,d=.299-.299*a-.328*s,h=.587+.413*a+.035*s,f=.114-.114*a+.293*s,p=.299-.3*a+1.25*s,g=.587-.586*a-1.05*s,y=.114+.886*a-.2*s;let m,v,b,w;for(let x=0;x<n;x+=4)m=t[x+0],v=t[x+1],b=t[x+2],w=t[x+3],t[x+0]=l*m+c*v+u*b+o,t[x+1]=d*m+h*v+f*b+o,t[x+2]=p*m+g*v+y*b+o,t[x+3]=w}},5337:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HSV=void 0;const r=n(2818),i=n(5714),o=n(7621);t.HSV=function(e){const t=e.data,n=t.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,a=r*i*Math.cos(o*Math.PI/180),s=r*i*Math.sin(o*Math.PI/180),l=.299*r+.701*a+.167*s,c=.587*r-.587*a+.33*s,u=.114*r-.114*a-.497*s,d=.299*r-.299*a-.328*s,h=.587*r+.413*a+.035*s,f=.114*r-.114*a+.293*s,p=.299*r-.3*a+1.25*s,g=.587*r-.586*a-1.05*s,y=.114*r+.886*a-.2*s;let m,v,b,w;for(let x=0;x<n;x+=4)m=t[x+0],v=t[x+1],b=t[x+2],w=t[x+3],t[x+0]=l*m+c*v+u*b,t[x+1]=d*m+h*v+f*b,t[x+2]=p*m+g*v+y*b,t[x+3]=w},r.Factory.addGetterSetter(i.Node,"hue",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"saturation",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"value",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter)},8682:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Invert=void 0;t.Invert=function(e){const t=e.data,n=t.length;for(let r=0;r<n;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2]}},1095:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Kaleidoscope=void 0;const r=n(2818),i=n(5714),o=n(2710),a=n(7621);t.Kaleidoscope=function(e){const t=e.width,n=e.height;let r,i,a,s,l,c,u,d,h,f,p=Math.round(this.kaleidoscopePower());const g=Math.round(this.kaleidoscopeAngle()),y=Math.floor(t*(g%360)/360);if(p<1)return;const m=o.Util.createCanvasElement();m.width=t,m.height=n;const v=m.getContext("2d").getImageData(0,0,t,n);o.Util.releaseCanvas(m),function(e,t,n){const r=e.data,i=t.data,o=e.width,a=e.height,s=n.polarCenterX||o/2,l=n.polarCenterY||a/2;let c=Math.sqrt(s*s+l*l),u=o-s,d=a-l;const h=Math.sqrt(u*u+d*d);c=h>c?h:c;const f=a,p=o,g=360/p*Math.PI/180;for(let y=0;y<p;y+=1){const e=Math.sin(y*g),t=Math.cos(y*g);for(let n=0;n<f;n+=1){u=Math.floor(s+c*n/f*t),d=Math.floor(l+c*n/f*e);let a=4*(d*o+u);const h=r[a+0],p=r[a+1],g=r[a+2],m=r[a+3];a=4*(y+n*o),i[a+0]=h,i[a+1]=p,i[a+2]=g,i[a+3]=m}}}(e,v,{polarCenterX:t/2,polarCenterY:n/2});let b=t/Math.pow(2,p);for(;b<=8;)b*=2,p-=1;b=Math.ceil(b);let w=b,x=0,E=w,k=1;for(y+b>t&&(x=w,E=0,k=-1),i=0;i<n;i+=1)for(r=x;r!==E;r+=k)a=Math.round(r+y)%t,h=4*(t*i+a),l=v.data[h+0],c=v.data[h+1],u=v.data[h+2],d=v.data[h+3],f=4*(t*i+r),v.data[f+0]=l,v.data[f+1]=c,v.data[f+2]=u,v.data[f+3]=d;for(i=0;i<n;i+=1)for(w=Math.floor(b),s=0;s<p;s+=1){for(r=0;r<w+1;r+=1)h=4*(t*i+r),l=v.data[h+0],c=v.data[h+1],u=v.data[h+2],d=v.data[h+3],f=4*(t*i+2*w-r-1),v.data[f+0]=l,v.data[f+1]=c,v.data[f+2]=u,v.data[f+3]=d;w*=2}!function(e,t,n){const r=e.data,i=t.data,o=e.width,a=e.height,s=n.polarCenterX||o/2,l=n.polarCenterY||a/2;let c=Math.sqrt(s*s+l*l),u=o-s,d=a-l;const h=Math.sqrt(u*u+d*d);c=h>c?h:c;const f=a,p=o,g=n.polarRotation||0;let y,m;for(u=0;u<o;u+=1)for(d=0;d<a;d+=1){const e=u-s,t=d-l,n=Math.sqrt(e*e+t*t)*f/c;let a=(180*Math.atan2(t,e)/Math.PI+360+g)%360;a=a*p/360,y=Math.floor(a),m=Math.floor(n);let h=4*(m*o+y);const v=r[h+0],b=r[h+1],w=r[h+2],x=r[h+3];h=4*(d*o+u),i[h+0]=v,i[h+1]=b,i[h+2]=w,i[h+3]=x}}(v,e,{polarRotation:0})},r.Factory.addGetterSetter(i.Node,"kaleidoscopePower",2,(0,a.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"kaleidoscopeAngle",0,(0,a.getNumberValidator)(),r.Factory.afterSetFilter)},1562:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mask=void 0;const r=n(2818),i=n(5714),o=n(7621);function a(e,t,n){let r=4*(n*e.width+t);const i=[];return i.push(e.data[r++],e.data[r++],e.data[r++],e.data[r++]),i}function s(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}t.Mask=function(e){let t=function(e,t){const n=a(e,0,0),r=a(e,e.width-1,0),i=a(e,0,e.height-1),o=a(e,e.width-1,e.height-1),l=t||10;if(s(n,r)<l&&s(r,o)<l&&s(o,i)<l&&s(i,n)<l){const t=function(e){const t=[0,0,0];for(let n=0;n<e.length;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}([r,n,o,i]),a=[];for(let n=0;n<e.width*e.height;n++){const r=s(t,[e.data[4*n],e.data[4*n+1],e.data[4*n+2]]);a[n]=r<l?0:255}return a}}(e,this.threshold());return t&&(t=function(e,t,n){const r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[];for(let s=0;s<n;s++)for(let l=0;l<t;l++){const c=s*t+l;let u=0;for(let a=0;a<i;a++)for(let c=0;c<i;c++){const d=s+a-o,h=l+c-o;if(d>=0&&d<n&&h>=0&&h<t){const n=r[a*i+c];u+=e[d*t+h]*n}}a[c]=2040===u?255:0}return a}(t,e.width,e.height),t=function(e,t,n){const r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[];for(let s=0;s<n;s++)for(let l=0;l<t;l++){const c=s*t+l;let u=0;for(let a=0;a<i;a++)for(let c=0;c<i;c++){const d=s+a-o,h=l+c-o;if(d>=0&&d<n&&h>=0&&h<t){const n=r[a*i+c];u+=e[d*t+h]*n}}a[c]=u>=1020?255:0}return a}(t,e.width,e.height),t=function(e,t,n){const r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[];for(let s=0;s<n;s++)for(let l=0;l<t;l++){const c=s*t+l;let u=0;for(let a=0;a<i;a++)for(let c=0;c<i;c++){const d=s+a-o,h=l+c-o;if(d>=0&&d<n&&h>=0&&h<t){const n=r[a*i+c];u+=e[d*t+h]*n}}a[c]=u}return a}(t,e.width,e.height),function(e,t){for(let n=0;n<e.width*e.height;n++)e.data[4*n+3]=t[n]}(e,t)),e},r.Factory.addGetterSetter(i.Node,"threshold",0,(0,o.getNumberValidator)(),r.Factory.afterSetFilter)},4394:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Noise=void 0;const r=n(2818),i=n(5714),o=n(7621);t.Noise=function(e){const t=255*this.noise(),n=e.data,r=n.length,i=t/2;for(let o=0;o<r;o+=4)n[o+0]+=i-2*i*Math.random(),n[o+1]+=i-2*i*Math.random(),n[o+2]+=i-2*i*Math.random()},r.Factory.addGetterSetter(i.Node,"noise",.2,(0,o.getNumberValidator)(),r.Factory.afterSetFilter)},310:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pixelate=void 0;const r=n(2818),i=n(2710),o=n(5714),a=n(7621);t.Pixelate=function(e){let t,n,r,o,a,s,l,c,u,d,h,f,p,g,y=Math.ceil(this.pixelSize()),m=e.width,v=e.height,b=Math.ceil(m/y),w=Math.ceil(v/y),x=e.data;if(y<=0)i.Util.error("pixelSize value can not be <= 0");else for(f=0;f<b;f+=1)for(p=0;p<w;p+=1){for(o=0,a=0,s=0,l=0,c=f*y,u=c+y,d=p*y,h=d+y,g=0,t=c;t<u;t+=1)if(!(t>=m))for(n=d;n<h;n+=1)n>=v||(r=4*(m*n+t),o+=x[r+0],a+=x[r+1],s+=x[r+2],l+=x[r+3],g+=1);for(o/=g,a/=g,s/=g,l/=g,t=c;t<u;t+=1)if(!(t>=m))for(n=d;n<h;n+=1)n>=v||(r=4*(m*n+t),x[r+0]=o,x[r+1]=a,x[r+2]=s,x[r+3]=l)}},r.Factory.addGetterSetter(o.Node,"pixelSize",8,(0,a.getNumberValidator)(),r.Factory.afterSetFilter)},1377:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Posterize=void 0;const r=n(2818),i=n(5714),o=n(7621);t.Posterize=function(e){const t=Math.round(254*this.levels())+1,n=e.data,r=n.length,i=255/t;for(let o=0;o<r;o+=1)n[o]=Math.floor(n[o]/i)*i},r.Factory.addGetterSetter(i.Node,"levels",.5,(0,o.getNumberValidator)(),r.Factory.afterSetFilter)},7059:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RGB=void 0;const r=n(2818),i=n(5714),o=n(7621);t.RGB=function(e){const t=e.data,n=t.length,r=this.red(),i=this.green(),o=this.blue();for(let a=0;a<n;a+=4){const e=(.34*t[a]+.5*t[a+1]+.16*t[a+2])/255;t[a]=e*r,t[a+1]=e*i,t[a+2]=e*o,t[a+3]=t[a+3]}},r.Factory.addGetterSetter(i.Node,"red",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),r.Factory.addGetterSetter(i.Node,"green",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),r.Factory.addGetterSetter(i.Node,"blue",0,o.RGBComponent,r.Factory.afterSetFilter)},7388:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RGBA=void 0;const r=n(2818),i=n(5714),o=n(7621);t.RGBA=function(e){const t=e.data,n=t.length,r=this.red(),i=this.green(),o=this.blue(),a=this.alpha();for(let s=0;s<n;s+=4){const e=1-a;t[s]=r*a+t[s]*e,t[s+1]=i*a+t[s+1]*e,t[s+2]=o*a+t[s+2]*e}},r.Factory.addGetterSetter(i.Node,"red",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),r.Factory.addGetterSetter(i.Node,"green",0,(function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)})),r.Factory.addGetterSetter(i.Node,"blue",0,o.RGBComponent,r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"alpha",1,(function(e){return this._filterUpToDate=!1,e>1?1:e<0?0:e}))},6626:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sepia=void 0;t.Sepia=function(e){const t=e.data,n=t.length;for(let r=0;r<n;r+=4){const e=t[r+0],n=t[r+1],i=t[r+2];t[r+0]=Math.min(255,.393*e+.769*n+.189*i),t[r+1]=Math.min(255,.349*e+.686*n+.168*i),t[r+2]=Math.min(255,.272*e+.534*n+.131*i)}}},6967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Solarize=void 0;t.Solarize=function(e){const t=e.data,n=e.width,r=4*n;let i=e.height;do{const e=(i-1)*r;let o=n;do{const n=e+4*(o-1);let r=t[n],i=t[n+1],a=t[n+2];r>127&&(r=255-r),i>127&&(i=255-i),a>127&&(a=255-a),t[n]=r,t[n+1]=i,t[n+2]=a}while(--o)}while(--i)}},7927:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Threshold=void 0;const r=n(2818),i=n(5714),o=n(7621);t.Threshold=function(e){const t=255*this.threshold(),n=e.data,r=n.length;for(let i=0;i<r;i+=1)n[i]=n[i]<t?0:255},r.Factory.addGetterSetter(i.Node,"threshold",.5,(0,o.getNumberValidator)(),r.Factory.afterSetFilter)},1700:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9640);e.exports=r.Konva},7731:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Arc=void 0;const r=n(2818),i=n(7685),o=n(2829),a=n(7621),s=n(2829);class l extends i.Shape{_sceneFunc(e){const t=o.Konva.getAngle(this.angle()),n=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,n),e.arc(0,0,this.innerRadius(),t,0,!n),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),t=this.outerRadius(),n=this.clockwise(),r=o.Konva.getAngle(n?360-this.angle():this.angle()),i=Math.cos(Math.min(r,Math.PI)),a=Math.sin(Math.min(Math.max(Math.PI,r),3*Math.PI/2)),s=Math.sin(Math.min(r,Math.PI/2)),l=i*(i>0?e:t),c=a*(a>0?e:t),u=s*(s>0?t:e);return{x:l,y:n?-1*u:c,width:1*t-l,height:u-c}}}t.Arc=l,l.prototype._centroid=!0,l.prototype.className="Arc",l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,s._registerNode)(l),r.Factory.addGetterSetter(l,"innerRadius",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(l,"outerRadius",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(l,"angle",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(l,"clockwise",!1,(0,a.getBooleanValidator)())},4022:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Arrow=void 0;const r=n(2818),i=n(7297),o=n(7621),a=n(2829),s=n(8440);class l extends i.Line{_sceneFunc(e){super._sceneFunc(e);const t=2*Math.PI,n=this.points();let r=n;const i=0!==this.tension()&&n.length>4;i&&(r=this.getTensionPoints());const o=this.pointerLength(),a=n.length;let l,c;if(i){const e=[r[r.length-4],r[r.length-3],r[r.length-2],r[r.length-1],n[a-2],n[a-1]],t=s.Path.calcLength(r[r.length-4],r[r.length-3],"C",e),i=s.Path.getPointOnQuadraticBezier(Math.min(1,1-o/t),e[0],e[1],e[2],e[3],e[4],e[5]);l=n[a-2]-i.x,c=n[a-1]-i.y}else l=n[a-2]-n[a-4],c=n[a-1]-n[a-3];const u=(Math.atan2(c,l)+t)%t,d=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(n[a-2],n[a-1]),e.rotate(u),e.moveTo(0,0),e.lineTo(-o,d/2),e.lineTo(-o,-d/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(n[0],n[1]),i?(l=(r[0]+r[2])/2-n[0],c=(r[1]+r[3])/2-n[1]):(l=n[2]-n[0],c=n[3]-n[1]),e.rotate((Math.atan2(-c,-l)+t)%t),e.moveTo(0,0),e.lineTo(-o,d/2),e.lineTo(-o,-d/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x,y:e.y-t,width:e.width,height:e.height+2*t}}}t.Arrow=l,l.prototype.className="Arrow",(0,a._registerNode)(l),r.Factory.addGetterSetter(l,"pointerLength",10,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(l,"pointerWidth",10,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(l,"pointerAtBeginning",!1),r.Factory.addGetterSetter(l,"pointerAtEnding",!0)},3183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;const r=n(2818),i=n(7685),o=n(7621),a=n(2829);class s extends i.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}t.Circle=s,s.prototype._centroid=!0,s.prototype.className="Circle",s.prototype._attrsAffectingSize=["radius"],(0,a._registerNode)(s),r.Factory.addGetterSetter(s,"radius",0,(0,o.getNumberValidator)())},4205:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ellipse=void 0;const r=n(2818),i=n(7685),o=n(7621),a=n(2829);class s extends i.Shape{_sceneFunc(e){const t=this.radiusX(),n=this.radiusY();e.beginPath(),e.save(),t!==n&&e.scale(1,n/t),e.arc(0,0,t,0,2*Math.PI,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}t.Ellipse=s,s.prototype.className="Ellipse",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,a._registerNode)(s),r.Factory.addComponentsGetterSetter(s,"radius",["x","y"]),r.Factory.addGetterSetter(s,"radiusX",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(s,"radiusY",0,(0,o.getNumberValidator)())},3410:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Image=void 0;const r=n(2710),i=n(2818),o=n(7685),a=n(2829),s=n(7621);class l extends o.Shape{constructor(e){super(e),this.on("imageChange.konva",(()=>{this._setImageLoad()})),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&4===e.readyState||e&&e.addEventListener&&e.addEventListener("load",(()=>{this._requestDraw()}))}_useBufferCanvas(){const e=!!this.cornerRadius(),t=this.hasShadow();return!(!e||!t)||super._useBufferCanvas(!0)}_sceneFunc(e){const t=this.getWidth(),n=this.getHeight(),i=this.cornerRadius(),o=this.attrs.image;let a;if(o){const e=this.attrs.cropWidth,r=this.attrs.cropHeight;a=e&&r?[o,this.cropX(),this.cropY(),e,r,0,0,t,n]:[o,0,0,t,n]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?r.Util.drawRoundedRectPath(e,t,n,i):e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)),o&&(i&&e.clip(),e.drawImage.apply(e,a))}_hitFunc(e){const t=this.width(),n=this.height(),i=this.cornerRadius();e.beginPath(),i?r.Util.drawRoundedRectPath(e,t,n,i):e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t;return null!==(e=this.attrs.width)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.width}getHeight(){var e,t;return null!==(e=this.attrs.height)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.height}static fromURL(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=r.Util.createImageElement();i.onload=function(){const e=new l({image:i});t(e)},i.onerror=n,i.crossOrigin="Anonymous",i.src=e}}t.Image=l,l.prototype.className="Image",(0,a._registerNode)(l),i.Factory.addGetterSetter(l,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4)),i.Factory.addGetterSetter(l,"image"),i.Factory.addComponentsGetterSetter(l,"crop",["x","y","width","height"]),i.Factory.addGetterSetter(l,"cropX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(l,"cropY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(l,"cropWidth",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(l,"cropHeight",0,(0,s.getNumberValidator)())},1453:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tag=t.Label=void 0;const r=n(2818),i=n(7685),o=n(71),a=n(7621),s=n(2829),l=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],c="up",u="right",d="down",h="left",f=l.length;class p extends o.Group{constructor(e){super(e),this.on("add.konva",(function(e){this._addListeners(e.child),this._sync()}))}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let t,n=this;const r=function(){n._sync()};for(t=0;t<f;t++)e.on(l[t]+"Change.konva",r)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e,t,n,r,i,o,a,s=this.getText(),l=this.getTag();if(s&&l){switch(e=s.width(),t=s.height(),n=l.pointerDirection(),r=l.pointerWidth(),a=l.pointerHeight(),i=0,o=0,n){case c:i=e/2,o=-1*a;break;case u:i=e+r,o=t/2;break;case d:i=e/2,o=t+a;break;case h:i=-1*r,o=t/2}l.setAttrs({x:-1*i,y:-1*o,width:e,height:t}),s.setAttrs({x:-1*i,y:-1*o})}}}t.Label=p,p.prototype.className="Label",(0,s._registerNode)(p);class g extends i.Shape{_sceneFunc(e){const t=this.width(),n=this.height(),r=this.pointerDirection(),i=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius();let s=0,l=0,f=0,p=0;"number"===typeof a?s=l=f=p=Math.min(a,t/2,n/2):(s=Math.min(a[0]||0,t/2,n/2),l=Math.min(a[1]||0,t/2,n/2),p=Math.min(a[2]||0,t/2,n/2),f=Math.min(a[3]||0,t/2,n/2)),e.beginPath(),e.moveTo(s,0),r===c&&(e.lineTo((t-i)/2,0),e.lineTo(t/2,-1*o),e.lineTo((t+i)/2,0)),e.lineTo(t-l,0),e.arc(t-l,l,l,3*Math.PI/2,0,!1),r===u&&(e.lineTo(t,(n-o)/2),e.lineTo(t+i,n/2),e.lineTo(t,(n+o)/2)),e.lineTo(t,n-p),e.arc(t-p,n-p,p,0,Math.PI/2,!1),r===d&&(e.lineTo((t+i)/2,n),e.lineTo(t/2,n+o),e.lineTo((t-i)/2,n)),e.lineTo(f,n),e.arc(f,n-f,f,Math.PI/2,Math.PI,!1),r===h&&(e.lineTo(0,(n+o)/2),e.lineTo(-1*i,n/2),e.lineTo(0,(n-o)/2)),e.lineTo(0,s),e.arc(s,s,s,Math.PI,3*Math.PI/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,t=0,n=this.pointerWidth(),r=this.pointerHeight(),i=this.pointerDirection(),o=this.width(),a=this.height();return i===c?(t-=r,a+=r):i===d?a+=r:i===h?(e-=1.5*n,o+=n):i===u&&(o+=1.5*n),{x:e,y:t,width:o,height:a}}}t.Tag=g,g.prototype.className="Tag",(0,s._registerNode)(g),r.Factory.addGetterSetter(g,"pointerDirection","none"),r.Factory.addGetterSetter(g,"pointerWidth",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(g,"pointerHeight",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(g,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4))},7297:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Line=void 0;const r=n(2818),i=n(2829),o=n(7685),a=n(7621);function s(e,t,n,r,i,o,a){const s=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2)),c=a*s/(s+l),u=a*l/(s+l);return[n-c*(i-e),r-c*(o-t),n+u*(i-e),r+u*(o-t)]}function l(e,t){const n=e.length,r=[];for(let i=2;i<n-2;i+=2){const n=s(e[i-2],e[i-1],e[i],e[i+1],e[i+2],e[i+3],t);isNaN(n[0])||(r.push(n[0]),r.push(n[1]),r.push(e[i]),r.push(e[i+1]),r.push(n[2]),r.push(n[3]))}return r}class c extends o.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")}))}_sceneFunc(e){let t,n,r,i=this.points(),o=i.length,a=this.tension(),s=this.closed(),l=this.bezier();if(o){if(e.beginPath(),e.moveTo(i[0],i[1]),0!==a&&o>4){for(t=this.getTensionPoints(),n=t.length,r=s?0:4,s||e.quadraticCurveTo(t[0],t[1],t[2],t[3]);r<n-2;)e.bezierCurveTo(t[r++],t[r++],t[r++],t[r++],t[r++],t[r++]);s||e.quadraticCurveTo(t[n-2],t[n-1],i[o-2],i[o-1])}else if(l)for(r=2;r<o;)e.bezierCurveTo(i[r++],i[r++],i[r++],i[r++],i[r++],i[r++]);else for(r=2;r<o;r+=2)e.lineTo(i[r],i[r+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():l(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),t=e.length,n=this.tension(),r=s(e[t-2],e[t-1],e[0],e[1],e[2],e[3],n),i=s(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],n),o=l(e,n);return[r[2],r[3]].concat(o).concat([i[0],i[1],e[t-2],e[t-1],i[2],i[3],r[0],r[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};e=0!==this.tension()?[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:this.points();let t,n,r=e[0],i=e[0],o=e[1],a=e[1];for(let s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],r=Math.min(r,t),i=Math.max(i,t),o=Math.min(o,n),a=Math.max(a,n);return{x:r,y:o,width:i-r,height:a-o}}}t.Line=c,c.prototype.className="Line",c.prototype._attrsAffectingSize=["points","bezier","tension"],(0,i._registerNode)(c),r.Factory.addGetterSetter(c,"closed",!1),r.Factory.addGetterSetter(c,"bezier",!1),r.Factory.addGetterSetter(c,"tension",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(c,"points",[],(0,a.getNumberArrayValidator)())},8440:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Path=void 0;const r=n(2818),i=n(7685),o=n(2829),a=n(4420);class s extends i.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",(function(){this._readDataAttribute()}))}_readDataAttribute(){this.dataArray=s.parsePathData(this.data()),this.pathLength=s.getPathLength(this.dataArray)}_sceneFunc(e){const t=this.dataArray;e.beginPath();let n=!1;for(let p=0;p<t.length;p++){const g=t[p].command,y=t[p].points;switch(g){case"L":e.lineTo(y[0],y[1]);break;case"M":e.moveTo(y[0],y[1]);break;case"C":e.bezierCurveTo(y[0],y[1],y[2],y[3],y[4],y[5]);break;case"Q":e.quadraticCurveTo(y[0],y[1],y[2],y[3]);break;case"A":var r=y[0],i=y[1],o=y[2],a=y[3],s=y[4],l=y[5],c=y[6],u=y[7],d=o>a?o:a,h=o>a?1:o/a,f=o>a?a/o:1;e.translate(r,i),e.rotate(c),e.scale(h,f),e.arc(0,0,d,s,s+l,1-u),e.scale(1/h,1/f),e.rotate(-c),e.translate(-r,-i);break;case"z":n=!0,e.closePath()}}n||this.hasFill()?e.fillStrokeShape(this):e.strokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach((function(t){if("A"===t.command){const n=t.points[4],r=t.points[5],i=t.points[4]+r;let o=Math.PI/180;if(Math.abs(n-i)<o&&(o=Math.abs(n-i)),r<0)for(let a=n-o;a>i;a-=o){const n=s.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],a,0);e.push(n.x,n.y)}else for(let a=n+o;a<i;a+=o){const n=s.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],a,0);e.push(n.x,n.y)}}else if("C"===t.command)for(let n=0;n<=1;n+=.01){const r=s.getPointOnCubicBezier(n,t.start.x,t.start.y,t.points[0],t.points[1],t.points[2],t.points[3],t.points[4],t.points[5]);e.push(r.x,r.y)}else e=e.concat(t.points)}));let t,n,r=e[0],i=e[0],o=e[1],a=e[1];for(let s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],isNaN(t)||(r=Math.min(r,t),i=Math.max(i,t)),isNaN(n)||(o=Math.min(o,n),a=Math.max(a,n));return{x:r,y:o,width:i-r,height:a-o}}getLength(){return this.pathLength}getPointAtLength(e){return s.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))}static getPathLength(e){let t=0;for(let n=0;n<e.length;++n)t+=e[n].pathLength;return t}static getPointAtLengthOfDataArray(e,t){let n,r=0,i=t.length;if(!i)return null;for(;r<i&&e>t[r].pathLength;)e-=t[r].pathLength,++r;if(r===i)return n=t[r-1].points.slice(-2),{x:n[0],y:n[1]};if(e<.01)return n=t[r].points.slice(0,2),{x:n[0],y:n[1]};const o=t[r],l=o.points;switch(o.command){case"L":return s.getPointOnLine(e,o.start.x,o.start.y,l[0],l[1]);case"C":return s.getPointOnCubicBezier((0,a.t2length)(e,s.getPathLength(t),(e=>(0,a.getCubicArcLength)([o.start.x,l[0],l[2],l[4]],[o.start.y,l[1],l[3],l[5]],e))),o.start.x,o.start.y,l[0],l[1],l[2],l[3],l[4],l[5]);case"Q":return s.getPointOnQuadraticBezier((0,a.t2length)(e,s.getPathLength(t),(e=>(0,a.getQuadraticArcLength)([o.start.x,l[0],l[2]],[o.start.y,l[1],l[3]],e))),o.start.x,o.start.y,l[0],l[1],l[2],l[3]);case"A":var c=l[0],u=l[1],d=l[2],h=l[3],f=l[4],p=l[5],g=l[6];return f+=p*e/o.pathLength,s.getPointOnEllipticalArc(c,u,d,h,f,g)}return null}static getPointOnLine(e,t,n,r,i,o,a){o=null!==o&&void 0!==o?o:t,a=null!==a&&void 0!==a?a:n;const s=this.getLineLength(t,n,r,i);if(s<1e-10)return{x:t,y:n};if(r===t)return{x:o,y:a+(i>n?e:-e)};const l=(i-n)/(r-t),c=Math.sqrt(e*e/(1+l*l))*(r<t?-1:1),u=l*c;if(Math.abs(a-n-l*(o-t))<1e-10)return{x:o+c,y:a+u};const d=((o-t)*(r-t)+(a-n)*(i-n))/(s*s),h=t+d*(r-t),f=n+d*(i-n),p=this.getLineLength(o,a,h,f),g=Math.sqrt(e*e-p*p),y=Math.sqrt(g*g/(1+l*l))*(r<t?-1:1);return{x:h+y,y:f+l*y}}static getPointOnCubicBezier(e,t,n,r,i,o,a,s,l){function c(e){return e*e*e}function u(e){return 3*e*e*(1-e)}function d(e){return 3*e*(1-e)*(1-e)}function h(e){return(1-e)*(1-e)*(1-e)}return{x:s*c(e)+o*u(e)+r*d(e)+t*h(e),y:l*c(e)+a*u(e)+i*d(e)+n*h(e)}}static getPointOnQuadraticBezier(e,t,n,r,i,o,a){function s(e){return e*e}function l(e){return 2*e*(1-e)}function c(e){return(1-e)*(1-e)}return{x:o*s(e)+r*l(e)+t*c(e),y:a*s(e)+i*l(e)+n*c(e)}}static getPointOnEllipticalArc(e,t,n,r,i,o){const a=Math.cos(o),s=Math.sin(o),l=n*Math.cos(i),c=r*Math.sin(i);return{x:e+(l*a-c*s),y:t+(l*s+c*a)}}static parsePathData(e){if(!e)return[];let t=e;const n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(var r=0;r<n.length;r++)t=t.replace(new RegExp(n[r],"g"),"|"+n[r]);const i=t.split("|"),o=[],a=[];let s=0,l=0;const c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let u;for(r=1;r<i.length;r++){let e=i[r],t=e.charAt(0);for(e=e.slice(1),a.length=0;u=c.exec(e);)a.push(u[0]);const n=[];for(let r=0,i=a.length;r<i;r++){if("00"===a[r]){n.push(0,0);continue}const e=parseFloat(a[r]);isNaN(e)?n.push(0):n.push(e)}for(;n.length>0&&!isNaN(n[0]);){let e="",r=[];const i=s,a=l;var d,h,f,p,g,y,m,v,b,w;switch(t){case"l":s+=n.shift(),l+=n.shift(),e="L",r.push(s,l);break;case"L":s=n.shift(),l=n.shift(),r.push(s,l);break;case"m":var x=n.shift(),E=n.shift();if(s+=x,l+=E,e="M",o.length>2&&"z"===o[o.length-1].command)for(let e=o.length-2;e>=0;e--)if("M"===o[e].command){s=o[e].points[0]+x,l=o[e].points[1]+E;break}r.push(s,l),t="l";break;case"M":s=n.shift(),l=n.shift(),e="M",r.push(s,l),t="L";break;case"h":s+=n.shift(),e="L",r.push(s,l);break;case"H":s=n.shift(),e="L",r.push(s,l);break;case"v":l+=n.shift(),e="L",r.push(s,l);break;case"V":l=n.shift(),e="L",r.push(s,l);break;case"C":r.push(n.shift(),n.shift(),n.shift(),n.shift()),s=n.shift(),l=n.shift(),r.push(s,l);break;case"c":r.push(s+n.shift(),l+n.shift(),s+n.shift(),l+n.shift()),s+=n.shift(),l+=n.shift(),e="C",r.push(s,l);break;case"S":h=s,f=l,"C"===(d=o[o.length-1]).command&&(h=s+(s-d.points[2]),f=l+(l-d.points[3])),r.push(h,f,n.shift(),n.shift()),s=n.shift(),l=n.shift(),e="C",r.push(s,l);break;case"s":h=s,f=l,"C"===(d=o[o.length-1]).command&&(h=s+(s-d.points[2]),f=l+(l-d.points[3])),r.push(h,f,s+n.shift(),l+n.shift()),s+=n.shift(),l+=n.shift(),e="C",r.push(s,l);break;case"Q":r.push(n.shift(),n.shift()),s=n.shift(),l=n.shift(),r.push(s,l);break;case"q":r.push(s+n.shift(),l+n.shift()),s+=n.shift(),l+=n.shift(),e="Q",r.push(s,l);break;case"T":h=s,f=l,"Q"===(d=o[o.length-1]).command&&(h=s+(s-d.points[0]),f=l+(l-d.points[1])),s=n.shift(),l=n.shift(),e="Q",r.push(h,f,s,l);break;case"t":h=s,f=l,"Q"===(d=o[o.length-1]).command&&(h=s+(s-d.points[0]),f=l+(l-d.points[1])),s+=n.shift(),l+=n.shift(),e="Q",r.push(h,f,s,l);break;case"A":p=n.shift(),g=n.shift(),y=n.shift(),m=n.shift(),v=n.shift(),b=s,w=l,s=n.shift(),l=n.shift(),e="A",r=this.convertEndpointToCenterParameterization(b,w,s,l,m,v,p,g,y);break;case"a":p=n.shift(),g=n.shift(),y=n.shift(),m=n.shift(),v=n.shift(),b=s,w=l,s+=n.shift(),l+=n.shift(),e="A",r=this.convertEndpointToCenterParameterization(b,w,s,l,m,v,p,g,y)}o.push({command:e||t,points:r,start:{x:i,y:a},pathLength:this.calcLength(i,a,e||t,r)})}"z"!==t&&"Z"!==t||o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(e,t,n,r){let i,o,l,c;const u=s;switch(n){case"L":return u.getLineLength(e,t,r[0],r[1]);case"C":return(0,a.getCubicArcLength)([e,r[0],r[2],r[4]],[t,r[1],r[3],r[5]],1);case"Q":return(0,a.getQuadraticArcLength)([e,r[0],r[2]],[t,r[1],r[3]],1);case"A":i=0;var d=r[4],h=r[5],f=r[4]+h,p=Math.PI/180;if(Math.abs(d-f)<p&&(p=Math.abs(d-f)),o=u.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],d,0),h<0)for(c=d-p;c>f;c-=p)l=u.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],c,0),i+=u.getLineLength(o.x,o.y,l.x,l.y),o=l;else for(c=d+p;c<f;c+=p)l=u.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],c,0),i+=u.getLineLength(o.x,o.y,l.x,l.y),o=l;return l=u.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],f,0),i+=u.getLineLength(o.x,o.y,l.x,l.y),i}return 0}static convertEndpointToCenterParameterization(e,t,n,r,i,o,a,s,l){const c=l*(Math.PI/180),u=Math.cos(c)*(e-n)/2+Math.sin(c)*(t-r)/2,d=-1*Math.sin(c)*(e-n)/2+Math.cos(c)*(t-r)/2,h=u*u/(a*a)+d*d/(s*s);h>1&&(a*=Math.sqrt(h),s*=Math.sqrt(h));let f=Math.sqrt((a*a*(s*s)-a*a*(d*d)-s*s*(u*u))/(a*a*(d*d)+s*s*(u*u)));i===o&&(f*=-1),isNaN(f)&&(f=0);const p=f*a*d/s,g=f*-s*u/a,y=(e+n)/2+Math.cos(c)*p-Math.sin(c)*g,m=(t+r)/2+Math.sin(c)*p+Math.cos(c)*g,v=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},b=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(v(e)*v(t))},w=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(b(e,t))},x=w([1,0],[(u-p)/a,(d-g)/s]),E=[(u-p)/a,(d-g)/s],k=[(-1*u-p)/a,(-1*d-g)/s];let _=w(E,k);return b(E,k)<=-1&&(_=Math.PI),b(E,k)>=1&&(_=0),0===o&&_>0&&(_-=2*Math.PI),1===o&&_<0&&(_+=2*Math.PI),[y,m,a,s,x,_,c,o]}}t.Path=s,s.prototype.className="Path",s.prototype._attrsAffectingSize=["data"],(0,o._registerNode)(s),r.Factory.addGetterSetter(s,"data")},5133:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rect=void 0;const r=n(2818),i=n(7685),o=n(2829),a=n(2710),s=n(7621);class l extends i.Shape{_sceneFunc(e){const t=this.cornerRadius(),n=this.width(),r=this.height();e.beginPath(),t?a.Util.drawRoundedRectPath(e,n,r,t):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}}t.Rect=l,l.prototype.className="Rect",(0,o._registerNode)(l),r.Factory.addGetterSetter(l,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4))},4713:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegularPolygon=void 0;const r=n(2818),i=n(7685),o=n(7621),a=n(2829);class s extends i.Shape{_sceneFunc(e){const t=this._getPoints();e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let n=1;n<t.length;n++)e.lineTo(t[n].x,t[n].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,t=this.attrs.radius||0,n=[];for(let r=0;r<e;r++)n.push({x:t*Math.sin(2*r*Math.PI/e),y:-1*t*Math.cos(2*r*Math.PI/e)});return n}getSelfRect(){const e=this._getPoints();let t=e[0].x,n=e[0].y,r=e[0].x,i=e[0].y;return e.forEach((e=>{t=Math.min(t,e.x),n=Math.max(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.y)})),{x:t,y:r,width:n-t,height:i-r}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}t.RegularPolygon=s,s.prototype.className="RegularPolygon",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radius"],(0,a._registerNode)(s),r.Factory.addGetterSetter(s,"radius",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(s,"sides",0,(0,o.getNumberValidator)())},2993:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ring=void 0;const r=n(2818),i=n(7685),o=n(7621),a=n(2829),s=2*Math.PI;class l extends i.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,s,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),s,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}t.Ring=l,l.prototype.className="Ring",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,a._registerNode)(l),r.Factory.addGetterSetter(l,"innerRadius",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(l,"outerRadius",0,(0,o.getNumberValidator)())},9302:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sprite=void 0;const r=n(2818),i=n(7685),o=n(818),a=n(7621),s=n(2829);class l extends i.Shape{constructor(e){super(e),this._updated=!0,this.anim=new o.Animation((()=>{const e=this._updated;return this._updated=!1,e})),this.on("animationChange.konva",(function(){this.frameIndex(0)})),this.on("frameIndexChange.konva",(function(){this._updated=!0})),this.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}))}_sceneFunc(e){const t=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[t],o=this.frameOffsets(),a=i[r+0],s=i[r+1],l=i[r+2],c=i[r+3],u=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,l,c),e.closePath(),e.fillStrokeShape(this)),u)if(o){const r=o[t],i=2*n;e.drawImage(u,a,s,l,c,r[i+0],r[i+1],l,c)}else e.drawImage(u,a,s,l,c,0,0,l,c)}_hitFunc(e){const t=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[t],o=this.frameOffsets(),a=i[r+2],s=i[r+3];if(e.beginPath(),o){const r=o[t],i=2*n;e.rect(r[i+0],r[i+1],a,s)}else e.rect(0,0,a,s);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval((function(){e._updateIndex()}),1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),t=this.animation();e<this.animations()[t].length/4-1?this.frameIndex(e+1):this.frameIndex(0)}}t.Sprite=l,l.prototype.className="Sprite",(0,s._registerNode)(l),r.Factory.addGetterSetter(l,"animation"),r.Factory.addGetterSetter(l,"animations"),r.Factory.addGetterSetter(l,"frameOffsets"),r.Factory.addGetterSetter(l,"image"),r.Factory.addGetterSetter(l,"frameIndex",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(l,"frameRate",17,(0,a.getNumberValidator)()),r.Factory.backCompat(l,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"})},6835:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Star=void 0;const r=n(2818),i=n(7685),o=n(7621),a=n(2829);class s extends i.Shape{_sceneFunc(e){const t=this.innerRadius(),n=this.outerRadius(),r=this.numPoints();e.beginPath(),e.moveTo(0,0-n);for(let i=1;i<2*r;i++){const o=i%2===0?n:t,a=o*Math.sin(i*Math.PI/r),s=-1*o*Math.cos(i*Math.PI/r);e.lineTo(a,s)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}t.Star=s,s.prototype.className="Star",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,a._registerNode)(s),r.Factory.addGetterSetter(s,"numPoints",5,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(s,"innerRadius",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(s,"outerRadius",0,(0,o.getNumberValidator)())},7259:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0,t.stringToArray=c;const r=n(2710),i=n(2818),o=n(7685),a=n(2829),s=n(7621),l=n(2829);function c(e){return[...e].reduce(((e,t,n,r)=>{if(/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDC-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9\uDEF0-\uDEF8])/.test(t)){const i=r[n+1];i&&/(?:\uD83C[\uDFFB-\uDFFF])|\u200D/.test(i)?(e.push(t+i),r[n+1]=""):e.push(t)}else/(?:\uD83C[\uDDE6-\uDDFF]){2}/.test(t+(r[n+1]||""))?e.push(t+r[n+1]):n>0&&/(?:[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0897-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDD69-\uDD6D\uDEAB\uDEAC\uDEFC-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF40\uDF66-\uDF6C\uDF70-\uDF74\uDFBB-\uDFC0\uDFCE\uDFD0\uDFD2\uDFE1\uDFE2]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB3-\uDCB8\uDCBA\uDCBF\uDCC0\uDCC2\uDCC3\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42\uDF5A]|\uD80D[\uDC40\uDC47-\uDC55]|\uD818[\uDD1E-\uDD29\uDD2D-\uDD2F]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD67-\uDD69\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF\uDDEE\uDDEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])|[\u0488\u0489\u1ABE\u20DD-\u20E0\u20E2-\u20E4\uA670-\uA672]|(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BE-\u09C0\u09C7\u09C8\u09CB\u09CC\u09D7\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD7\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0-\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CF3\u0D02\u0D03\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D57\u0D82\u0D83\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DF2\u0DF3\u0F3E\u0F3F\u0F7F\u102B\u102C\u1031\u1038\u103B\u103C\u1056\u1057\u1062-\u1064\u1067-\u106D\u1083\u1084\u1087-\u108C\u108F\u109A-\u109C\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1B04\u1B35\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\u302E\u302F\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAA7B\uAA7D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3E\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDFB8-\uDFBA\uDFC2\uDFC5\uDFC7-\uDFCA\uDFCC\uDFCD\uDFCF]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB0-\uDCB2\uDCB9\uDCBB-\uDCBE\uDCC1\uDDAF-\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF1E\uDF20\uDF21\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD30-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6\uDF03\uDF34\uDF35\uDF3E\uDF3F\uDF41]|\uD818[\uDD2A-\uDD2C]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD65\uDD66\uDD6D-\uDD72])/.test(t)?e[e.length-1]+=t:t&&e.push(t);return e}),[])}const u="auto",d="inherit",h="justify",f="left",p="middle",g="normal",y=" ",m="none",v=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],b=v.length;let w;function x(){return w||(w=r.Util.createCanvasElement().getContext("2d"),w)}class E extends o.Shape{constructor(e){super(function(e){return(e=e||{}).fillLinearGradientColorStops||e.fillRadialGradientColorStops||e.fillPatternImage||(e.fill=e.fill||"black"),e}(e)),this._partialTextX=0,this._partialTextY=0;for(let t=0;t<b;t++)this.on(v[t]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(e){const t=this.textArr,n=t.length;if(!this.text())return;let r,i=this.padding(),o=this.fontSize(),s=this.lineHeight()*o,l=this.verticalAlign(),u=this.direction(),g=0,y=this.align(),m=this.getWidth(),v=this.letterSpacing(),b=this.fill(),w=this.textDecoration(),x=-1!==w.indexOf("underline"),E=-1!==w.indexOf("line-through");u=u===d?e.direction:u;let k=s/2,_=p;if(a.Konva._fixTextRendering){const e=this.measureSize("M");_="alphabetic",k=(e.fontBoundingBoxAscent-e.fontBoundingBoxDescent)/2+s/2}var S=0,C=0;for("rtl"===u&&e.setAttr("direction",u),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",_),e.setAttr("textAlign",f),l===p?g=(this.getHeight()-n*s-2*i)/2:"bottom"===l&&(g=this.getHeight()-n*s-2*i),e.translate(i,g+i),r=0;r<n;r++){S=0,C=0;var A,O,N=t[r],P=N.text,j=N.width,D=N.lastInParagraph;if(e.save(),"right"===y?S+=m-j-2*i:"center"===y&&(S+=(m-j-2*i)/2),x){e.save(),e.beginPath();const t=S,n=k+C+(a.Konva._fixTextRendering?Math.round(o/4):Math.round(o/2));e.moveTo(t,n),0===(A=P.split(" ").length-1),O=y!==h||D?j:m-2*i,e.lineTo(t+Math.round(O),n),e.lineWidth=o/15;const r=this._getLinearGradient();e.strokeStyle=r||b,e.stroke(),e.restore()}if(E){e.save(),e.beginPath();const t=a.Konva._fixTextRendering?-Math.round(o/4):0;e.moveTo(S,k+C+t),0===(A=P.split(" ").length-1),O=y!==h||D?j:m-2*i,e.lineTo(S+Math.round(O),k+C+t),e.lineWidth=o/15;const n=this._getLinearGradient();e.strokeStyle=n||b,e.stroke(),e.restore()}if("rtl"===u||0===v&&y!==h)0!==v&&e.setAttr("letterSpacing","".concat(v,"px")),this._partialTextX=S,this._partialTextY=k+C,this._partialText=P,e.fillStrokeShape(this);else{A=P.split(" ").length-1;const t=c(P);for(let n=0;n<t.length;n++){const r=t[n];" "!==r||D||y!==h||(S+=(m-2*i-j)/A),this._partialTextX=S,this._partialTextY=k+C,this._partialText=r,e.fillStrokeShape(this),S+=this.measureSize(r).width+v}}e.restore(),n>1&&(k+=s)}}_hitFunc(e){const t=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}setText(e){const t=r.Util._isString(e)?e:null===e||void 0===e?"":e+"";return this._setAttr("text",t),this}getWidth(){return this.attrs.width===u||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===u||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return r.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t,n,r,i,o,a,s,l,c,u,d;let h,f=x(),p=this.fontSize();f.save(),f.font=this._getContextFont(),h=f.measureText(e),f.restore();const g=p/100;return{actualBoundingBoxAscent:null!==(t=h.actualBoundingBoxAscent)&&void 0!==t?t:71.58203125*g,actualBoundingBoxDescent:null!==(n=h.actualBoundingBoxDescent)&&void 0!==n?n:0,actualBoundingBoxLeft:null!==(r=h.actualBoundingBoxLeft)&&void 0!==r?r:-7.421875*g,actualBoundingBoxRight:null!==(i=h.actualBoundingBoxRight)&&void 0!==i?i:75.732421875*g,alphabeticBaseline:null!==(o=h.alphabeticBaseline)&&void 0!==o?o:0,emHeightAscent:null!==(a=h.emHeightAscent)&&void 0!==a?a:100*g,emHeightDescent:null!==(s=h.emHeightDescent)&&void 0!==s?s:-20*g,fontBoundingBoxAscent:null!==(l=h.fontBoundingBoxAscent)&&void 0!==l?l:91*g,fontBoundingBoxDescent:null!==(c=h.fontBoundingBoxDescent)&&void 0!==c?c:21*g,hangingBaseline:null!==(u=h.hangingBaseline)&&void 0!==u?u:72.80000305175781*g,ideographicBaseline:null!==(d=h.ideographicBaseline)&&void 0!==d?d:-21*g,width:h.width,height:p}}_getContextFont(){return this.fontStyle()+y+this.fontVariant()+y+(this.fontSize()+"px ")+this.fontFamily().split(",").map((e=>{const t=(e=e.trim()).indexOf(" ")>=0,n=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!n&&(e='"'.concat(e,'"')),e})).join(", ")}_addTextLine(e){this.align()===h&&(e=e.trim());const t=this._getTextWidth(e);return this.textArr.push({text:e,width:t,lastInParagraph:!1})}_getTextWidth(e){const t=this.letterSpacing(),n=e.length;return x().measureText(e).width+t*n}_setTextData(){let e=this.text().split("\n"),t=+this.fontSize(),n=0,r=this.lineHeight()*t,i=this.attrs.width,o=this.attrs.height,a=i!==u&&void 0!==i,s=o!==u&&void 0!==o,l=this.padding(),d=i-2*l,h=o-2*l,f=0,p=this.wrap(),g="char"!==p&&p!==m,v=this.ellipsis();this.textArr=[],x().font=this._getContextFont();const b=v?this._getTextWidth("\u2026"):0;for(let u=0,m=e.length;u<m;++u){let t=e[u],i=this._getTextWidth(t);if(a&&i>d)for(;t.length>0;){let e=0,o=c(t).length,a="",s=0;for(;e<o;){const n=e+o>>>1,r=c(t).slice(0,n+1).join(""),i=this._getTextWidth(r)+b;i<=d?(e=n+1,a=r,s=i):o=n}if(!a)break;if(g){const n=c(t),r=c(a),i=n[r.length];let o;if((i===y||"-"===i)&&s<=d)o=r.length;else{const e=r.lastIndexOf(y),t=r.lastIndexOf("-");o=Math.max(e,t)+1}o>0&&(e=o,a=n.slice(0,e).join(""),s=this._getTextWidth(a))}a=a.trimRight(),this._addTextLine(a),n=Math.max(n,s),f+=r;if(this._shouldHandleEllipsis(f)){this._tryToAddEllipsisToLastLine();break}if(t=c(t).slice(e).join("").trimLeft(),t.length>0&&(i=this._getTextWidth(t),i<=d)){this._addTextLine(t),f+=r,n=Math.max(n,i);break}}else this._addTextLine(t),f+=r,n=Math.max(n,i),this._shouldHandleEllipsis(f)&&u<m-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),s&&f+r>h)break}this.textHeight=t,this.textWidth=n}_shouldHandleEllipsis(e){const t=+this.fontSize(),n=this.lineHeight()*t,r=this.attrs.height,i=r!==u&&void 0!==r,o=r-2*this.padding();return!(this.wrap()!==m)||i&&e+n>o}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,t=e!==u&&void 0!==e,n=e-2*this.padding(),r=this.ellipsis(),i=this.textArr[this.textArr.length-1];if(i&&r){if(t){this._getTextWidth(i.text+"\u2026")<n||(i.text=i.text.slice(0,i.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(i.text+"\u2026")}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=-1!==this.textDecoration().indexOf("underline")||-1!==this.textDecoration().indexOf("line-through"),t=this.hasShadow();return!(!e||!t)||super._useBufferCanvas()}}t.Text=E,E.prototype._fillFunc=function(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)},E.prototype._strokeFunc=function(e){e.setAttr("miterLimit",2),e.strokeText(this._partialText,this._partialTextX,this._partialTextY)},E.prototype.className="Text",E.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,l._registerNode)(E),i.Factory.overWriteSetter(E,"width",(0,s.getNumberOrAutoValidator)()),i.Factory.overWriteSetter(E,"height",(0,s.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(E,"direction",d),i.Factory.addGetterSetter(E,"fontFamily","Arial"),i.Factory.addGetterSetter(E,"fontSize",12,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(E,"fontStyle",g),i.Factory.addGetterSetter(E,"fontVariant",g),i.Factory.addGetterSetter(E,"padding",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(E,"align",f),i.Factory.addGetterSetter(E,"verticalAlign","top"),i.Factory.addGetterSetter(E,"lineHeight",1,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(E,"wrap","word"),i.Factory.addGetterSetter(E,"ellipsis",!1,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(E,"letterSpacing",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(E,"text","",(0,s.getStringValidator)()),i.Factory.addGetterSetter(E,"textDecoration","")},5107:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextPath=void 0;const r=n(2710),i=n(2818),o=n(7685),a=n(8440),s=n(7259),l=n(7621),c=n(2829),u="normal";function d(e){e.fillText(this.partialText,0,0)}function h(e){e.strokeText(this.partialText,0,0)}class f extends o.Shape{constructor(e){super(e),this.dummyCanvas=r.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",(function(){this._readDataAttribute(),this._setTextData()})),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return a.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;return e-1>this.pathLength?null:a.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=a.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const t=this.textDecoration(),n=this.fill(),r=this.fontSize(),i=this.glyphInfo;"underline"===t&&e.beginPath();for(let o=0;o<i.length;o++){e.save();const n=i[o].p0;e.translate(n.x,n.y),e.rotate(i[o].rotation),this.partialText=i[o].text,e.fillStrokeShape(this),"underline"===t&&(0===o&&e.moveTo(0,r/2+1),e.lineTo(r,r/2+1)),e.restore()}"underline"===t&&(e.strokeStyle=n,e.lineWidth=r/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const t=this.glyphInfo;if(t.length>=1){const n=t[0].p0;e.moveTo(n.x,n.y)}for(let n=0;n<t.length;n++){const r=t[n].p1;e.lineTo(r.x,r.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return r.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return s.Text.prototype.setText.call(this,e)}_getContextFont(){return s.Text.prototype._getContextFont.call(this)}_getTextSize(e){const t=this.dummyCanvas.getContext("2d");t.save(),t.font=this._getContextFont();const n=t.measureText(e);return t.restore(),{width:n.width,height:parseInt("".concat(this.fontSize()),10)}}_setTextData(){const{width:e,height:t}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=t,this.glyphInfo=[],!this.attrs.data)return null;const n=this.letterSpacing(),r=this.align(),i=this.kerningFunc(),o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);let l=0;"center"===r&&(l=Math.max(0,this.pathLength/2-o/2)),"right"===r&&(l=Math.max(0,this.pathLength-o));const c=(0,s.stringToArray)(this.text());let u=l;for(let s=0;s<c.length;s++){const e=this._getPointAtLength(u);if(!e)return;let t=this._getTextSize(c[s]).width+n;if(" "===c[s]&&"justify"===r){const e=this.text().split(" ").length-1;t+=(this.pathLength-o)/e}const l=this._getPointAtLength(u+t);if(!l)return;const h=a.Path.getLineLength(e.x,e.y,l.x,l.y);let f=0;if(i)try{f=i(c[s-1],c[s])*this.fontSize()}catch(d){f=0}e.x+=f,l.x+=f,this.textWidth+=f;const p=a.Path.getPointOnLine(f+h/2,e.x,e.y,l.x,l.y),g=Math.atan2(l.y-e.y,l.x-e.x);this.glyphInfo.push({transposeX:p.x,transposeY:p.y,text:c[s],rotation:g,p0:e,p1:l}),u+=t}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach((function(t){e.push(t.p0.x),e.push(t.p0.y),e.push(t.p1.x),e.push(t.p1.y)}));let t,n,r=e[0]||0,i=e[0]||0,o=e[1]||0,a=e[1]||0;for(let l=0;l<e.length/2;l++)t=e[2*l],n=e[2*l+1],r=Math.min(r,t),i=Math.max(i,t),o=Math.min(o,n),a=Math.max(a,n);const s=this.fontSize();return{x:r-s/2,y:o-s/2,width:i-r+s,height:a-o+s}}destroy(){return r.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}t.TextPath=f,f.prototype._fillFunc=d,f.prototype._strokeFunc=h,f.prototype._fillFuncHit=d,f.prototype._strokeFuncHit=h,f.prototype.className="TextPath",f.prototype._attrsAffectingSize=["text","fontSize","data"],(0,c._registerNode)(f),i.Factory.addGetterSetter(f,"data"),i.Factory.addGetterSetter(f,"fontFamily","Arial"),i.Factory.addGetterSetter(f,"fontSize",12,(0,l.getNumberValidator)()),i.Factory.addGetterSetter(f,"fontStyle",u),i.Factory.addGetterSetter(f,"align","left"),i.Factory.addGetterSetter(f,"letterSpacing",0,(0,l.getNumberValidator)()),i.Factory.addGetterSetter(f,"textBaseline","middle"),i.Factory.addGetterSetter(f,"fontVariant",u),i.Factory.addGetterSetter(f,"text",""),i.Factory.addGetterSetter(f,"textDecoration",""),i.Factory.addGetterSetter(f,"kerningFunc",void 0)},9828:(e,t,n)=>{"use strict";var r=n(2897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Transformer=void 0;const i=n(2710),o=n(2818),a=n(5714),s=n(7685),l=n(5133),c=n(71),u=n(2829),d=n(7621),h=n(2829),f="tr-konva",p=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map((e=>e+".".concat(f))).join(" "),g="nodesRect",y=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],m={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},v="ontouchstart"in u.Konva._global;const b=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function w(e,t,n){const i=n.x+(e.x-n.x)*Math.cos(t)-(e.y-n.y)*Math.sin(t),o=n.y+(e.x-n.x)*Math.sin(t)+(e.y-n.y)*Math.cos(t);return r(r({},e),{},{rotation:e.rotation+t,x:i,y:o})}function x(e,t){const n=function(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}(e);return w(e,t,n)}let E=0;class k extends c.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(p,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return i.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return f+this._id}setNodes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._nodes&&this._nodes.length&&this.detach();const t=e.filter((e=>!e.isAncestorOf(this)||(i.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1)));this._nodes=e=t,1===e.length&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((e=>{const t=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),this._transforming||this.isDragging()||this.update()},n=e._attrsAffectingSize.map((e=>e+"Change."+this._getEventNamespace())).join(" ");e.on(n,t),e.on(y.map((e=>e+".".concat(this._getEventNamespace()))).join(" "),t),e.on("absoluteTransformChange.".concat(this._getEventNamespace()),t),this._proxyDrag(e)})),this._resetTransformCache();return!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let t;e.on("dragstart.".concat(this._getEventNamespace()),(n=>{t=e.getAbsolutePosition(),this.isDragging()||e===this.findOne(".back")||this.startDrag(n,!1)})),e.on("dragmove.".concat(this._getEventNamespace()),(n=>{if(!t)return;const r=e.getAbsolutePosition(),i=r.x-t.x,o=r.y-t.y;this.nodes().forEach((t=>{if(t===e)return;if(t.isDragging())return;const r=t.getAbsolutePosition();t.setAbsolutePosition({x:r.x+i,y:r.y+o}),t.startDrag(n)})),t=null}))}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach((e=>{e.off("."+this._getEventNamespace())})),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(g),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(g,this.__getNodeRect)}__getNodeShape(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotation(),n=arguments.length>2?arguments[2]:void 0;const r=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=e.getAbsoluteScale(n),o=e.getAbsolutePosition(n),a=r.x*i.x-e.offsetX()*i.x,s=r.y*i.y-e.offsetY()*i.y,l=(u.Konva.getAngle(e.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return w({x:o.x+a*Math.cos(l)+s*Math.sin(-l),y:o.y+s*Math.cos(l)+a*Math.sin(l),width:r.width*i.x,height:r.height*i.y,rotation:l},-u.Konva.getAngle(t),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const e=[];this.nodes().map((t=>{const n=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),r=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],i=t.getAbsoluteTransform();r.forEach((function(t){const n=i.point(t);e.push(n)}))}));const t=new i.Transform;t.rotate(-u.Konva.getAngle(this.rotation()));let n=1/0,r=1/0,o=-1/0,a=-1/0;e.forEach((function(e){const i=t.point(e);void 0===n&&(n=o=i.x,r=a=i.y),n=Math.min(n,i.x),r=Math.min(r,i.y),o=Math.max(o,i.x),a=Math.max(a,i.y)})),t.invert();const s=t.point({x:n,y:r});return{x:s.x,y:s.y,width:o-n,height:a-r,rotation:u.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),b.forEach((e=>{this._createAnchor(e)})),this._createAnchor("rotater")}_createAnchor(e){const t=new l.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:v?10:"auto"}),n=this;t.on("mousedown touchstart",(function(e){n._handleMouseDown(e)})),t.on("dragstart",(e=>{t.stopDrag(),e.cancelBubble=!0})),t.on("dragend",(e=>{e.cancelBubble=!0})),t.on("mouseenter",(()=>{const n=u.Konva.getAngle(this.rotation()),r=this.rotateAnchorCursor(),o=function(e,t,n){if("rotater"===e)return n;t+=i.Util.degToRad(m[e]||0);const r=(i.Util.radToDeg(t)%360+360)%360;return i.Util._inRange(r,337.5,360)||i.Util._inRange(r,0,22.5)?"ns-resize":i.Util._inRange(r,22.5,67.5)?"nesw-resize":i.Util._inRange(r,67.5,112.5)?"ew-resize":i.Util._inRange(r,112.5,157.5)?"nwse-resize":i.Util._inRange(r,157.5,202.5)?"ns-resize":i.Util._inRange(r,202.5,247.5)?"nesw-resize":i.Util._inRange(r,247.5,292.5)?"ew-resize":i.Util._inRange(r,292.5,337.5)?"nwse-resize":(i.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}(e,n,r);t.getStage().content&&(t.getStage().content.style.cursor=o),this._cursorChange=!0})),t.on("mouseout",(()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1})),this.add(t)}_createBack(){const e=new s.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(e,t){const n=t.getParent(),r=n.padding();e.beginPath(),e.rect(-r,-r,t.width()+2*r,t.height()+2*r),e.moveTo(t.width()/2,-r),n.rotateEnabled()&&n.rotateLineVisible()&&e.lineTo(t.width()/2,-n.rotateAnchorOffset()*i.Util._sign(t.height())-r),e.fillStrokeShape(t)},hitFunc:(e,t)=>{if(!this.shouldOverdrawWholeArea())return;const n=this.padding();e.beginPath(),e.rect(-n,-n,t.width()+2*n,t.height()+2*n),e.fillStrokeShape(t)}});this.add(e),this._proxyDrag(e),e.on("dragstart",(e=>{e.cancelBubble=!0})),e.on("dragmove",(e=>{e.cancelBubble=!0})),e.on("dragend",(e=>{e.cancelBubble=!0})),this.on("dragmove",(e=>{this.update()}))}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const t=this._getNodeRect(),n=t.width,r=t.height,i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));this.sin=Math.abs(r/i),this.cos=Math.abs(n/i),"undefined"!==typeof window&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const o=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},E++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach((t=>{t._fire("transformstart",{evt:e.evt,target:t})}))}_handleMouseMove(e){let t,n,r;const i=this.findOne("."+this._movingAnchorName),o=i.getStage();o.setPointersPositions(e);const a=o.getPointerPosition();let s={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y};const l=i.getAbsolutePosition();this.anchorDragBoundFunc()&&(s=this.anchorDragBoundFunc()(l,s,e)),i.setAbsolutePosition(s);const c=i.getAbsolutePosition();if(l.x===c.x&&l.y===c.y)return;if("rotater"===this._movingAnchorName){const r=this._getNodeRect();t=i.x()-r.width/2,n=-i.y()+r.height/2;let o=Math.atan2(-n,t)+Math.PI/2;r.height<0&&(o-=Math.PI);const a=u.Konva.getAngle(this.rotation())+o,s=u.Konva.getAngle(this.rotationSnapTolerance()),l=function(e,t,n){let r=t;for(let i=0;i<e.length;i++){const o=u.Konva.getAngle(e[i]),a=Math.abs(o-t)%(2*Math.PI);Math.min(a,2*Math.PI-a)<n&&(r=o)}return r}(this.rotationSnaps(),a,s),c=x(r,l-r.rotation);return void this._fitNodesInto(c,e)}const d=this.shiftBehavior();let h;h="inverted"===d?this.keepRatio()&&!e.shiftKey:"none"===d?this.keepRatio():this.keepRatio()||e.shiftKey;var f=this.centeredScaling()||e.altKey;if("top-left"===this._movingAnchorName){if(h){var p=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(p.x-i.x(),2)+Math.pow(p.y-i.y(),2));var g=this.findOne(".top-left").x()>p.x?-1:1,y=this.findOne(".top-left").y()>p.y?-1:1;t=r*this.cos*g,n=r*this.sin*y,this.findOne(".top-left").x(p.x-t),this.findOne(".top-left").y(p.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(i.y());else if("top-right"===this._movingAnchorName){if(h){p=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(i.x()-p.x,2)+Math.pow(p.y-i.y(),2));g=this.findOne(".top-right").x()<p.x?-1:1,y=this.findOne(".top-right").y()>p.y?-1:1;t=r*this.cos*g,n=r*this.sin*y,this.findOne(".top-right").x(p.x+t),this.findOne(".top-right").y(p.y-n)}var m=i.position();this.findOne(".top-left").y(m.y),this.findOne(".bottom-right").x(m.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(i.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(i.x());else if("bottom-left"===this._movingAnchorName){if(h){p=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(p.x-i.x(),2)+Math.pow(i.y()-p.y,2));g=p.x<i.x()?-1:1,y=i.y()<p.y?-1:1;t=r*this.cos*g,n=r*this.sin*y,i.x(p.x-t),i.y(p.y+n)}m=i.position(),this.findOne(".top-left").x(m.x),this.findOne(".bottom-right").y(m.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(i.y());else if("bottom-right"===this._movingAnchorName){if(h){p=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(i.x()-p.x,2)+Math.pow(i.y()-p.y,2));g=this.findOne(".bottom-right").x()<p.x?-1:1,y=this.findOne(".bottom-right").y()<p.y?-1:1;t=r*this.cos*g,n=r*this.sin*y,this.findOne(".bottom-right").x(p.x+t),this.findOne(".bottom-right").y(p.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(f=this.centeredScaling()||e.altKey){const e=this.findOne(".top-left"),t=this.findOne(".bottom-right"),n=e.x(),r=e.y(),i=this.getWidth()-t.x(),o=this.getHeight()-t.y();t.move({x:-n,y:-r}),e.move({x:i,y:o})}const v=this.findOne(".top-left").getAbsolutePosition();t=v.x,n=v.y;const b=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),w=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:n,width:b,height:w,rotation:u.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var t;if(this._transforming){this._transforming=!1,"undefined"!==typeof window&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const n=this.getNode();E--,this._fire("transformend",{evt:e,target:n}),null===(t=this.getLayer())||void 0===t||t.batchDraw(),n&&this._nodes.forEach((t=>{var n;t._fire("transformend",{evt:e,target:t}),null===(n=t.getLayer())||void 0===n||n.batchDraw()})),this._movingAnchorName=null}}_fitNodesInto(e,t){const n=this._getNodeRect();if(i.Util._inRange(e.width,2*-this.padding()-1,1))return void this.update();if(i.Util._inRange(e.height,2*-this.padding()-1,1))return void this.update();const r=new i.Transform;if(r.rotate(u.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const t=r.point({x:2*-this.padding(),y:0});e.x+=t.x,e.y+=t.y,e.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const t=r.point({x:2*this.padding(),y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.width+=2*this.padding()}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const t=r.point({x:0,y:2*-this.padding()});e.x+=t.x,e.y+=t.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.height+=2*this.padding()}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const t=r.point({x:0,y:2*this.padding()});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=t.x,this._anchorDragOffset.y-=t.y,e.height+=2*this.padding()}if(this.boundBoxFunc()){const t=this.boundBoxFunc()(n,e);t?e=t:i.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,a=new i.Transform;a.translate(n.x,n.y),a.rotate(n.rotation),a.scale(n.width/o,n.height/o);const s=new i.Transform,l=e.width/o,c=e.height/o;!1===this.flipEnabled()?(s.translate(e.x,e.y),s.rotate(e.rotation),s.translate(e.width<0?e.width:0,e.height<0?e.height:0),s.scale(Math.abs(l),Math.abs(c))):(s.translate(e.x,e.y),s.rotate(e.rotation),s.scale(l,c));const d=s.multiply(a.invert());this._nodes.forEach((e=>{var t;const n=e.getParent().getAbsoluteTransform(),r=e.getTransform().copy();r.translate(e.offsetX(),e.offsetY());const o=new i.Transform;o.multiply(n.copy().invert()).multiply(d).multiply(n).multiply(r);const a=o.decompose();e.setAttrs(a),null===(t=e.getLayer())||void 0===t||t.batchDraw()})),this.rotation(i.Util._getRotation(e.rotation)),this._nodes.forEach((e=>{this._fire("transform",{evt:t,target:e}),e._fire("transform",{evt:t,target:e})})),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){this.findOne(e).setAttrs(t)}update(){var e;const t=this._getNodeRect();this.rotation(i.Util._getRotation(t.rotation));const n=t.width,r=t.height,o=this.enabledAnchors(),a=this.resizeEnabled(),s=this.padding(),l=this.anchorSize(),c=this.find("._anchor");c.forEach((e=>{e.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+s,offsetY:l/2+s,visible:a&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:l/2+s,visible:a&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:l/2-s,offsetY:l/2+s,visible:a&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:r/2,offsetX:l/2+s,visible:a&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:r/2,offsetX:l/2-s,visible:a&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:r,offsetX:l/2+s,offsetY:l/2-s,visible:a&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:r,offsetY:l/2-s,visible:a&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:r,offsetX:l/2-s,offsetY:l/2-s,visible:a&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*i.Util._sign(r)-s,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:r,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const u=this.anchorStyleFunc();u&&c.forEach((e=>{u(e)})),null===(e=this.getLayer())||void 0===e||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),c.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return a.Node.prototype.toObject.call(this)}clone(e){return a.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}t.Transformer=k,k.isTransforming=()=>E>0,k.prototype.className="Transformer",(0,h._registerNode)(k),o.Factory.addGetterSetter(k,"enabledAnchors",b,(function(e){return e instanceof Array||i.Util.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach((function(e){-1===b.indexOf(e)&&i.Util.warn("Unknown anchor name: "+e+". Available names are: "+b.join(", "))})),e||[]})),o.Factory.addGetterSetter(k,"flipEnabled",!0,(0,d.getBooleanValidator)()),o.Factory.addGetterSetter(k,"resizeEnabled",!0),o.Factory.addGetterSetter(k,"anchorSize",10,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(k,"rotateEnabled",!0),o.Factory.addGetterSetter(k,"rotateLineVisible",!0),o.Factory.addGetterSetter(k,"rotationSnaps",[]),o.Factory.addGetterSetter(k,"rotateAnchorOffset",50,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(k,"rotateAnchorCursor","crosshair"),o.Factory.addGetterSetter(k,"rotationSnapTolerance",5,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(k,"borderEnabled",!0),o.Factory.addGetterSetter(k,"anchorStroke","rgb(0, 161, 255)"),o.Factory.addGetterSetter(k,"anchorStrokeWidth",1,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(k,"anchorFill","white"),o.Factory.addGetterSetter(k,"anchorCornerRadius",0,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(k,"borderStroke","rgb(0, 161, 255)"),o.Factory.addGetterSetter(k,"borderStrokeWidth",1,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(k,"borderDash"),o.Factory.addGetterSetter(k,"keepRatio",!0),o.Factory.addGetterSetter(k,"shiftBehavior","default"),o.Factory.addGetterSetter(k,"centeredScaling",!1),o.Factory.addGetterSetter(k,"ignoreStroke",!1),o.Factory.addGetterSetter(k,"padding",0,(0,d.getNumberValidator)()),o.Factory.addGetterSetter(k,"nodes"),o.Factory.addGetterSetter(k,"node"),o.Factory.addGetterSetter(k,"boundBoxFunc"),o.Factory.addGetterSetter(k,"anchorDragBoundFunc"),o.Factory.addGetterSetter(k,"anchorStyleFunc"),o.Factory.addGetterSetter(k,"shouldOverdrawWholeArea",!1),o.Factory.addGetterSetter(k,"useSingleNodeRotation",!0),o.Factory.backCompat(k,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"})},1687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Wedge=void 0;const r=n(2818),i=n(7685),o=n(2829),a=n(7621),s=n(2829);class l extends i.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,o.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}t.Wedge=l,l.prototype.className="Wedge",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["radius"],(0,s._registerNode)(l),r.Factory.addGetterSetter(l,"radius",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(l,"angle",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(l,"clockwise",!1),r.Factory.backCompat(l,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"})},2559:(e,t,n)=>{const{bech32:r,hex:i,utf8:o}=n(2136),a={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},s={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},l={bech32:"tbs",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},c={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},u={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},d=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],h={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},f=BigInt("2100000000000000000"),p=BigInt(1e11),g={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},y={};for(let x=0,E=Object.keys(g);x<E.length;x++){const e=E[x],t=g[E[x]].toString();y[t]=e}const m={1:e=>i.encode(r.fromWordsUnsafe(e)),16:e=>i.encode(r.fromWordsUnsafe(e)),13:e=>o.encode(r.fromWordsUnsafe(e)),19:e=>i.encode(r.fromWordsUnsafe(e)),23:e=>i.encode(r.fromWordsUnsafe(e)),27:e=>i.encode(r.fromWordsUnsafe(e)),6:b,24:b,3:function(e){const t=[];let n,o,a,s,l,c=r.fromWordsUnsafe(e);for(;c.length>0;)n=i.encode(c.slice(0,33)),o=i.encode(c.slice(33,41)),a=parseInt(i.encode(c.slice(41,45)),16),s=parseInt(i.encode(c.slice(45,49)),16),l=parseInt(i.encode(c.slice(49,51)),16),c=c.slice(51),t.push({pubkey:n,short_channel_id:o,fee_base_msat:a,fee_proportional_millionths:s,cltv_expiry_delta:l});return t},5:function(e){const t=e.slice().reverse().map((e=>[!!(1&e),!!(2&e),!!(4&e),!!(8&e),!!(16&e)])).reduce(((e,t)=>e.concat(t)),[]);for(;t.length<2*d.length;)t.push(!1);const n={};d.forEach(((e,r)=>{let i;i=t[2*r]?"required":t[2*r+1]?"supported":"unsupported",n[e]=i}));const r=t.slice(2*d.length);return n.extra_bits={start_bit:2*d.length,bits:r,has_required:r.reduce(((e,t,n)=>n%2!==0?e||!1:e||t),!1)},n}};function v(e){return t=>({tagCode:parseInt(e),words:r.encode("unknown",t,Number.MAX_SAFE_INTEGER)})}function b(e){return e.reverse().reduce(((e,t,n)=>e+t*Math.pow(32,n)),0)}function w(e,t){let n,r;if(e.slice(-1).match(/^[munp]$/))n=e.slice(-1),r=e.slice(0,-1);else{if(e.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");r=e}if(!r.match(/^\d+$/))throw new Error("Not a valid human readable amount");const i=BigInt(r),o=n?i*p/h[n]:i*p;if("p"===n&&i%BigInt(10)!==BigInt(0)||o>f)throw new Error("Amount is outside of valid range");return t?o.toString():o}e.exports={decode:function(e,t){if("string"!==typeof e)throw new Error("Lightning Payment Request must be string");if("ln"!==e.slice(0,2).toLowerCase())throw new Error("Not a proper lightning payment request");const n=[],o=r.decode(e,Number.MAX_SAFE_INTEGER);e=e.toLowerCase();const d=o.prefix;let h=o.words,f=e.slice(d.length+1),p=h.slice(-104);h=h.slice(0,-104);let x=d.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(x&&!x[2]&&(x=d.match(/^ln(\S+)$/)),!x)throw new Error("Not a proper lightning payment request");n.push({name:"lightning_network",letters:"ln"});const E=x[1];let k;if(t){if(void 0===t.bech32||void 0===t.pubKeyHash||void 0===t.scriptHash||!Array.isArray(t.validWitnessVersions))throw new Error("Invalid network");k=t}else switch(E){case a.bech32:k=a;break;case s.bech32:k=s;break;case l.bech32:k=l;break;case c.bech32:k=c;break;case u.bech32:k=u}if(!k||k.bech32!==E)throw new Error("Unknown coin bech32 prefix");n.push({name:"coin_network",letters:E,value:k});const _=x[2];let S;if(_){S=w(_+x[3],!0),n.push({name:"amount",letters:x[2]+x[3],value:S})}else S=null;n.push({name:"separator",letters:"1"});const C=b(h.slice(0,7));let A,O,N,P;for(h=h.slice(7),n.push({name:"timestamp",letters:f.slice(0,7),value:C}),f=f.slice(7);h.length>0;){const e=h[0].toString();A=y[e]||"unknown_tag",O=m[e]||v(e),h=h.slice(1),N=b(h.slice(0,2)),h=h.slice(2),P=h.slice(0,N),h=h.slice(N),n.push({name:A,tag:f[0],letters:f.slice(0,3+N),value:O(P)}),f=f.slice(3+N)}n.push({name:"signature",letters:f.slice(0,104),value:i.encode(r.fromWordsUnsafe(p))}),f=f.slice(104),n.push({name:"checksum",letters:f});let j={paymentRequest:e,sections:n,get expiry(){let e=n.find((e=>"expiry"===e.name));if(e)return D("timestamp")+e.value},get route_hints(){return n.filter((e=>"route_hint"===e.name)).map((e=>e.value))}};for(let r in g)"route_hint"!==r&&Object.defineProperty(j,r,{get:()=>D(r)});return j;function D(e){let t=n.find((t=>t.name===e));return t?t.value:void 0}},hrpToMillisat:w}},2136:(e,t)=>{"use strict";function n(e){if(!Number.isSafeInteger(e))throw new Error("Wrong integer: ".concat(e))}function r(){const e=(e,t)=>n=>e(t(n));for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return{encode:Array.from(n).reverse().reduce(((t,n)=>t?e(t,n.encode):n.encode),void 0),decode:n.reduce(((t,n)=>t?e(t,n.decode):n.decode),void 0)}}function i(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!==typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(n(t),t<0||t>=e.length)throw new Error("Digit index outside alphabet: ".concat(t," (alphabet: ").concat(e.length,")"));return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!==typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!==typeof t)throw new Error("alphabet.decode: not string element=".concat(t));const n=e.indexOf(t);if(-1===n)throw new Error('Unknown letter: "'.concat(t,'". Allowed: ').concat(e));return n}))}}}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!==typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!==typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!==typeof e)throw new Error("join.encode: non-string input=".concat(e));return t.join(e)},decode:t=>{if("string"!==typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"=";if(n(e),"string"!==typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!==typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!==typeof e)throw new Error("padding.encode: non-string input=".concat(e));for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!==typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!==typeof e)throw new Error("padding.decode: non-string input=".concat(e));let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function s(e){if("function"!==typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function l(e,t,r){if(t<2)throw new Error("convertRadix: wrong from=".concat(t,", base cannot be less than 2"));if(r<2)throw new Error("convertRadix: wrong to=".concat(r,", base cannot be less than 2"));if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let i=0;const o=[],a=Array.from(e);for(a.forEach((e=>{if(n(e),e<0||e>=t)throw new Error("Wrong integer: ".concat(e))}));;){let e=0,n=!0;for(let o=i;o<a.length;o++){const s=a[o],l=t*e+s;if(!Number.isSafeInteger(l)||t*e/t!==e||l-s!==t*e)throw new Error("convertRadix: carry overflow");if(e=l%r,a[o]=Math.floor(l/r),!Number.isSafeInteger(a[o])||a[o]*r+e!==l)throw new Error("convertRadix: carry overflow");n&&(a[o]?n=!1:i=o)}if(o.push(e),n)break}for(let n=0;n<e.length-1&&0===e[n];n++)o.push(0);return o.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=n;const c=(e,t)=>t?c(t,e%t):e,u=(e,t)=>e+(t-c(e,t));function d(e,t,r,i){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error("convertRadix2: wrong from=".concat(t));if(r<=0||r>32)throw new Error("convertRadix2: wrong to=".concat(r));if(u(t,r)>32)throw new Error("convertRadix2: carry overflow from=".concat(t," to=").concat(r," carryBits=").concat(u(t,r)));let o=0,a=0;const s=2**r-1,l=[];for(const c of e){if(n(c),c>=2**t)throw new Error("convertRadix2: invalid data word=".concat(c," from=").concat(t));if(o=o<<t|c,a+t>32)throw new Error("convertRadix2: carry overflow pos=".concat(a," from=").concat(t));for(a+=t;a>=r;a-=r)l.push((o>>a-r&s)>>>0);o&=2**a-1}if(o=o<<r-a&s,!i&&a>=t)throw new Error("Excess padding");if(!i&&o)throw new Error("Non-zero padding: ".concat(o));return i&&a>0&&l.push(o>>>0),l}function h(e){return n(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return l(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!==typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(l(t,e,256))}}}function f(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(u(8,e)>32||u(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return d(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!==typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(d(n,e,8,t))}}}function p(e){if("function"!==typeof e)throw new Error("unsafeWrapper fn should be function");return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(null,n)}catch(i){}}}function g(e,t){if(n(e),"function"!==typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),i=new Uint8Array(n.length+e);return i.set(n),i.set(r,n.length),i},decode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),i=t(r).slice(0,e),o=n.slice(-e);for(let t=0;t<e;t++)if(i[t]!==o[t])throw new Error("Invalid checksum");return r}}}t.utils={alphabet:i,chain:r,checksum:g,radix:h,radix2:f,join:o,padding:a},t.base16=r(f(4),i("0123456789ABCDEF"),o("")),t.base32=r(f(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),a(5),o("")),t.base32hex=r(f(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),a(5),o("")),t.base32crockford=r(f(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),s((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),t.base64=r(f(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a(6),o("")),t.base64url=r(f(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),a(6),o(""));const y=e=>r(h(58),i(e),o(""));t.base58=y("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=y("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=y("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const m=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(e){let n="";for(let r=0;r<e.length;r+=8){const i=e.subarray(r,r+8);n+=t.base58.encode(i).padStart(m[i.length],"1")}return n},decode(e){let n=[];for(let r=0;r<e.length;r+=11){const i=e.slice(r,r+11),o=m.indexOf(i.length),a=t.base58.decode(i);for(let e=0;e<a.length-o;e++)if(0!==a[e])throw new Error("base58xmr: wrong padding");n=n.concat(Array.from(a.slice(a.length-o)))}return Uint8Array.from(n)}};t.base58check=e=>r(g(4,(t=>e(e(t)))),t.base58);const v=r(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),b=[996825010,642813549,513874426,1027748829,705979059];function w(e){const t=e>>25;let n=(33554431&e)<<5;for(let r=0;r<b.length;r++)1===(t>>r&1)&&(n^=b[r]);return n}function x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=e.length;let i=1;for(let o=0;o<r;o++){const t=e.charCodeAt(o);if(t<33||t>126)throw new Error("Invalid prefix (".concat(e,")"));i=w(i)^t>>5}i=w(i);for(let o=0;o<r;o++)i=w(i)^31&e.charCodeAt(o);for(let o of t)i=w(i)^o;for(let o=0;o<6;o++)i=w(i);return i^=n,v.encode(d([i%2**30],30,5,!1))}function E(e){const t="bech32"===e?1:734539939,n=f(5),r=n.decode,i=n.encode,o=p(r);function a(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;if("string"!==typeof e)throw new Error("bech32.decode input should be string, not ".concat(typeof e));if(e.length<8||!1!==n&&e.length>n)throw new TypeError("Wrong string length: ".concat(e.length," (").concat(e,"). Expected (8..").concat(n,")"));const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=(e=r).lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const o=e.slice(0,i),a=e.slice(i+1);if(a.length<6)throw new Error("Data must be at least 6 characters long");const s=v.decode(a).slice(0,-6),l=x(o,s,t);if(!a.endsWith(l))throw new Error("Invalid checksum in ".concat(e,': expected "').concat(l,'"'));return{prefix:o,words:s}}return{encode:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:90;if("string"!==typeof e)throw new Error("bech32.encode prefix should be string, not ".concat(typeof e));if(!Array.isArray(n)||n.length&&"number"!==typeof n[0])throw new Error("bech32.encode words should be array of numbers, not ".concat(typeof n));const i=e.length+7+n.length;if(!1!==r&&i>r)throw new TypeError("Length ".concat(i," exceeds limit ").concat(r));return e=e.toLowerCase(),"".concat(e,"1").concat(v.encode(n)).concat(x(e,n,t))},decode:a,decodeToBytes:function(e){const{prefix:t,words:n}=a(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:p(a),fromWords:r,fromWordsUnsafe:o,toWords:i}}t.bech32=E("bech32"),t.bech32m=E("bech32m"),t.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},t.hex=r(f(4),i("0123456789abcdef"),o(""),s((e=>{if("string"!==typeof e||e.length%2)throw new TypeError("hex.decode: expected string, got ".concat(typeof e," with length ").concat(e.length));return e.toLowerCase()})));const k={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},_="Invalid encoding type. Available types: ".concat(Object.keys(k).join(", "));t.bytesToString=(e,t)=>{if("string"!==typeof e||!k.hasOwnProperty(e))throw new TypeError(_);if(!(t instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return k[e].encode(t)},t.str=t.bytesToString;t.stringToBytes=(e,t)=>{if(!k.hasOwnProperty(e))throw new TypeError(_);if("string"!==typeof t)throw new TypeError("stringToBytes() expects string");return k[e].decode(t)},t.bytes=t.stringToBytes},2434:(e,t,n)=>{var r=n(220)(n(4759),"DataView");e.exports=r},1111:(e,t,n)=>{var r=n(6958),i=n(1176),o=n(1787),a=n(231),s=n(7455);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},5661:(e,t,n)=>{var r=n(5088),i=n(150),o=n(7889),a=n(4349),s=n(3077);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},1465:(e,t,n)=>{var r=n(220)(n(4759),"Map");e.exports=r},4467:(e,t,n)=>{var r=n(738),i=n(708),o=n(6823),a=n(475),s=n(7859);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},202:(e,t,n)=>{var r=n(220)(n(4759),"Promise");e.exports=r},7887:(e,t,n)=>{var r=n(220)(n(4759),"Set");e.exports=r},6669:(e,t,n)=>{var r=n(4467),i=n(2274),o=n(2138);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},5535:(e,t,n)=>{var r=n(5661),i=n(4710),o=n(8384),a=n(7379),s=n(799),l=n(2791);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},4635:(e,t,n)=>{var r=n(4759).Symbol;e.exports=r},8246:(e,t,n)=>{var r=n(4759).Uint8Array;e.exports=r},4801:(e,t,n)=>{var r=n(220)(n(4759),"WeakMap");e.exports=r},8951:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},6860:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},7405:(e,t,n)=>{var r=n(4102),i=n(4578),o=n(2279),a=n(6794),s=n(9440),l=n(1641),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,p=f?r(e.length,String):[],g=p.length;for(var y in e)!t&&!c.call(e,y)||f&&("length"==y||d&&("offset"==y||"parent"==y)||h&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,g))||p.push(y);return p}},1570:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},7518:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},6010:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},7305:(e,t,n)=>{var r=n(366),i=n(4206),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},7480:(e,t,n)=>{var r=n(4206);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},291:(e,t,n)=>{var r=n(3965),i=n(5724);e.exports=function(e,t){return e&&r(t,i(t),e)}},2064:(e,t,n)=>{var r=n(3965),i=n(1235);e.exports=function(e,t){return e&&r(t,i(t),e)}},366:(e,t,n)=>{var r=n(8925);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},9645:(e,t,n)=>{var r=n(5535),i=n(8951),o=n(7305),a=n(291),s=n(2064),l=n(8984),c=n(6321),u=n(1849),d=n(3586),h=n(3660),f=n(6387),p=n(5531),g=n(7203),y=n(997),m=n(5539),v=n(2279),b=n(6794),w=n(7744),x=n(4567),E=n(5738),k=n(5724),_=n(1235),S="[object Arguments]",C="[object Function]",A="[object Object]",O={};O[S]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[A]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[C]=O["[object WeakMap]"]=!1,e.exports=function e(t,n,N,P,j,D){var R,T=1&n,I=2&n,F=4&n;if(N&&(R=j?N(t,P,j,D):N(t)),void 0!==R)return R;if(!x(t))return t;var L=v(t);if(L){if(R=g(t),!T)return c(t,R)}else{var B=p(t),M=B==C||"[object GeneratorFunction]"==B;if(b(t))return l(t,T);if(B==A||B==S||M&&!j){if(R=I||M?{}:m(t),!T)return I?d(t,s(R,t)):u(t,a(R,t))}else{if(!O[B])return j?t:{};R=y(t,B,T)}}D||(D=new r);var U=D.get(t);if(U)return U;D.set(t,R),E(t)?t.forEach((function(r){R.add(e(r,n,N,r,t,D))})):w(t)&&t.forEach((function(r,i){R.set(i,e(r,n,N,i,t,D))}));var z=L?void 0:(F?I?f:h:I?_:k)(t);return i(z||t,(function(r,i){z&&(r=t[i=r]),o(R,i,e(r,n,N,i,t,D))})),R}},8230:(e,t,n)=>{var r=n(4567),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},3308:(e,t,n)=>{var r=n(423),i=n(3267)(r);e.exports=i},3031:(e,t,n)=>{var r=n(5211)();e.exports=r},423:(e,t,n)=>{var r=n(3031),i=n(5724);e.exports=function(e,t){return e&&r(e,t,i)}},52:(e,t,n)=>{var r=n(6463),i=n(2535);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},4761:(e,t,n)=>{var r=n(7518),i=n(2279);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},2022:(e,t,n)=>{var r=n(4635),i=n(1581),o=n(5336),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},4591:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},3012:(e,t,n)=>{var r=n(2022),i=n(9248);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1404:(e,t,n)=>{var r=n(2130),i=n(9248);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},2130:(e,t,n)=>{var r=n(5535),i=n(9757),o=n(1416),a=n(6195),s=n(5531),l=n(2279),c=n(6794),u=n(1641),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,y,m){var v=l(e),b=l(t),w=v?h:s(e),x=b?h:s(t),E=(w=w==d?f:w)==f,k=(x=x==d?f:x)==f,_=w==x;if(_&&c(e)){if(!c(t))return!1;v=!0,E=!1}if(_&&!E)return m||(m=new r),v||u(e)?i(e,t,n,g,y,m):o(e,t,w,n,g,y,m);if(!(1&n)){var S=E&&p.call(e,"__wrapped__"),C=k&&p.call(t,"__wrapped__");if(S||C){var A=S?e.value():e,O=C?t.value():t;return m||(m=new r),y(A,O,n,g,m)}}return!!_&&(m||(m=new r),a(e,t,n,g,y,m))}},3530:(e,t,n)=>{var r=n(5531),i=n(9248);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},4489:(e,t,n)=>{var r=n(5535),i=n(1404);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var u=(c=n[a])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(o)var p=o(d,h,u,e,t,f);if(!(void 0===p?i(h,d,3,o,f):p))return!1}}return!0}},7949:(e,t,n)=>{var r=n(3008),i=n(3306),o=n(4567),a=n(9131),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},3152:(e,t,n)=>{var r=n(5531),i=n(9248);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},8183:(e,t,n)=>{var r=n(2022),i=n(5776),o=n(9248),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},5127:(e,t,n)=>{var r=n(9769),i=n(4104),o=n(9002),a=n(2279),s=n(8857);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},7462:(e,t,n)=>{var r=n(2161),i=n(5112),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},8833:(e,t,n)=>{var r=n(4567),i=n(2161),o=n(7175),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},6602:(e,t,n)=>{var r=n(3308),i=n(7840);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},9769:(e,t,n)=>{var r=n(4489),i=n(3334),o=n(4243);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},4104:(e,t,n)=>{var r=n(1404),i=n(7946),o=n(5321),a=n(5916),s=n(9794),l=n(4243),c=n(2535);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},9343:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4753:(e,t,n)=>{var r=n(52);e.exports=function(e){return function(t){return r(t,e)}}},4102:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},1582:(e,t,n)=>{var r=n(4635),i=n(1570),o=n(2279),a=n(184),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},5639:e=>{e.exports=function(e){return function(t){return e(t)}}},3445:e=>{e.exports=function(e,t){return e.has(t)}},9036:(e,t,n)=>{var r=n(9002);e.exports=function(e){return"function"==typeof e?e:r}},6463:(e,t,n)=>{var r=n(2279),i=n(5916),o=n(7044),a=n(4008);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},5871:(e,t,n)=>{var r=n(8246);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},8984:(e,t,n)=>{e=n.nmd(e);var r=n(4759),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},3863:(e,t,n)=>{var r=n(5871);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},1991:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},2106:(e,t,n)=>{var r=n(4635),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},8463:(e,t,n)=>{var r=n(5871);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},6321:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},3965:(e,t,n)=>{var r=n(7305),i=n(366);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=o?o(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),a?i(n,c,u):r(n,c,u)}return n}},1849:(e,t,n)=>{var r=n(3965),i=n(8194);e.exports=function(e,t){return r(e,i(e),t)}},3586:(e,t,n)=>{var r=n(3965),i=n(9653);e.exports=function(e,t){return r(e,i(e),t)}},4123:(e,t,n)=>{var r=n(4759)["__core-js_shared__"];e.exports=r},3267:(e,t,n)=>{var r=n(7840);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},5211:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},8925:(e,t,n)=>{var r=n(220),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},9757:(e,t,n)=>{var r=n(6669),i=n(6010),o=n(3445);e.exports=function(e,t,n,a,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,g=!0,y=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var m=e[p],v=t[p];if(a)var b=c?a(v,m,p,t,e,l):a(m,v,p,e,t,l);if(void 0!==b){if(b)continue;g=!1;break}if(y){if(!i(t,(function(e,t){if(!o(y,t)&&(m===e||s(m,e,n,a,l)))return y.push(t)}))){g=!1;break}}else if(m!==v&&!s(m,v,n,a,l)){g=!1;break}}return l.delete(e),l.delete(t),g}},1416:(e,t,n)=>{var r=n(4635),i=n(8246),o=n(4206),a=n(9757),s=n(943),l=n(6557),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var g=h.get(e);if(g)return g==t;r|=2,h.set(e,t);var y=a(f(e),f(t),r,c,d,h);return h.delete(e),y;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},6195:(e,t,n)=>{var r=n(3660),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:i.call(t,h)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var y=l;++d<u;){var m=e[h=c[d]],v=t[h];if(o)var b=l?o(v,m,h,t,e,s):o(m,v,h,e,t,s);if(!(void 0===b?m===v||a(m,v,n,o,s):b)){g=!1;break}y||(y="constructor"==h)}if(g&&!y){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(g=!1)}return s.delete(e),s.delete(t),g}},6658:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},3660:(e,t,n)=>{var r=n(4761),i=n(8194),o=n(5724);e.exports=function(e){return r(e,o,i)}},6387:(e,t,n)=>{var r=n(4761),i=n(9653),o=n(1235);e.exports=function(e){return r(e,o,i)}},7101:(e,t,n)=>{var r=n(4672);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},3334:(e,t,n)=>{var r=n(9794),i=n(5724);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},220:(e,t,n)=>{var r=n(7949),i=n(8166);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},2253:(e,t,n)=>{var r=n(2621)(Object.getPrototypeOf,Object);e.exports=r},1581:(e,t,n)=>{var r=n(4635),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},8194:(e,t,n)=>{var r=n(6860),i=n(1515),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},9653:(e,t,n)=>{var r=n(7518),i=n(2253),o=n(8194),a=n(1515),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},5531:(e,t,n)=>{var r=n(2434),i=n(1465),o=n(202),a=n(7887),s=n(4801),l=n(2022),c=n(9131),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",g=c(r),y=c(i),m=c(o),v=c(a),b=c(s),w=l;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=u||o&&w(o.resolve())!=d||a&&w(new a)!=h||s&&w(new s)!=f)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case g:return p;case y:return u;case m:return d;case v:return h;case b:return f}return t}),e.exports=w},8166:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},964:(e,t,n)=>{var r=n(6463),i=n(4578),o=n(2279),a=n(9440),s=n(5776),l=n(2535);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(h,u)&&(o(e)||i(e))}},6958:(e,t,n)=>{var r=n(3616);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},1176:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},1787:(e,t,n)=>{var r=n(3616),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},231:(e,t,n)=>{var r=n(3616),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7455:(e,t,n)=>{var r=n(3616);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},7203:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},997:(e,t,n)=>{var r=n(5871),i=n(3863),o=n(1991),a=n(2106),s=n(8463);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},5539:(e,t,n)=>{var r=n(8230),i=n(2253),o=n(2161);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},9440:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5916:(e,t,n)=>{var r=n(2279),i=n(184),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},4672:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},3306:(e,t,n)=>{var r=n(4123),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2161:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},9794:(e,t,n)=>{var r=n(4567);e.exports=function(e){return e===e&&!r(e)}},5088:e=>{e.exports=function(){this.__data__=[],this.size=0}},150:(e,t,n)=>{var r=n(7480),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},7889:(e,t,n)=>{var r=n(7480);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4349:(e,t,n)=>{var r=n(7480);e.exports=function(e){return r(this.__data__,e)>-1}},3077:(e,t,n)=>{var r=n(7480);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},738:(e,t,n)=>{var r=n(1111),i=n(5661),o=n(1465);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},708:(e,t,n)=>{var r=n(7101);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},6823:(e,t,n)=>{var r=n(7101);e.exports=function(e){return r(this,e).get(e)}},475:(e,t,n)=>{var r=n(7101);e.exports=function(e){return r(this,e).has(e)}},7859:(e,t,n)=>{var r=n(7101);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},943:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4243:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},3734:(e,t,n)=>{var r=n(53);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},3616:(e,t,n)=>{var r=n(220)(Object,"create");e.exports=r},5112:(e,t,n)=>{var r=n(2621)(Object.keys,Object);e.exports=r},7175:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},2479:(e,t,n)=>{e=n.nmd(e);var r=n(6658),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},5336:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2621:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},4759:(e,t,n)=>{var r=n(6658),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},2274:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2138:e=>{e.exports=function(e){return this.__data__.has(e)}},6557:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},4710:(e,t,n)=>{var r=n(5661);e.exports=function(){this.__data__=new r,this.size=0}},8384:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7379:e=>{e.exports=function(e){return this.__data__.get(e)}},799:e=>{e.exports=function(e){return this.__data__.has(e)}},2791:(e,t,n)=>{var r=n(5661),i=n(1465),o=n(4467);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},7044:(e,t,n)=>{var r=n(3734),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},2535:(e,t,n)=>{var r=n(184);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},9131:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},5117:(e,t,n)=>{var r=n(9645);e.exports=function(e){return r(e,5)}},4206:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},8437:(e,t,n)=>{var r=n(423),i=n(9036);e.exports=function(e,t){return e&&r(e,i(t))}},7946:(e,t,n)=>{var r=n(52);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},5321:(e,t,n)=>{var r=n(4591),i=n(964);e.exports=function(e,t){return null!=e&&i(e,t,r)}},9002:e=>{e.exports=function(e){return e}},4578:(e,t,n)=>{var r=n(3012),i=n(9248),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2279:e=>{var t=Array.isArray;e.exports=t},7840:(e,t,n)=>{var r=n(3008),i=n(5776);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6794:(e,t,n)=>{e=n.nmd(e);var r=n(4759),i=n(3721),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},3008:(e,t,n)=>{var r=n(2022),i=n(4567);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},5776:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},7744:(e,t,n)=>{var r=n(3530),i=n(5639),o=n(2479),a=o&&o.isMap,s=a?i(a):r;e.exports=s},4567:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},9248:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},5461:(e,t,n)=>{var r=n(2022),i=n(2253),o=n(9248),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},5738:(e,t,n)=>{var r=n(3152),i=n(5639),o=n(2479),a=o&&o.isSet,s=a?i(a):r;e.exports=s},6801:(e,t,n)=>{var r=n(2022),i=n(2279),o=n(9248);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},184:(e,t,n)=>{var r=n(2022),i=n(9248);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},1641:(e,t,n)=>{var r=n(8183),i=n(5639),o=n(2479),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},5724:(e,t,n)=>{var r=n(7405),i=n(7462),o=n(7840);e.exports=function(e){return o(e)?r(e):i(e)}},1235:(e,t,n)=>{var r=n(7405),i=n(8833),o=n(7840);e.exports=function(e){return o(e)?r(e,!0):i(e)}},5876:(e,t,n)=>{var r=n(1570),i=n(5127),o=n(6602),a=n(2279);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},53:(e,t,n)=>{var r=n(4467);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},8857:(e,t,n)=>{var r=n(9343),i=n(4753),o=n(5916),a=n(2535);e.exports=function(e){return o(e)?r(a(e)):i(e)}},1515:e=>{e.exports=function(){return[]}},3721:e=>{e.exports=function(){return!1}},4008:(e,t,n)=>{var r=n(1582);e.exports=function(e){return null==e?"":r(e)}},8179:e=>{var t=1e3,n=60*t,r=60*n,i=24*r,o=7*i,a=365.25*i;function s(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,l){l=l||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!s)return;var l=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*a;case"weeks":case"week":case"w":return l*o;case"days":case"day":case"d":return l*i;case"hours":case"hour":case"hrs":case"hr":case"h":return l*r;case"minutes":case"minute":case"mins":case"min":case"m":return l*n;case"seconds":case"second":case"secs":case"sec":case"s":return l*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}(e);if("number"===c&&isFinite(e))return l.long?function(e){var o=Math.abs(e);if(o>=i)return s(e,o,i,"day");if(o>=r)return s(e,o,r,"hour");if(o>=n)return s(e,o,n,"minute");if(o>=t)return s(e,o,t,"second");return e+" ms"}(e):function(e){var o=Math.abs(e);if(o>=i)return Math.round(e/i)+"d";if(o>=r)return Math.round(e/r)+"h";if(o>=n)return Math.round(e/n)+"m";if(o>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},3488:(e,t,n)=>{"use strict";var r=n(3959);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},1942:(e,t,n)=>{e.exports=n(3488)()},3959:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8345:(e,t,n)=>{"use strict";var r=n(9950),i=n(5340);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,v);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,v);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,v);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var T=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var F,L=Object.assign;function B(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var M=!1;function U(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function z(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case E:return"Portal";case S:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function oe(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var me=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,ke=null,_e=null;function Se(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),Ee(e.stateNode,e.type,t))}}function Ce(e){ke?_e?_e.push(e):_e=[e]:ke=e}function Ae(){if(ke){var e=ke,t=_e;if(_e=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Oe(e,t){return e(t)}function Ne(){}var Pe=!1;function je(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Oe(e,t,n)}finally{Pe=!1,(null!==ke||null!==_e)&&(Ne(),Ae())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(u)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch(ue){Re=!1}function Ie(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Fe=!1,Le=null,Be=!1,Me=null,Ue={onError:function(e){Fe=!0,Le=e}};function ze(e,t,n,r,i,o,a,s,l){Fe=!1,Le=null,Ie.apply(Ue,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(He(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ke(i),e;if(a===r)return Ke(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Ze=i.unstable_shouldYield,Qe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,Et,kt,_t,St,Ct=!1,At=[],Ot=null,Nt=null,Pt=null,jt=new Map,Dt=new Map,Rt=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Ft(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Mt(e,t,n){Bt(e)&&n.delete(t)}function Ut(){Ct=!1,null!==Ot&&Bt(Ot)&&(Ot=null),null!==Nt&&Bt(Nt)&&(Nt=null),null!==Pt&&Bt(Pt)&&(Pt=null),jt.forEach(Mt),Dt.forEach(Mt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Ht(e){function t(t){return zt(t,e)}if(0<At.length){zt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&zt(Ot,e),null!==Nt&&zt(Nt,e),null!==Pt&&zt(Pt,e),jt.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var qt=w.ReactCurrentBatchConfig,Kt=!0;function Vt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Gt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Wt(e,t,n,r){if(Kt){var i=Zt(e,t,n,r);if(null===i)Kr(e,t,r,Yt,n),It(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ot=Ft(Ot,e,t,n,r,i),!0;case"dragenter":return Nt=Ft(Nt,e,t,n,r,i),!0;case"mouseover":return Pt=Ft(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return jt.set(o,Ft(jt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dt.set(o,Ft(Dt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Tt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Zt(e,t,n,r))&&Kr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Yt=null;function Zt(e,t,n,r){if(Yt=null,null!==(e=vi(e=xe(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),hn=on(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),gn=on(L({},fn,{dataTransfer:0})),yn=on(L({},dn,{relatedTarget:0})),mn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(L({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return _n}var Cn=L({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=on(Cn),On=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(jn),Rn=[9,13,27,32],Tn=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var Fn=u&&"TextEvent"in window&&!In,Ln=u&&(!Tn||In&&8<In&&11>=In),Bn=String.fromCharCode(32),Mn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ce(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Wn=null;function Yn(e){Br(e,0)}function Zn(e){if(W(wi(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Jn=Xn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Wn=Gn=null)}function nr(e){if("value"===e.propertyName&&Zn(Wn)){var t=[];Vn(t,Wn,e,xe(e)),je(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Wn)}function or(e,t){if("click"===e)return Zn(t)}function ar(e,t){if("input"===e||"change"===e)return Zn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==Y(r)||("selectionStart"in(r=yr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Gr(mr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},_r={};function Sr(e){if(kr[e])return kr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return kr[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Cr=Sr("animationend"),Ar=Sr("animationiteration"),Or=Sr("animationstart"),Nr=Sr("transitionend"),Pr=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Pr.set(e,t),l(t,[e])}for(var Rr=0;Rr<jr.length;Rr++){var Tr=jr[Rr];Dr(Tr.toLowerCase(),"on"+(Tr[0].toUpperCase()+Tr.slice(1)))}Dr(Cr,"onAnimationEnd"),Dr(Ar,"onAnimationIteration"),Dr(Or,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(ze.apply(this,arguments),Fe){if(!Fe)throw Error(o(198));var u=Le;Fe=!1,Le=null,Be||(Be=!0,Me=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}}}if(Be)throw e=Me,Be=!1,Me=null,e}function Mr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Qt(t)){case 1:var i=Vt;break;case 4:i=Gt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}je((function(){var r=o,i=xe(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":c="focus",l=yn;break;case"focusout":c="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Cr:case Ar:case Or:l=mn;break;case Nr:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=De(p,h))&&u.push(Vr(p,g,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=On,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:wi(l),f=null==c?s:wi(c),(s=new u(g,p+"leave",l,n,i)).target=d,s.relatedTarget=f,g=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Wr(f))p++;for(f=0,g=h;g;g=Wr(g))f++;for(;0<p-f;)u=Wr(u),p--;for(;0<f-p;)h=Wr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Wr(u),h=Wr(h)}u=null}else u=null;null!==l&&Yr(a,s,l,u,!1),null!==c&&null!==d&&Yr(a,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var y=Qn;else if(Kn(s))if($n)y=ar;else{y=ir;var m=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=or);switch(y&&(y=y(e,r))?Vn(a,y,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?wi(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,vr=null);break;case"focusout":vr=mr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(Tn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(v=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Hn=!0)),0<(m=Gr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:m}),v?b.data=v:null!==(v=zn(n))&&(b.data=v))),(v=Fn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Mn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Tn&&Un(e,t)?(e=en(),Xt=Jt=$t=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Br(a,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=De(e,n))&&r.unshift(Vr(e,o,i)),null!=(o=De(e,t))&&r.push(Vr(e,o,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=De(n,o))&&a.unshift(Vr(n,l,s)):i||null!=(l=De(n,o))&&a.push(Vr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Zr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,yi="__reactListeners$"+di,mi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[fi]||null}var Ei=[],ki=-1;function _i(e){return{current:e}}function Si(e){0>ki||(e.current=Ei[ki],Ei[ki]=null,ki--)}function Ci(e,t){ki++,Ei[ki]=e.current,e.current=t}var Ai={},Oi=_i(Ai),Ni=_i(!1),Pi=Ai;function ji(e,t){var n=e.type.contextTypes;if(!n)return Ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ni),Si(Oi)}function Ti(e,t,n){if(Oi.current!==Ai)throw Error(o(168));Ci(Oi,t),Ci(Ni,n)}function Ii(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return L({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Pi=Oi.current,Ci(Oi,e),Ci(Ni,Ni.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ii(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Oi),Ci(Oi,e)):Si(Ni),Ci(Ni,n)}var Bi=null,Mi=!1,Ui=!1;function zi(e){null===Bi?Bi=[e]:Bi.push(e)}function Hi(){if(!Ui&&null!==Bi){Ui=!0;var e=0,t=bt;try{var n=Bi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,Mi=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),We(Xe,Hi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Ki=0,Vi=null,Gi=0,Wi=[],Yi=0,Zi=null,Qi=1,$i="";function Ji(e,t){qi[Ki++]=Gi,qi[Ki++]=Vi,Vi=e,Gi=t}function Xi(e,t,n){Wi[Yi++]=Qi,Wi[Yi++]=$i,Wi[Yi++]=Zi,Zi=e;var r=Qi;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,$i=o+e}else Qi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Ji(e,1),Xi(e,1,0))}function to(e){for(;e===Vi;)Vi=qi[--Ki],qi[Ki]=null,Gi=qi[--Ki],qi[Ki]=null;for(;e===Zi;)Zi=Wi[--Yi],Wi[Yi]=null,$i=Wi[--Yi],Wi[Yi]=null,Qi=Wi[--Yi],Wi[Yi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=jc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zi?{id:Qi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=jc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var yo=w.ReactCurrentBatchConfig;function mo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===D&&bo(o)===t.type)?((r=i(t,n.props)).ref=mo(e,t,n),r.return=e,r):((r=Tc(n.type,n.key,n.props,null,e.mode,r)).ref=mo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Tc(t.type,t.key,t.props,null,e.mode,n)).ref=mo(e,null,t),n.return=e,n;case E:return(t=Bc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Ic(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||I(n))return null!==i?null:d(e,t,n,r,null);vo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||I(r))return d(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function g(i,o,s,l){for(var c=null,u=null,d=o,g=o=0,y=null;null!==d&&g<s.length;g++){d.index>g?(y=d,d=null):y=d.sibling;var m=f(i,d,s[g],l);if(null===m){null===d&&(d=y);break}e&&d&&null===m.alternate&&t(i,d),o=a(m,o,g),null===u?c=m:u.sibling=m,u=m,d=y}if(g===s.length)return n(i,d),io&&Ji(i,g),c;if(null===d){for(;g<s.length;g++)null!==(d=h(i,s[g],l))&&(o=a(d,o,g),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,g),c}for(d=r(i,d);g<s.length;g++)null!==(y=p(d,i,g,s[g],l))&&(e&&null!==y.alternate&&d.delete(null===y.key?g:y.key),o=a(y,o,g),null===u?c=y:u.sibling=y,u=y);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,g),c}function y(i,s,l,c){var u=I(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,g=s,y=s=0,m=null,v=l.next();null!==g&&!v.done;y++,v=l.next()){g.index>y?(m=g,g=null):m=g.sibling;var b=f(i,g,v.value,c);if(null===b){null===g&&(g=m);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,y),null===d?u=b:d.sibling=b,d=b,g=m}if(v.done)return n(i,g),io&&Ji(i,y),u;if(null===g){for(;!v.done;y++,v=l.next())null!==(v=h(i,v.value,c))&&(s=a(v,s,y),null===d?u=v:d.sibling=v,d=v);return io&&Ji(i,y),u}for(g=r(i,g);!v.done;y++,v=l.next())null!==(v=p(g,i,y,v.value,c))&&(e&&null!==v.alternate&&g.delete(null===v.key?y:v.key),s=a(v,s,y),null===d?u=v:d.sibling=v,d=v);return e&&g.forEach((function(e){return t(i,e)})),io&&Ji(i,y),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&bo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=mo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((o=Ic(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Tc(a.type,a.key,a.props,null,r.mode,l)).ref=mo(r,o,a),l.return=r,r=l)}return s(r);case E:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Bc(a,r.mode,l)).return=r,r=o}return s(r);case D:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return g(r,o,a,l);if(I(a))return y(r,o,a,l);vo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Lc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var xo=wo(!0),Eo=wo(!1),ko=_i(null),_o=null,So=null,Co=null;function Ao(){Co=So=_o=null}function Oo(e){var t=ko.current;Si(ko),e._currentValue=t}function No(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Po(e,t){_o=e,Co=So=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function jo(e){var t=e._currentValue;if(Co!==e)if(e={context:e,memoizedValue:t,next:null},null===So){if(null===_o)throw Error(o(308));So=e,_o.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var Do=null;function Ro(e){null===Do?Do=[e]:Do.push(e)}function To(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ro(t)):(n.next=i.next,i.next=n),t.interleaved=n,Io(e,r)}function Io(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fo=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ol)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Io(e,n)}return null===(i=r.interleaved)?(t.next=t,Ro(r)):(t.next=i.next,i.next=t),r.interleaved=t,Io(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,r){var i=e.updateQueue;Fo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Fo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fl|=a,e.lanes=a,e.memoizedState=d}}function Ko(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Vo={},Go=_i(Vo),Wo=_i(Vo),Yo=_i(Vo);function Zo(e){if(e===Vo)throw Error(o(174));return e}function Qo(e,t){switch(Ci(Yo,t),Ci(Wo,e),Ci(Go,Vo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Go),Ci(Go,t)}function $o(){Si(Go),Si(Wo),Si(Yo)}function Jo(e){Zo(Yo.current);var t=Zo(Go.current),n=le(t,e.type);t!==n&&(Ci(Wo,e),Ci(Go,n))}function Xo(e){Wo.current===e&&(Si(Go),Si(Wo))}var ea=_i(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,oa=w.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(o(321))}function ga(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ya(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Xa:es,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ca=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Ja,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(o(300));return e}function ma(){var e=0!==ha;return ha=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,sa.lanes|=d,Fl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Fl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ea(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function _a(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Fa(Aa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,ja(9,Ca.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(o(349));0!==(30&aa)||Sa(n,t,i)}return i}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ca(e,t,n,r){t.value=n,t.getSnapshot=r,Oa(t)&&Na(e)}function Aa(e,t,n){return n((function(){Oa(t)&&Na(e)}))}function Oa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Na(e){var t=Io(e,1);null!==t&&nc(t,e,1,-1)}function Pa(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ya.bind(null,sa,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Da(){return ba().memoizedState}function Ra(e,t,n,r){var i=va();sa.flags|=e,i.memoizedState=ja(1|t,n,void 0,void 0===r?null:r)}function Ta(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ga(r,a.deps))return void(i.memoizedState=ja(t,n,o,r))}sa.flags|=e,i.memoizedState=ja(1|t,n,o,r)}function Ia(e,t){return Ra(8390656,8,e,t)}function Fa(e,t){return Ta(2048,8,e,t)}function La(e,t){return Ta(4,2,e,t)}function Ba(e,t){return Ta(4,4,e,t)}function Ma(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ta(4,4,Ma.bind(null,t,e),n)}function za(){}function Ha(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ka(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),sa.lanes|=n,Fl|=n,e.baseState=!0),t)}function Va(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function Ga(){return ba().memoizedState}function Wa(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Za(e))Qa(t,n);else if(null!==(n=To(e,t,n,r))){nc(n,e,r,ec()),$a(n,t,r)}}function Ya(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Za(e))Qa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Ro(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=To(e,t,i,r))&&(nc(n,e,r,i=ec()),$a(n,t,r))}}function Za(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Qa(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $a(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ja={readContext:jo,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Xa={readContext:jo,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:jo,useEffect:Ia,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4194308,4,Ma.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wa.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Pa,useDebugValue:za,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=Va.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=va();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nl)throw Error(o(349));0!==(30&aa)||Sa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ia(Aa.bind(null,r,a,e),[e]),r.flags|=2048,ja(9,Ca.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Nl.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:jo,useCallback:Ha,useContext:jo,useEffect:Fa,useImperativeHandle:Ua,useInsertionEffect:La,useLayoutEffect:Ba,useMemo:qa,useReducer:xa,useRef:Da,useState:function(){return xa(wa)},useDebugValue:za,useDeferredValue:function(e){return Ka(ba(),la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:_a,useId:Ga,unstable_isNewReconciler:!1},ts={readContext:jo,useCallback:Ha,useContext:jo,useEffect:Fa,useImperativeHandle:Ua,useInsertionEffect:La,useLayoutEffect:Ba,useMemo:qa,useReducer:Ea,useRef:Da,useState:function(){return Ea(wa)},useDebugValue:za,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Ka(t,la.memoizedState,e)},useTransition:function(){return[Ea(wa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:_a,useId:Ga,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Mo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,i))&&(nc(t,e,i,r),zo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Mo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,i))&&(nc(t,e,i,r),zo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Mo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Uo(e,i,r))&&(nc(t,e,r,n),zo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(e,t,n){var r=!1,i=Ai,o=t.contextType;return"object"===typeof o&&null!==o?o=jo(o):(i=Di(t)?Pi:Oi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?ji(e,i):Ai),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=jo(o):(o=Di(t)?Pi:Oi.current,i.context=ji(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Mo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Vl=r),ds(0,t)},n}function ps(e,t,n){(n=Mo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Mo(-1,1)).tag=2,Uo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Eo(t,null,n,r):xo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Po(t,i),r=ya(e,t,n,r,o,i),n=ma(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Es(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Dc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Tc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ks(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Rc(o,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,t,n,r,i)}function _s(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Rl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Rl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(Rl,Dl),Dl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ci(Rl,Dl),Dl|=r;return ws(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var o=Di(n)?Pi:Oi.current;return o=ji(t,o),Po(t,i),n=ya(e,t,n,r,o,i),r=ma(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function As(e,t,n,r,i){if(Di(n)){var o=!0;Fi(t)}else o=!1;if(Po(t,i),null===t.stateNode)qs(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=jo(c):c=ji(t,c=Di(n)?Pi:Oi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Fo=!1;var h=t.memoizedState;a.state=h,qo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ni.current||Fo?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Fo||os(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Bo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=jo(l):l=ji(t,l=Di(n)?Pi:Oi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,a,r,l),Fo=!1,h=t.memoizedState,a.state=h,qo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ni.current||Fo?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=Fo||os(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,o,i)}function Os(e,t,n,r,i,o){Ss(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Ks(e,t,o);r=t.stateNode,vs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Ti(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ti(0,t.context,!1),Qo(e,t.containerInfo)}function Ps(e,t,n,r,i){return po(),go(i),t.flags|=256,ws(e,t,n,r),t.child}var js,Ds,Rs,Ts,Is={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(ea,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Fc(l,i,0,null),e=Ic(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Is,e):Bs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Ms(e,t,s,r=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(a=Ic(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Is,a);if(0===(1&t.mode))return Ms(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ms(e,t,s,r=us(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Nl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Io(e,i),nc(r,e,i,-1))}return gc(),Ms(e,t,s,r=us(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Wi[Yi++]=Qi,Wi[Yi++]=$i,Wi[Yi++]=Zi,Qi=e.id,$i=e.overflow,Zi=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Rc(r,s):(s=Ic(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Fs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Is,i}return e=(s=e.child).sibling,i=Rc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ms(e,t,n,r){return null!==r&&go(r),xo(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),No(e.return,t,n)}function zs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,o);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ws(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Di(t.type)&&Ri(),Gs(t),null;case 3:return r=t.stateNode,$o(),Si(Ni),Si(Oi),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Ds(e,t),Gs(t),null;case 5:Xo(t);var i=Zo(Yo.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Gs(t),null}if(e=Zo(Go.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(i=0;i<Ir.length;i++)Mr(Ir[i],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":Q(r,a),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Mr("invalid",r);break;case"textarea":ie(r,a),Mr("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Mr("scroll",r)}switch(n){case"input":G(r),X(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,js(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),i=r;break;case"iframe":case"object":case"embed":Mr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ir.length;i++)Mr(Ir[i],e);i=r;break;case"source":Mr("error",e),i=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),i=r;break;case"details":Mr("toggle",e),i=r;break;case"input":Q(e,r),i=Z(e,r),Mr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Mr("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ye(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Mr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":G(e),X(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ts(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Zo(Yo.current),Zo(Go.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Si(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Tl&&(Tl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return $o(),Ds(e,t),null===e&&Hr(t.stateNode.containerInfo),Gs(t),null;case 10:return Oo(t.type._context),Gs(t),null;case 19:if(Si(ea),null===(a=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Vs(a,!1);else{if(0!==Tl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Vs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Hl&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Gs(t),null}else 2*$e()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=ea.current,Ci(ea,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $o(),Si(Ni),Si(Oi),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xo(t),null;case 13:if(Si(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ea),null;case 4:return $o(),null;case 10:return Oo(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}js=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Zo(Go.current);var o,a=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Mr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ts=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zs=!1,Qs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function Xs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){_c(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[gi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Qs||Xs(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ht(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qs&&(Xs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){_c(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,hl(e,t,n),Qs=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(a,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){_c(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),ml(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(y){_c(e,e.return,y)}try{nl(5,e,e.return)}catch(y){_c(e,e.return,y)}}break;case 1:gl(t,e),ml(e),512&r&&null!==n&&Xs(n,n.return);break;case 5:if(gl(t,e),ml(e),512&r&&null!==n&&Xs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){_c(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ye(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(y){_c(e,e.return,y)}}break;case 6:if(gl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){_c(e,e.return,y)}}break;case 3:if(gl(t,e),ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(y){_c(e,e.return,y)}break;case 4:default:gl(t,e),ml(e);break;case 13:gl(t,e),ml(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=$e())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(u=Qs)||d,gl(t,e),Qs=u):gl(t,e),ml(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Xs(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){_c(r,n,y)}}break;case 5:Xs(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Js=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",s))}catch(y){_c(e,e.return,y)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){_c(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),ml(e),4&r&&pl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){_c(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Zs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Zs;var c=Qs;if(Zs=a,(Qs=l)&&!c)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?El(i):null!==l?(l.return=a,Js=l):El(i);for(;null!==o;)Js=o,bl(o,t,n),o=o.sibling;Js=i,Zs=s,Qs=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ko(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ko(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(o(163))}Qs||512&t.flags&&il(t)}catch(f){_c(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function El(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){_c(t,i,l)}}var o=t.return;try{il(t)}catch(l){_c(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){_c(t,a,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var kl,_l=Math.ceil,Sl=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Al=w.ReactCurrentBatchConfig,Ol=0,Nl=null,Pl=null,jl=0,Dl=0,Rl=_i(0),Tl=0,Il=null,Fl=0,Ll=0,Bl=0,Ml=null,Ul=null,zl=0,Hl=1/0,ql=null,Kl=!1,Vl=null,Gl=null,Wl=!1,Yl=null,Zl=0,Ql=0,$l=null,Jl=-1,Xl=0;function ec(){return 0!==(6&Ol)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ol)&&0!==jl?jl&-jl:null!==yo.transition?(0===Xl&&(Xl=gt()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,$l=null,Error(o(185));mt(e,n,r),0!==(2&Ol)&&e===Nl||(e===Nl&&(0===(2&Ol)&&(Ll|=n),4===Tl&&sc(e,jl)),rc(e,r),1===n&&0===Ol&&0===(1&t.mode)&&(Hl=$e()+500,Mi&&Hi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Nl?jl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Mi=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),ai((function(){0===(6&Ol)&&Hi()})),n=null;else{switch(wt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Xl=0,0!==(6&Ol))throw Error(o(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Nl?jl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Ol;Ol|=2;var a=pc();for(Nl===e&&jl===t||(ql=null,Hl=$e()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Ao(),Sl.current=a,Ol=i,null!==Pl?t=0:(Nl=null,jl=0,t=Tl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Il,hc(e,0),sc(e,r),rc(e,$e()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Il,hc(e,0),sc(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Ul,ql);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zl+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Ul,ql),t);break}xc(e,Ul,ql);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Ul,ql),r);break}xc(e,Ul,ql);break;default:throw Error(o(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Ml;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Ul,Ul=n,null!==t&&ac(t)),e}function ac(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function sc(e,t){for(t&=~Bl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Ol))throw Error(o(327));Ec();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Il,hc(e,0),sc(e,t),rc(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Ul,ql),rc(e,$e()),null}function cc(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&(Hl=$e()+500,Mi&&Hi())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&Ol)&&Ec();var t=Ol;Ol|=1;var n=Al.transition,r=bt;try{if(Al.transition=null,bt=1,e)return e()}finally{bt=r,Al.transition=n,0===(6&(Ol=t))&&Hi()}}function dc(){Dl=Rl.current,Si(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:$o(),Si(Ni),Si(Oi),ra();break;case 5:Xo(r);break;case 4:$o();break;case 13:case 19:Si(ea);break;case 10:Oo(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Nl=e,Pl=e=Rc(e.current,null),jl=Dl=t,Tl=0,Il=null,Bl=Ll=Fl=0,Ul=Ml=null,null!==Do){for(t=0;t<Do.length;t++)if(null!==(r=(n=Do[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Do=null}return e}function fc(e,t){for(;;){var n=Pl;try{if(Ao(),ia.current=Ja,ua){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,ha=0,Cl.current=null,null===n||null===n.return){Tl=1,Il=t,Pl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=jl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,ms(p,s,l,0,t),1&p.mode&&gs(a,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var y=new Set;y.add(c),t.updateQueue=y}else g.add(c);break e}if(0===(1&t)){gs(a,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var m=ys(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ms(m,s,l,0,t),go(cs(c,l));break e}}a=c=cs(c,l),4!==Tl&&(Tl=2),null===Ml?Ml=[a]:Ml.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ho(a,fs(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Ho(a,ps(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=Ja,null===e?Ja:e}function gc(){0!==Tl&&3!==Tl&&2!==Tl||(Tl=4),null===Nl||0===(268435455&Fl)&&0===(268435455&Ll)||sc(Nl,jl)}function yc(e,t){var n=Ol;Ol|=2;var r=pc();for(Nl===e&&jl===t||(ql=null,hc(e,t));;)try{mc();break}catch(i){fc(e,i)}if(Ao(),Ol=n,Sl.current=r,null!==Pl)throw Error(o(261));return Nl=null,jl=0,Tl}function mc(){for(;null!==Pl;)bc(Pl)}function vc(){for(;null!==Pl&&!Ze();)bc(Pl)}function bc(e){var t=kl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wc(e):Pl=t,Cl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ws(n,t,Dl)))return void(Pl=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Tl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Tl&&(Tl=5)}function xc(e,t,n){var r=bt,i=Al.transition;try{Al.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Yl);if(0!==(6&Ol))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Nl&&(Pl=Nl=null,jl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wl||(Wl=!0,Nc(tt,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Al.transition,Al.transition=null;var s=bt;bt=1;var l=Ol;Ol|=4,Cl.current=null,function(e,t){if(ei=Kt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var y=g.memoizedProps,m=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:ns(t.type,y),m);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}g=tl,tl=!1}(e,n),yl(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Qe(),Ol=l,bt=s,Al.transition=a}else e.current=n;if(Wl&&(Wl=!1,Yl=e,Zl=i),a=e.pendingLanes,0===a&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kl)throw Kl=!1,e=Vl,Vl=null,e;0!==(1&Zl)&&0!==e.tag&&Ec(),a=e.pendingLanes,0!==(1&a)?e===$l?Ql++:(Ql=0,$l=e):Ql=0,Hi()}(e,t,n,r)}finally{Al.transition=i,bt=r}return null}function Ec(){if(null!==Yl){var e=wt(Zl),t=Al.transition,n=bt;try{if(Al.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Zl=0,0!==(6&Ol))throw Error(o(331));var i=Ol;for(Ol|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var f=(d=Js).sibling,p=d.return;if(ol(d),d===u){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var g=a.alternate;if(null!==g){var y=g.child;if(null!==y){g.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Js=v;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(E){_c(l,l.return,E)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(Ol=i,Hi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,Al.transition=t}}return!1}function kc(e,t,n){e=Uo(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Uo(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(jl&n)===n&&(4===Tl||3===Tl&&(130023424&jl)===jl&&500>$e()-zl?hc(e,0):Bl|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Io(e,t))&&(mt(e,t,n),rc(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cc(e,n)}function Nc(e,t){return We(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(e,t,n,r){return new Pc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Ic(n.children,i,a,t);case _:s=8,i|=8;break;case S:return(e=jc(12,n,t,2|i)).elementType=S,e.lanes=a,e;case N:return(e=jc(13,n,t,i)).elementType=N,e.lanes=a,e;case P:return(e=jc(19,n,t,i)).elementType=P,e.lanes=a,e;case R:return Fc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case A:s=9;break e;case O:s=11;break e;case j:s=14;break e;case D:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=jc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ic(e,t,n,r){return(e=jc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=jc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=jc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=jc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,o,a,s,l){return e=new Mc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=jc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function zc(e){if(!e)return Ai;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Di(n))return Ii(e,n,t)}return t}function Hc(e,t,n,r,i,o,a,s,l){return(e=Uc(n,r,!0,e,0,o,0,s,l)).context=zc(null),n=e.current,(o=Mo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Uo(n,o,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Mo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Uo(i,t,a))&&(nc(e,i,a,o),zo(e,i,a)),a}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),po();break;case 5:Jo(t);break;case 1:Di(t.type)&&Fi(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(ko,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Ci(ea,1&ea.current),null!==(e=Ks(e,t,n))?e.sibling:null);Ci(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,_s(e,t,n)}return Ks(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Xi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=ji(t,Oi.current);Po(t,n),i=ya(null,t,r,e,i,n);var a=ma();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(a=!0,Fi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Os(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===j)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Es(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Bo(e,t),qo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Eo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ks(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ss(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ls(e,t,n);case 4:return Qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ci(ko,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ni.current){t=Ks(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Mo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),No(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),No(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Po(t,n),r=r(i=jo(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),Es(e,t,r,i=ns(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),qs(e,t),t.tag=1,Di(r)?(e=!0,Fi(t)):e=!1,Po(t,n),as(t,r,i),ls(t,r,i,n),Os(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return _s(e,t,n)}throw Error(o(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Zc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Xc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Kc(a);s.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Kc(a);o.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,Hr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(l);s.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Hr(8===e.nodeType?e.parentNode:e),uc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Kc(a)}Zc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},Zc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){qc(null,e,null,null)})),t[pi]=null}},Zc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,$e()),0===(6&Ol)&&(Hl=$e()+500,Hi()))}break;case 13:uc((function(){var t=Io(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},Et=function(e){if(13===e.tag){var t=Io(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Io(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},_t=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));W(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Oe=cc,Ne=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Ce,Ae,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(o(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(o(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(o(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Xc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Xc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},1352:(e,t,n)=>{"use strict";var r=n(7119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(8345)},1153:(e,t)=>{"use strict";t.DefaultEventPriority=16,t.LegacyRoot=0},8473:(e,t,n)=>{e.exports=function(e){var t={},r=n(9950),i=n(5340),o=Object.assign;function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var w=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var x=Symbol.iterator;function E(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=x&&e[x]||e["@@iterator"])?e:null}function k(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case u:return"Fragment";case c:return"Portal";case h:return"Profiler";case d:return"StrictMode";case y:return"Suspense";case m:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case f:return(e._context.displayName||"Context")+".Provider";case g:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case v:return null!==(t=e.displayName||null)?t:k(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return k(e(t))}catch(n){}}return null}function _(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return k(t);case 8:return t===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function S(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function C(e){if(S(e)!==e)throw Error(a(188))}function A(e){var t=e.alternate;if(!t){if(null===(t=S(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return C(i),e;if(o===r)return C(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}function O(e){return null!==(e=A(e))?N(e):null}function N(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=N(e);if(null!==t)return t;e=e.sibling}return null}function P(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=P(e);if(null!==t)return t}e=e.sibling}return null}var j,D=Array.isArray,R=e.getPublicInstance,T=e.getRootHostContext,I=e.getChildHostContext,F=e.prepareForCommit,L=e.resetAfterCommit,B=e.createInstance,M=e.appendInitialChild,U=e.finalizeInitialChildren,z=e.prepareUpdate,H=e.shouldSetTextContent,q=e.createTextInstance,K=e.scheduleTimeout,V=e.cancelTimeout,G=e.noTimeout,W=e.isPrimaryRenderer,Y=e.supportsMutation,Z=e.supportsPersistence,Q=e.supportsHydration,$=e.getInstanceFromNode,J=e.preparePortalMount,X=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,oe=e.getBoundingRect,ae=e.getTextContent,se=e.isHiddenSubtree,le=e.matchAccessibilityRole,ce=e.setFocusIfFocusable,ue=e.setupIntersectionObserver,de=e.appendChild,he=e.appendChildToContainer,fe=e.commitTextUpdate,pe=e.commitMount,ge=e.commitUpdate,ye=e.insertBefore,me=e.insertInContainerBefore,ve=e.removeChild,be=e.removeChildFromContainer,we=e.resetTextContent,xe=e.hideInstance,Ee=e.hideTextInstance,ke=e.unhideInstance,_e=e.unhideTextInstance,Se=e.clearContainer,Ce=e.cloneInstance,Ae=e.createContainerChildSet,Oe=e.appendChildToContainerChildSet,Ne=e.finalizeContainerChildren,Pe=e.replaceContainerChildren,je=e.cloneHiddenInstance,De=e.cloneHiddenTextInstance,Re=e.canHydrateInstance,Te=e.canHydrateTextInstance,Ie=e.canHydrateSuspenseInstance,Fe=e.isSuspenseInstancePending,Le=e.isSuspenseInstanceFallback,Be=e.getSuspenseInstanceFallbackErrorDetails,Me=e.registerSuspenseInstanceRetry,Ue=e.getNextHydratableSibling,ze=e.getFirstHydratableChild,He=e.getFirstHydratableChildWithinContainer,qe=e.getFirstHydratableChildWithinSuspenseInstance,Ke=e.hydrateInstance,Ve=e.hydrateTextInstance,Ge=e.hydrateSuspenseInstance,We=e.getNextHydratableInstanceAfterSuspenseInstance,Ye=e.commitHydratedContainer,Ze=e.commitHydratedSuspenseInstance,Qe=e.clearSuspenseBoundary,$e=e.clearSuspenseBoundaryFromContainer,Je=e.shouldDeleteUnhydratedTailInstances,Xe=e.didNotMatchHydratedContainerTextInstance,et=e.didNotMatchHydratedTextInstance;function tt(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var nt=!1;function rt(e,t){if(!e||nt)return"";nt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{nt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?tt(e):""}var it=Object.prototype.hasOwnProperty,ot=[],at=-1;function st(e){return{current:e}}function lt(e){0>at||(e.current=ot[at],ot[at]=null,at--)}function ct(e,t){at++,ot[at]=e.current,e.current=t}var ut={},dt=st(ut),ht=st(!1),ft=ut;function pt(e,t){var n=e.type.contextTypes;if(!n)return ut;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yt(){lt(ht),lt(dt)}function mt(e,t,n){if(dt.current!==ut)throw Error(a(168));ct(dt,t),ct(ht,n)}function vt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,_(e)||"Unknown",i));return o({},n,r)}function bt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ut,ft=dt.current,ct(dt,e),ct(ht,ht.current),!0}function wt(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=vt(e,t,ft),r.__reactInternalMemoizedMergedChildContext=e,lt(ht),lt(dt),ct(dt,e)):lt(ht),ct(ht,n)}var xt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Et(e)/kt|0)|0},Et=Math.log,kt=Math.LN2;var _t=64,St=4194304;function Ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function At(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=Ct(s):0!==(o&=a)&&(r=Ct(o))}else 0!==(a=n&~i)?r=Ct(a):0!==o&&(r=Ct(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-xt(t)),r|=e[n],t&=~i;return r}function Ot(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Nt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Pt(){var e=_t;return 0===(4194240&(_t<<=1))&&(_t=64),e}function jt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Dt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-xt(t)]=n}function Rt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Tt=0;function It(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Ft=i.unstable_scheduleCallback,Lt=i.unstable_cancelCallback,Bt=i.unstable_shouldYield,Mt=i.unstable_requestPaint,Ut=i.unstable_now,zt=i.unstable_ImmediatePriority,Ht=i.unstable_UserBlockingPriority,qt=i.unstable_NormalPriority,Kt=i.unstable_IdlePriority,Vt=null,Gt=null;var Wt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Yt=null,Zt=!1,Qt=!1;function $t(e){null===Yt?Yt=[e]:Yt.push(e)}function Jt(){if(!Qt&&null!==Yt){Qt=!0;var e=0,t=Tt;try{var n=Yt;for(Tt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Yt=null,Zt=!1}catch(i){throw null!==Yt&&(Yt=Yt.slice(e+1)),Ft(zt,Jt),i}finally{Tt=t,Qt=!1}}return null}var Xt=[],en=0,tn=null,nn=0,rn=[],on=0,an=null,sn=1,ln="";function cn(e,t){Xt[en++]=nn,Xt[en++]=tn,tn=e,nn=t}function un(e,t,n){rn[on++]=sn,rn[on++]=ln,rn[on++]=an,an=e;var r=sn;e=ln;var i=32-xt(r)-1;r&=~(1<<i),n+=1;var o=32-xt(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,sn=1<<32-xt(t)+i|n<<i|r,ln=o+e}else sn=1<<o|n<<i|r,ln=e}function dn(e){null!==e.return&&(cn(e,1),un(e,1,0))}function hn(e){for(;e===tn;)tn=Xt[--en],Xt[en]=null,nn=Xt[--en],Xt[en]=null;for(;e===an;)an=rn[--on],rn[on]=null,ln=rn[--on],rn[on]=null,sn=rn[--on],rn[on]=null}var fn=null,pn=null,gn=!1,yn=!1,mn=null;function vn(e,t){var n=as(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function bn(e,t){switch(e.tag){case 5:return null!==(t=Re(t,e.type,e.pendingProps))&&(e.stateNode=t,fn=e,pn=ze(t),!0);case 6:return null!==(t=Te(t,e.pendingProps))&&(e.stateNode=t,fn=e,pn=null,!0);case 13:if(null!==(t=Ie(t))){var n=null!==an?{id:sn,overflow:ln}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=as(18,null,null,0)).stateNode=t,n.return=e,e.child=n,fn=e,pn=null,!0}return!1;default:return!1}}function wn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function xn(e){if(gn){var t=pn;if(t){var n=t;if(!bn(e,t)){if(wn(e))throw Error(a(418));t=Ue(n);var r=fn;t&&bn(e,t)?vn(r,n):(e.flags=-4097&e.flags|2,gn=!1,fn=e)}}else{if(wn(e))throw Error(a(418));e.flags=-4097&e.flags|2,gn=!1,fn=e}}}function En(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;fn=e}function kn(e){if(!Q||e!==fn)return!1;if(!gn)return En(e),gn=!0,!1;if(3!==e.tag&&(5!==e.tag||Je(e.type)&&!H(e.type,e.memoizedProps))){var t=pn;if(t){if(wn(e))throw _n(),Error(a(418));for(;t;)vn(e,t),t=Ue(t)}}if(En(e),13===e.tag){if(!Q)throw Error(a(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));pn=We(e)}else pn=fn?Ue(e.stateNode):null;return!0}function _n(){for(var e=pn;e;)e=Ue(e)}function Sn(){Q&&(pn=fn=null,yn=gn=!1)}function Cn(e){null===mn?mn=[e]:mn.push(e)}var An=s.ReactCurrentBatchConfig;function On(e,t){if(Wt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!it.call(t,i)||!Wt(e[i],t[i]))return!1}return!0}function Nn(e){switch(e.tag){case 5:return tt(e.type);case 16:return tt("Lazy");case 13:return tt("Suspense");case 19:return tt("SuspenseList");case 0:case 2:case 15:return e=rt(e.type,!1);case 11:return e=rt(e.type.render,!1);case 1:return e=rt(e.type,!0);default:return""}}function Pn(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function jn(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dn(e){return(0,e._init)(e._payload)}function Rn(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ls(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function d(e,t,n,r){return null===t||6!==t.tag?((t=hs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n,r){var o=n.type;return o===u?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===b&&Dn(o)===t.type)?((r=i(t,n.props)).ref=Pn(e,t,n),r.return=e,r):((r=cs(n.type,n.key,n.props,null,e.mode,r)).ref=Pn(e,t,n),r.return=e,r)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=fs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,o){return null===t||7!==t.tag?((t=us(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function g(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=hs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case l:return(n=cs(t.type,t.key,t.props,null,e.mode,n)).ref=Pn(e,null,t),n.return=e,n;case c:return(t=fs(t,e.mode,n)).return=e,t;case b:return g(e,(0,t._init)(t._payload),n)}if(D(t)||E(t))return(t=us(t,e.mode,n,null)).return=e,t;jn(e,t)}return null}function y(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:d(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===i?h(e,t,n,r):null;case c:return n.key===i?f(e,t,n,r):null;case b:return y(e,t,(i=n._init)(n._payload),r)}if(D(n)||E(n))return null!==i?null:p(e,t,n,r,null);jn(e,n)}return null}function m(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return d(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case l:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case c:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return m(e,t,n,(0,r._init)(r._payload),i)}if(D(r)||E(r))return p(t,e=e.get(n)||null,r,i,null);jn(t,r)}return null}function v(i,a,s,l){for(var c=null,u=null,d=a,h=a=0,f=null;null!==d&&h<s.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=y(i,d,s[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(i,d),a=o(p,a,h),null===u?c=p:u.sibling=p,u=p,d=f}if(h===s.length)return n(i,d),gn&&cn(i,h),c;if(null===d){for(;h<s.length;h++)null!==(d=g(i,s[h],l))&&(a=o(d,a,h),null===u?c=d:u.sibling=d,u=d);return gn&&cn(i,h),c}for(d=r(i,d);h<s.length;h++)null!==(f=m(d,i,h,s[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),a=o(f,a,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach((function(e){return t(i,e)})),gn&&cn(i,h),c}function w(i,s,l,c){var u=E(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,h=s,f=s=0,p=null,v=l.next();null!==h&&!v.done;f++,v=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var b=y(i,h,v.value,c);if(null===b){null===h&&(h=p);break}e&&h&&null===b.alternate&&t(i,h),s=o(b,s,f),null===d?u=b:d.sibling=b,d=b,h=p}if(v.done)return n(i,h),gn&&cn(i,f),u;if(null===h){for(;!v.done;f++,v=l.next())null!==(v=g(i,v.value,c))&&(s=o(v,s,f),null===d?u=v:d.sibling=v,d=v);return gn&&cn(i,f),u}for(h=r(i,h);!v.done;f++,v=l.next())null!==(v=m(h,i,f,v.value,c))&&(e&&null!==v.alternate&&h.delete(null===v.key?f:v.key),s=o(v,s,f),null===d?u=v:d.sibling=v,d=v);return e&&h.forEach((function(e){return t(i,e)})),gn&&cn(i,f),u}return function e(r,o,a,d){if("object"===typeof a&&null!==a&&a.type===u&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case l:e:{for(var h=a.key,f=o;null!==f;){if(f.key===h){if((h=a.type)===u){if(7===f.tag){n(r,f.sibling),(o=i(f,a.props.children)).return=r,r=o;break e}}else if(f.elementType===h||"object"===typeof h&&null!==h&&h.$$typeof===b&&Dn(h)===f.type){n(r,f.sibling),(o=i(f,a.props)).ref=Pn(r,f,a),o.return=r,r=o;break e}n(r,f);break}t(r,f),f=f.sibling}a.type===u?((o=us(a.props.children,r.mode,d,a.key)).return=r,r=o):((d=cs(a.type,a.key,a.props,null,r.mode,d)).ref=Pn(r,o,a),d.return=r,r=d)}return s(r);case c:e:{for(f=a.key;null!==o;){if(o.key===f){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=fs(a,r.mode,d)).return=r,r=o}return s(r);case b:return e(r,o,(f=a._init)(a._payload),d)}if(D(a))return v(r,o,a,d);if(E(a))return w(r,o,a,d);jn(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=hs(a,r.mode,d)).return=r,r=o),s(r)):n(r,o)}}var Tn=Rn(!0),In=Rn(!1),Fn=st(null),Ln=null,Bn=null,Mn=null;function Un(){Mn=Bn=Ln=null}function zn(e,t,n){W?(ct(Fn,t._currentValue),t._currentValue=n):(ct(Fn,t._currentValue2),t._currentValue2=n)}function Hn(e){var t=Fn.current;lt(Fn),W?e._currentValue=t:e._currentValue2=t}function qn(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Kn(e,t){Ln=e,Mn=Bn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ri=!0),e.firstContext=null)}function Vn(e){var t=W?e._currentValue:e._currentValue2;if(Mn!==e)if(e={context:e,memoizedValue:t,next:null},null===Bn){if(null===Ln)throw Error(a(308));Bn=e,Ln.dependencies={lanes:0,firstContext:e}}else Bn=Bn.next=e;return t}var Gn=null;function Wn(e){null===Gn?Gn=[e]:Gn.push(e)}function Yn(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Wn(t)):(n.next=i.next,i.next=n),t.interleaved=n,Zn(e,r)}function Zn(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Qn=!1;function $n(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function er(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&na)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Zn(e,n)}return null===(i=r.interleaved)?(t.next=t,Wn(r)):(t.next=i.next,i.next=t),r.interleaved=t,Zn(e,n)}function tr(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Rt(e,n)}}function nr(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function rr(e,t,n,r){var i=e.updateQueue;Qn=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?a=u:s.next=u,s=c;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===l?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(null!==a){var h=i.baseState;for(s=0,d=u=c=null,l=a;;){var f=l.lane,p=l.eventTime;if((r&f)===f){null!==d&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,y=l;switch(f=t,p=n,y.tag){case 1:if("function"===typeof(g=y.payload)){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(f="function"===typeof(g=y.payload)?g.call(p,h,f):g)||void 0===f)break e;h=o({},h,f);break e;case 2:Qn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(u=d=p,c=h):d=d.next=p,s|=f;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(f=l).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===d&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);ua|=s,e.lanes=s,e.memoizedState=h}}function ir(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var or={},ar=st(or),sr=st(or),lr=st(or);function cr(e){if(e===or)throw Error(a(174));return e}function ur(e,t){ct(lr,t),ct(sr,e),ct(ar,or),e=T(t),lt(ar),ct(ar,e)}function dr(){lt(ar),lt(sr),lt(lr)}function hr(e){var t=cr(lr.current),n=cr(ar.current);n!==(t=I(n,e.type,t))&&(ct(sr,e),ct(ar,t))}function fr(e){sr.current===e&&(lt(ar),lt(sr))}var pr=st(0);function gr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Fe(n)||Le(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yr=[];function mr(){for(var e=0;e<yr.length;e++){var t=yr[e];W?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}yr.length=0}var vr=s.ReactCurrentDispatcher,br=s.ReactCurrentBatchConfig,wr=0,xr=null,Er=null,kr=null,_r=!1,Sr=!1,Cr=0,Ar=0;function Or(){throw Error(a(321))}function Nr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function Pr(e,t,n,r,i,o){if(wr=o,xr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vr.current=null===e||null===e.memoizedState?fi:pi,e=n(r,i),Sr){o=0;do{if(Sr=!1,Cr=0,25<=o)throw Error(a(301));o+=1,kr=Er=null,t.updateQueue=null,vr.current=gi,e=n(r,i)}while(Sr)}if(vr.current=hi,t=null!==Er&&null!==Er.next,wr=0,kr=Er=xr=null,_r=!1,t)throw Error(a(300));return e}function jr(){var e=0!==Cr;return Cr=0,e}function Dr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===kr?xr.memoizedState=kr=e:kr=kr.next=e,kr}function Rr(){if(null===Er){var e=xr.alternate;e=null!==e?e.memoizedState:null}else e=Er.next;var t=null===kr?xr.memoizedState:kr.next;if(null!==t)kr=t,Er=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Er=e).memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},null===kr?xr.memoizedState=kr=e:kr=kr.next=e}return kr}function Tr(e,t){return"function"===typeof t?t(e):t}function Ir(e){var t=Rr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Er,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((wr&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,xr.lanes|=d,ua|=d}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,Wt(r,t.memoizedState)||(Ri=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,xr.lanes|=o,ua|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fr(e){var t=Rr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Wt(o,t.memoizedState)||(Ri=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Lr(){}function Br(e,t){var n=xr,r=Rr(),i=t(),o=!Wt(r.memoizedState,i);if(o&&(r.memoizedState=i,Ri=!0),r=r.queue,Qr(zr.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==kr&&1&kr.memoizedState.tag){if(n.flags|=2048,Vr(9,Ur.bind(null,n,r,i,t),void 0,null),null===ra)throw Error(a(349));0!==(30&wr)||Mr(n,t,i)}return i}function Mr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xr.updateQueue)?(t={lastEffect:null,stores:null},xr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ur(e,t,n,r){t.value=n,t.getSnapshot=r,Hr(t)&&qr(e)}function zr(e,t,n){return n((function(){Hr(t)&&qr(e)}))}function Hr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch(r){return!0}}function qr(e){var t=Zn(e,1);null!==t&&Da(t,e,1,-1)}function Kr(e){var t=Dr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:e},t.queue=e,e=e.dispatch=li.bind(null,xr,e),[t.memoizedState,e]}function Vr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=xr.updateQueue)?(t={lastEffect:null,stores:null},xr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Gr(){return Rr().memoizedState}function Wr(e,t,n,r){var i=Dr();xr.flags|=e,i.memoizedState=Vr(1|t,n,void 0,void 0===r?null:r)}function Yr(e,t,n,r){var i=Rr();r=void 0===r?null:r;var o=void 0;if(null!==Er){var a=Er.memoizedState;if(o=a.destroy,null!==r&&Nr(r,a.deps))return void(i.memoizedState=Vr(t,n,o,r))}xr.flags|=e,i.memoizedState=Vr(1|t,n,o,r)}function Zr(e,t){return Wr(8390656,8,e,t)}function Qr(e,t){return Yr(2048,8,e,t)}function $r(e,t){return Yr(4,2,e,t)}function Jr(e,t){return Yr(4,4,e,t)}function Xr(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ei(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Yr(4,4,Xr.bind(null,t,e),n)}function ti(){}function ni(e,t){var n=Rr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Nr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ri(e,t){var n=Rr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Nr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ii(e,t,n){return 0===(21&wr)?(e.baseState&&(e.baseState=!1,Ri=!0),e.memoizedState=n):(Wt(n,t)||(n=Pt(),xr.lanes|=n,ua|=n,e.baseState=!0),t)}function oi(e,t){var n=Tt;Tt=0!==n&&4>n?n:4,e(!0);var r=br.transition;br.transition={};try{e(!1),t()}finally{Tt=n,br.transition=r}}function ai(){return Rr().memoizedState}function si(e,t,n){var r=ja(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ci(e))ui(t,n);else if(null!==(n=Yn(e,t,n,r))){Da(n,e,r,Pa()),di(n,t,r)}}function li(e,t,n){var r=ja(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ci(e))ui(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Wt(s,a)){var l=t.interleaved;return null===l?(i.next=i,Wn(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Yn(e,t,i,r))&&(Da(n,e,r,i=Pa()),di(n,t,r))}}function ci(e){var t=e.alternate;return e===xr||null!==t&&t===xr}function ui(e,t){Sr=_r=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function di(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Rt(e,n)}}var hi={readContext:Vn,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},fi={readContext:Vn,useCallback:function(e,t){return Dr().memoizedState=[e,void 0===t?null:t],e},useContext:Vn,useEffect:Zr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wr(4194308,4,Xr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wr(4,2,e,t)},useMemo:function(e,t){var n=Dr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=si.bind(null,xr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Dr().memoizedState=e},useState:Kr,useDebugValue:ti,useDeferredValue:function(e){return Dr().memoizedState=e},useTransition:function(){var e=Kr(!1),t=e[0];return e=oi.bind(null,e[1]),Dr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xr,i=Dr();if(gn){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===ra)throw Error(a(349));0!==(30&wr)||Mr(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Zr(zr.bind(null,r,o,e),[e]),r.flags|=2048,Vr(9,Ur.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Dr(),t=ra.identifierPrefix;if(gn){var n=ln;t=":"+t+"R"+(n=(sn&~(1<<32-xt(sn)-1)).toString(32)+n),0<(n=Cr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ar++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pi={readContext:Vn,useCallback:ni,useContext:Vn,useEffect:Qr,useImperativeHandle:ei,useInsertionEffect:$r,useLayoutEffect:Jr,useMemo:ri,useReducer:Ir,useRef:Gr,useState:function(){return Ir(Tr)},useDebugValue:ti,useDeferredValue:function(e){return ii(Rr(),Er.memoizedState,e)},useTransition:function(){return[Ir(Tr)[0],Rr().memoizedState]},useMutableSource:Lr,useSyncExternalStore:Br,useId:ai,unstable_isNewReconciler:!1},gi={readContext:Vn,useCallback:ni,useContext:Vn,useEffect:Qr,useImperativeHandle:ei,useInsertionEffect:$r,useLayoutEffect:Jr,useMemo:ri,useReducer:Fr,useRef:Gr,useState:function(){return Fr(Tr)},useDebugValue:ti,useDeferredValue:function(e){var t=Rr();return null===Er?t.memoizedState=e:ii(t,Er.memoizedState,e)},useTransition:function(){return[Fr(Tr)[0],Rr().memoizedState]},useMutableSource:Lr,useSyncExternalStore:Br,useId:ai,unstable_isNewReconciler:!1};function yi(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function mi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var vi={isMounted:function(e){return!!(e=e._reactInternals)&&S(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pa(),i=ja(e),o=Xn(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=er(e,o,i))&&(Da(t,e,i,r),tr(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pa(),i=ja(e),o=Xn(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=er(e,o,i))&&(Da(t,e,i,r),tr(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pa(),r=ja(e),i=Xn(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=er(e,i,r))&&(Da(t,e,r,n),tr(t,e,r))}};function bi(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!On(n,r)||!On(i,o))}function wi(e,t,n){var r=!1,i=ut,o=t.contextType;return"object"===typeof o&&null!==o?o=Vn(o):(i=gt(t)?ft:dt.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?pt(e,i):ut),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function xi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vi.enqueueReplaceState(t,t.state,null)}function Ei(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},$n(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Vn(o):(o=gt(t)?ft:dt.current,i.context=pt(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(mi(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vi.enqueueReplaceState(i,i.state,null),rr(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ki(e,t){try{var n="",r=t;do{n+=Nn(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function _i(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function Si(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var Ci="function"===typeof WeakMap?WeakMap:Map;function Ai(e,t,n){(n=Xn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){wa||(wa=!0,xa=r),Si(0,t)},n}function Oi(e,t,n){(n=Xn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Si(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){Si(0,t),"function"!==typeof r&&(null===Ea?Ea=new Set([this]):Ea.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ni(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Ci;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=es.bind(null,e,t,n),t.then(e,e))}function Pi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ji(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Xn(-1,1)).tag=2,er(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Di=s.ReactCurrentOwner,Ri=!1;function Ti(e,t,n,r){t.child=null===e?In(t,null,n,r):Tn(t,e.child,n,r)}function Ii(e,t,n,r,i){n=n.render;var o=t.ref;return Kn(t,i),r=Pr(e,t,n,r,o,i),n=jr(),null===e||Ri?(gn&&n&&dn(t),t.flags|=1,Ti(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,io(e,t,i))}function Fi(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||ss(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=cs(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Li(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:On)(a,r)&&e.ref===t.ref)return io(e,t,i)}return t.flags|=1,(e=ls(o,r)).ref=t.ref,e.return=t,t.child=e}function Li(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(On(o,r)&&e.ref===t.ref){if(Ri=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,io(e,t,i);0!==(131072&e.flags)&&(Ri=!0)}}return Ui(e,t,n,r,i)}function Bi(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(sa,aa),aa|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ct(sa,aa),aa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ct(sa,aa),aa|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ct(sa,aa),aa|=r;return Ti(e,t,i,n),t.child}function Mi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ui(e,t,n,r,i){var o=gt(n)?ft:dt.current;return o=pt(t,o),Kn(t,i),n=Pr(e,t,n,r,o,i),r=jr(),null===e||Ri?(gn&&r&&dn(t),t.flags|=1,Ti(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,io(e,t,i))}function zi(e,t,n,r,i){if(gt(n)){var o=!0;bt(t)}else o=!1;if(Kn(t,i),null===t.stateNode)ro(e,t),wi(t,n,r),Ei(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Vn(c):c=pt(t,c=gt(n)?ft:dt.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&xi(t,a,r,c),Qn=!1;var h=t.memoizedState;a.state=h,rr(t,r,a,i),l=t.memoizedState,s!==r||h!==l||ht.current||Qn?("function"===typeof u&&(mi(t,n,u,r),l=t.memoizedState),(s=Qn||bi(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Jn(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:yi(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Vn(l):l=pt(t,l=gt(n)?ft:dt.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&xi(t,a,r,l),Qn=!1,h=t.memoizedState,a.state=h,rr(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||ht.current||Qn?("function"===typeof f&&(mi(t,n,f,r),p=t.memoizedState),(c=Qn||bi(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Hi(e,t,n,r,o,i)}function Hi(e,t,n,r,i,o){Mi(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&wt(t,n,!1),io(e,t,o);r=t.stateNode,Di.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Tn(t,e.child,null,o),t.child=Tn(t,null,s,o)):Ti(e,t,s,o),t.memoizedState=r.state,i&&wt(t,n,!0),t.child}function qi(e){var t=e.stateNode;t.pendingContext?mt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mt(0,t.context,!1),ur(e,t.containerInfo)}function Ki(e,t,n,r,i){return Sn(),Cn(i),t.flags|=256,Ti(e,t,n,r),t.child}var Vi,Gi,Wi,Yi,Zi={dehydrated:null,treeContext:null,retryLane:0};function Qi(e){return{baseLanes:e,cachePool:null,transitions:null}}function $i(e,t,n){var r,i=t.pendingProps,o=pr.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ct(pr,1&o),null===e)return xn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:Le(e)?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=ds(l,i,0,null),e=us(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Qi(n),t.memoizedState=Zi,e):Ji(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Xi(e,t,s,r=_i(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=ds({mode:"visible",children:r.children},i,0,null),(o=us(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Tn(t,e.child,null,s),t.child.memoizedState=Qi(s),t.memoizedState=Zi,o);if(0===(1&t.mode))return Xi(e,t,s,null);if(Le(i))return r=Be(i).digest,o=Error(a(419)),r=_i(o,r,void 0),Xi(e,t,s,r);if(n=0!==(s&e.childLanes),Ri||n){if(null!==(r=ra)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Zn(e,i),Da(r,e,i,-1))}return Ka(),Xi(e,t,s,r=_i(Error(a(421))))}return Fe(i)?(t.flags|=128,t.child=e.child,t=ns.bind(null,e),Me(i,t),null):(e=o.treeContext,Q&&(pn=qe(i),fn=t,gn=!0,mn=null,yn=!1,null!==e&&(rn[on++]=sn,rn[on++]=ln,rn[on++]=an,sn=e.id,ln=e.overflow,an=t)),t=Ji(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=ls(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=ls(r,s):(s=us(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Qi(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Zi,i}return e=(s=e.child).sibling,i=ls(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ji(e,t){return(t=ds({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Xi(e,t,n,r){return null!==r&&Cn(r),Tn(t,e.child,null,n),(e=Ji(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function eo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),qn(e.return,t,n)}function to(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function no(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ti(e,t,r.children,n),0!==(2&(r=pr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&eo(e,n,t);else if(19===e.tag)eo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ct(pr,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===gr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),to(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===gr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}to(t,!0,n,null,o);break;case"together":to(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ro(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function io(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ua|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=ls(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ls(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function oo(e){e.flags|=4}function ao(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(Y)Vi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)M(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Gi=function(){},Wi=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var o=t.stateNode,a=cr(ar.current);n=z(o,n,e,r,i,a),(t.updateQueue=n)&&oo(t)}},Yi=function(e,t,n,r){n!==r&&oo(t)};else if(Z){Vi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=je(o,i.type,i.memoizedProps,i)),M(e,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=De(o,i.memoizedProps,i)),M(e,o);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(o=i.child)&&(o.return=i),Vi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var so=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=je(o,i.type,i.memoizedProps,i)),Oe(e,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=De(o,i.memoizedProps,i)),Oe(e,o);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(o=i.child)&&(o.return=i),so(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Gi=function(e,t){var n=t.stateNode;if(!ao(e,t)){e=n.containerInfo;var r=Ae(e);so(r,t,!1,!1),n.pendingChildren=r,oo(t),Ne(e,r)}},Wi=function(e,t,n,r,i){var o=e.stateNode,a=e.memoizedProps;if((e=ao(e,t))&&a===r)t.stateNode=o;else{var s=t.stateNode,l=cr(ar.current),c=null;a!==r&&(c=z(s,n,a,r,i,l)),e&&null===c?t.stateNode=o:(o=Ce(o,c,n,a,r,t,e,s),U(o,n,r,i,l)&&oo(t),t.stateNode=o,e?oo(t):Vi(o,t,!1,!1))}},Yi=function(e,t,n,r){n!==r?(e=cr(lr.current),n=cr(ar.current),t.stateNode=q(r,e,n,t),oo(t)):t.stateNode=e.stateNode}}else Gi=function(){},Wi=function(){},Yi=function(){};function lo(e,t){if(!gn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function co(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function uo(e,t,n){var r=t.pendingProps;switch(hn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return co(t),null;case 1:case 17:return gt(t.type)&&yt(),co(t),null;case 3:return n=t.stateNode,dr(),lt(ht),lt(dt),mr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(kn(t)?oo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==mn&&(Fa(mn),mn=null))),Gi(e,t),co(t),null;case 5:fr(t),n=cr(lr.current);var i=t.type;if(null!==e&&null!=t.stateNode)Wi(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return co(t),null}if(e=cr(ar.current),kn(t)){if(!Q)throw Error(a(175));e=Ke(t.stateNode,t.type,t.memoizedProps,n,e,t,!yn),t.updateQueue=e,null!==e&&oo(t)}else{var o=B(i,r,n,e,t);Vi(o,t,!1,!1),t.stateNode=o,U(o,i,r,n,e)&&oo(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return co(t),null;case 6:if(e&&null!=t.stateNode)Yi(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=cr(lr.current),n=cr(ar.current),kn(t)){if(!Q)throw Error(a(176));if(e=t.stateNode,n=t.memoizedProps,(r=Ve(e,n,t,!yn))&&null!==(i=fn))switch(i.tag){case 3:Xe(i.stateNode.containerInfo,e,n,0!==(1&i.mode));break;case 5:et(i.type,i.memoizedProps,i.stateNode,e,n,0!==(1&i.mode))}r&&oo(t)}else t.stateNode=q(r,e,n,t)}return co(t),null;case 13:if(lt(pr),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(gn&&null!==pn&&0!==(1&t.mode)&&0===(128&t.flags))_n(),Sn(),t.flags|=98560,i=!1;else if(i=kn(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!Q)throw Error(a(344));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));Ge(i,t)}else Sn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;co(t),i=!1}else null!==mn&&(Fa(mn),mn=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((n=null!==r)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&pr.current)?0===la&&(la=3):Ka())),null!==t.updateQueue&&(t.flags|=4),co(t),null);case 4:return dr(),Gi(e,t),null===e&&J(t.stateNode.containerInfo),co(t),null;case 10:return Hn(t.type._context),co(t),null;case 19:if(lt(pr),null===(i=t.memoizedState))return co(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)lo(i,!1);else{if(0!==la||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=gr(e))){for(t.flags|=128,lo(i,!1),null!==(e=o.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,n=t.child;null!==n;)i=e,(r=n).flags&=14680066,null===(o=r.alternate)?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),n=n.sibling;return ct(pr,1&pr.current|2),t.child}e=e.sibling}null!==i.tail&&Ut()>ya&&(t.flags|=128,r=!0,lo(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=gr(o))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),lo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!gn)return co(t),null}else 2*Ut()-i.renderingStartTime>ya&&1073741824!==n&&(t.flags|=128,r=!0,lo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ut(),t.sibling=null,e=pr.current,ct(pr,r?1&e|2:1&e),t):(co(t),null);case 22:case 23:return Ua(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&aa)&&(co(t),Y&&6&t.subtreeFlags&&(t.flags|=8192)):co(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function ho(e,t){switch(hn(t),t.tag){case 1:return gt(t.type)&&yt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return dr(),lt(ht),lt(dt),mr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return fr(t),null;case 13:if(lt(pr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Sn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return lt(pr),null;case 4:return dr(),null;case 10:return Hn(t.type._context),null;case 22:case 23:return Ua(),null;default:return null}}var fo=!1,po=!1,go="function"===typeof WeakSet?WeakSet:Set,yo=null;function mo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Xa(e,t,r)}else n.current=null}function vo(e,t,n){try{n()}catch(r){Xa(e,t,r)}}var bo=!1;function wo(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&vo(t,n,o)}i=i.next}while(i!==r)}}function xo(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Eo(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=R(n);else e=n;"function"===typeof t?t(e):t.current=e}}function ko(e){var t=e.alternate;null!==t&&(e.alternate=null,ko(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _o(e){return 5===e.tag||3===e.tag||4===e.tag}function So(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||_o(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Co(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?me(n,e,t):he(n,e);else if(4!==r&&null!==(e=e.child))for(Co(e,t,n),e=e.sibling;null!==e;)Co(e,t,n),e=e.sibling}function Ao(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ye(n,e,t):de(n,e);else if(4!==r&&null!==(e=e.child))for(Ao(e,t,n),e=e.sibling;null!==e;)Ao(e,t,n),e=e.sibling}var Oo=null,No=!1;function Po(e,t,n){for(n=n.child;null!==n;)jo(e,t,n),n=n.sibling}function jo(e,t,n){if(Gt&&"function"===typeof Gt.onCommitFiberUnmount)try{Gt.onCommitFiberUnmount(Vt,n)}catch(s){}switch(n.tag){case 5:po||mo(n,t);case 6:if(Y){var r=Oo,i=No;Oo=null,Po(e,t,n),No=i,null!==(Oo=r)&&(No?be(Oo,n.stateNode):ve(Oo,n.stateNode))}else Po(e,t,n);break;case 18:Y&&null!==Oo&&(No?$e(Oo,n.stateNode):Qe(Oo,n.stateNode));break;case 4:Y?(r=Oo,i=No,Oo=n.stateNode.containerInfo,No=!0,Po(e,t,n),Oo=r,No=i):(Z&&(r=n.stateNode.containerInfo,i=Ae(r),Pe(r,i)),Po(e,t,n));break;case 0:case 11:case 14:case 15:if(!po&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&vo(n,t,a),i=i.next}while(i!==r)}Po(e,t,n);break;case 1:if(!po&&(mo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Xa(n,t,s)}Po(e,t,n);break;case 21:Po(e,t,n);break;case 22:1&n.mode?(po=(r=po)||null!==n.memoizedState,Po(e,t,n),po=r):Po(e,t,n);break;default:Po(e,t,n)}}function Do(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new go),t.forEach((function(t){var r=rs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ro(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t;if(Y){var l=s;e:for(;null!==l;){switch(l.tag){case 5:Oo=l.stateNode,No=!1;break e;case 3:case 4:Oo=l.stateNode.containerInfo,No=!0;break e}l=l.return}if(null===Oo)throw Error(a(160));jo(o,s,i),Oo=null,No=!1}else jo(o,s,i);var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Xa(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)To(t,e),t=t.sibling}function To(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ro(t,e),Io(e),4&r){try{wo(3,e,e.return),xo(3,e)}catch(f){Xa(e,e.return,f)}try{wo(5,e,e.return)}catch(f){Xa(e,e.return,f)}}break;case 1:Ro(t,e),Io(e),512&r&&null!==n&&mo(n,n.return);break;case 5:if(Ro(t,e),Io(e),512&r&&null!==n&&mo(n,n.return),Y){if(32&e.flags){var i=e.stateNode;try{we(i)}catch(f){Xa(e,e.return,f)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps;if(n=null!==n?n.memoizedProps:o,r=e.type,t=e.updateQueue,e.updateQueue=null,null!==t)try{ge(i,t,r,n,o,e)}catch(f){Xa(e,e.return,f)}}}break;case 6:if(Ro(t,e),Io(e),4&r&&Y){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps,n=null!==n?n.memoizedProps:o;try{fe(i,n,o)}catch(f){Xa(e,e.return,f)}}break;case 3:if(Ro(t,e),Io(e),4&r){if(Y&&Q&&null!==n&&n.memoizedState.isDehydrated)try{Ye(t.containerInfo)}catch(f){Xa(e,e.return,f)}if(Z){i=t.containerInfo,o=t.pendingChildren;try{Pe(i,o)}catch(f){Xa(e,e.return,f)}}}break;case 4:if(Ro(t,e),Io(e),4&r&&Z){i=(o=e.stateNode).containerInfo,o=o.pendingChildren;try{Pe(i,o)}catch(f){Xa(e,e.return,f)}}break;case 13:Ro(t,e),Io(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(ga=Ut())),4&r&&Do(e);break;case 22:var s=null!==n&&null!==n.memoizedState;if(1&e.mode?(po=(n=po)||s,Ro(t,e),po=n):Ro(t,e),Io(e),8192&r){if(n=null!==e.memoizedState,(e.stateNode.isHidden=n)&&!s&&0!==(1&e.mode))for(yo=e,r=e.child;null!==r;){for(t=yo=r;null!==yo;){var l=(s=yo).child;switch(s.tag){case 0:case 11:case 14:case 15:wo(4,s,s.return);break;case 1:mo(s,s.return);var c=s.stateNode;if("function"===typeof c.componentWillUnmount){var u=s,d=s.return;try{var h=u;c.props=h.memoizedProps,c.state=h.memoizedState,c.componentWillUnmount()}catch(f){Xa(u,d,f)}}break;case 5:mo(s,s.return);break;case 22:if(null!==s.memoizedState){Mo(t);continue}}null!==l?(l.return=s,yo=l):Mo(t)}r=r.sibling}if(Y)e:if(r=null,Y)for(t=e;;){if(5===t.tag){if(null===r){r=t;try{i=t.stateNode,n?xe(i):ke(t.stateNode,t.memoizedProps)}catch(f){Xa(e,e.return,f)}}}else if(6===t.tag){if(null===r)try{o=t.stateNode,n?Ee(o):_e(o,t.memoizedProps)}catch(f){Xa(e,e.return,f)}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}}break;case 19:Ro(t,e),Io(e),4&r&&Do(e);break;case 21:break;default:Ro(t,e),Io(e)}}function Io(e){var t=e.flags;if(2&t){try{if(Y){e:{for(var n=e.return;null!==n;){if(_o(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(we(i),r.flags&=-33),Ao(e,So(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;Co(e,So(e),o);break;default:throw Error(a(161))}}}catch(s){Xa(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Fo(e,t,n){yo=e,Lo(e,t,n)}function Lo(e,t,n){for(var r=0!==(1&e.mode);null!==yo;){var i=yo,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||fo;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||po;s=fo;var c=po;if(fo=a,(po=l)&&!c)for(yo=i;null!==yo;)l=(a=yo).child,22===a.tag&&null!==a.memoizedState?Uo(i):null!==l?(l.return=a,yo=l):Uo(i);for(;null!==o;)yo=o,Lo(o,t,n),o=o.sibling;yo=i,fo=s,po=c}Bo(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,yo=o):Bo(e)}}function Bo(e){for(;null!==yo;){var t=yo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:po||xo(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!po)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ir(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=R(t.child.stateNode);break;case 1:n=t.child.stateNode}ir(t,s,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&pe(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Q&&null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Ze(d)}}}break;default:throw Error(a(163))}po||512&t.flags&&Eo(t)}catch(h){Xa(t,t.return,h)}}if(t===e){yo=null;break}if(null!==(n=t.sibling)){n.return=t.return,yo=n;break}yo=t.return}}function Mo(e){for(;null!==yo;){var t=yo;if(t===e){yo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,yo=n;break}yo=t.return}}function Uo(e){for(;null!==yo;){var t=yo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xo(4,t)}catch(l){Xa(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Xa(t,i,l)}}var o=t.return;try{Eo(t)}catch(l){Xa(t,o,l)}break;case 5:var a=t.return;try{Eo(t)}catch(l){Xa(t,a,l)}}}catch(l){Xa(t,t.return,l)}if(t===e){yo=null;break}var s=t.sibling;if(null!==s){s.return=t.return,yo=s;break}yo=t.return}}var zo=0,Ho=1,qo=2,Ko=3,Vo=4;if("function"===typeof Symbol&&Symbol.for){var Go=Symbol.for;zo=Go("selector.component"),Ho=Go("selector.has_pseudo_class"),qo=Go("selector.role"),Ko=Go("selector.test_id"),Vo=Go("selector.text")}function Wo(e){var t=$(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(a(364));return t}if(null===(e=ie(e)))throw Error(a(362));return e.stateNode.current}function Yo(e,t){switch(t.$$typeof){case zo:if(e.type===t.value)return!0;break;case Ho:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],o=t[i];if(5!==r.tag||!se(r)){for(;null!=o&&Yo(r,o);)o=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case qo:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case Vo:if((5===e.tag||6===e.tag)&&(null!==(e=ae(e))&&0<=e.indexOf(t.value)))return!0;break;case Ko:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Zo(e){switch(e.$$typeof){case zo:return"<"+(k(e.value)||"Unknown")+">";case Ho:return":has("+(Zo(e)||"")+")";case qo:return'[role="'+e.value+'"]';case Vo:return'"'+e.value+'"';case Ko:return'[data-testname="'+e.value+'"]';default:throw Error(a(365))}}function Qo(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],o=e[r++],a=t[o];if(5!==i.tag||!se(i)){for(;null!=a&&Yo(i,a);)a=t[++o];if(o===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,o),i=i.sibling}}return n}function $o(e,t){if(!re)throw Error(a(363));e=Qo(e=Wo(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Jo=Math.ceil,Xo=s.ReactCurrentDispatcher,ea=s.ReactCurrentOwner,ta=s.ReactCurrentBatchConfig,na=0,ra=null,ia=null,oa=0,aa=0,sa=st(0),la=0,ca=null,ua=0,da=0,ha=0,fa=null,pa=null,ga=0,ya=1/0,ma=null;function va(){ya=Ut()+500}var ba,wa=!1,xa=null,Ea=null,ka=!1,_a=null,Sa=0,Ca=0,Aa=null,Oa=-1,Na=0;function Pa(){return 0!==(6&na)?Ut():-1!==Oa?Oa:Oa=Ut()}function ja(e){return 0===(1&e.mode)?1:0!==(2&na)&&0!==oa?oa&-oa:null!==An.transition?(0===Na&&(Na=Pt()),Na):0!==(e=Tt)?e:X()}function Da(e,t,n,r){if(50<Ca)throw Ca=0,Aa=null,Error(a(185));Dt(e,n,r),0!==(2&na)&&e===ra||(e===ra&&(0===(2&na)&&(da|=n),4===la&&La(e,oa)),Ra(e,r),1===n&&0===na&&0===(1&t.mode)&&(va(),Zt&&Jt()))}function Ra(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-xt(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=Ot(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=At(e,e===ra?oa:0);if(0===r)null!==n&&Lt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Lt(n),1===t)0===e.tag?function(e){Zt=!0,$t(e)}(Ba.bind(null,e)):$t(Ba.bind(null,e)),te?ne((function(){0===(6&na)&&Jt()})):Ft(zt,Jt),n=null;else{switch(It(r)){case 1:n=zt;break;case 4:n=Ht;break;case 16:default:n=qt;break;case 536870912:n=Kt}n=is(n,Ta.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ta(e,t){if(Oa=-1,Na=0,0!==(6&na))throw Error(a(327));var n=e.callbackNode;if($a()&&e.callbackNode!==n)return null;var r=At(e,e===ra?oa:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Va(e,r);else{t=r;var i=na;na|=2;var o=qa();for(ra===e&&oa===t||(ma=null,va(),za(e,t));;)try{Wa();break}catch(l){Ha(e,l)}Un(),Xo.current=o,na=i,null!==ia?t=0:(ra=null,oa=0,t=la)}if(0!==t){if(2===t&&(0!==(i=Nt(e))&&(r=i,t=Ia(e,i))),1===t)throw n=ca,za(e,0),La(e,r),Ra(e,Ut()),n;if(6===t)La(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Wt(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Va(e,r))&&(0!==(o=Nt(e))&&(r=o,t=Ia(e,o))),1===t))throw n=ca,za(e,0),La(e,r),Ra(e,Ut()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Qa(e,pa,ma);break;case 3:if(La(e,r),(130023424&r)===r&&10<(t=ga+500-Ut())){if(0!==At(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Pa(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=K(Qa.bind(null,e,pa,ma),t);break}Qa(e,pa,ma);break;case 4:if(La(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-xt(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ut()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jo(r/1960))-r)){e.timeoutHandle=K(Qa.bind(null,e,pa,ma),r);break}Qa(e,pa,ma);break;default:throw Error(a(329))}}}return Ra(e,Ut()),e.callbackNode===n?Ta.bind(null,e):null}function Ia(e,t){var n=fa;return e.current.memoizedState.isDehydrated&&(za(e,t).flags|=256),2!==(e=Va(e,t))&&(t=pa,pa=n,null!==t&&Fa(t)),e}function Fa(e){null===pa?pa=e:pa.push.apply(pa,e)}function La(e,t){for(t&=~ha,t&=~da,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function Ba(e){if(0!==(6&na))throw Error(a(327));$a();var t=At(e,0);if(0===(1&t))return Ra(e,Ut()),null;var n=Va(e,t);if(0!==e.tag&&2===n){var r=Nt(e);0!==r&&(t=r,n=Ia(e,r))}if(1===n)throw n=ca,za(e,0),La(e,t),Ra(e,Ut()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qa(e,pa,ma),Ra(e,Ut()),null}function Ma(e){null!==_a&&0===_a.tag&&0===(6&na)&&$a();var t=na;na|=1;var n=ta.transition,r=Tt;try{if(ta.transition=null,Tt=1,e)return e()}finally{Tt=r,ta.transition=n,0===(6&(na=t))&&Jt()}}function Ua(){aa=sa.current,lt(sa)}function za(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==G&&(e.timeoutHandle=G,V(n)),null!==ia)for(n=ia.return;null!==n;){var r=n;switch(hn(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yt();break;case 3:dr(),lt(ht),lt(dt),mr();break;case 5:fr(r);break;case 4:dr();break;case 13:case 19:lt(pr);break;case 10:Hn(r.type._context);break;case 22:case 23:Ua()}n=n.return}if(ra=e,ia=e=ls(e.current,null),oa=aa=t,la=0,ca=null,ha=da=ua=0,pa=fa=null,null!==Gn){for(t=0;t<Gn.length;t++)if(null!==(r=(n=Gn[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Gn=null}return e}function Ha(e,t){for(;;){var n=ia;try{if(Un(),vr.current=hi,_r){for(var r=xr.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}_r=!1}if(wr=0,kr=Er=xr=null,Sr=!1,Cr=0,ea.current=null,null===n||null===n.return){la=1,ca=t,ia=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=oa,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Pi(s);if(null!==p){p.flags&=-257,ji(p,s,l,0,t),1&p.mode&&Ni(o,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var y=new Set;y.add(c),t.updateQueue=y}else g.add(c);break e}if(0===(1&t)){Ni(o,u,t),Ka();break e}c=Error(a(426))}else if(gn&&1&l.mode){var m=Pi(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ji(m,s,l,0,t),Cn(ki(c,l));break e}}o=c=ki(c,l),4!==la&&(la=2),null===fa?fa=[o]:fa.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,nr(o,Ai(0,c,t));break e;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ea||!Ea.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,nr(o,Oi(o,l,t));break e}}o=o.return}while(null!==o)}Za(n)}catch(w){t=w,ia===n&&null!==n&&(ia=n=n.return);continue}break}}function qa(){var e=Xo.current;return Xo.current=hi,null===e?hi:e}function Ka(){0!==la&&3!==la&&2!==la||(la=4),null===ra||0===(268435455&ua)&&0===(268435455&da)||La(ra,oa)}function Va(e,t){var n=na;na|=2;var r=qa();for(ra===e&&oa===t||(ma=null,za(e,t));;)try{Ga();break}catch(i){Ha(e,i)}if(Un(),na=n,Xo.current=r,null!==ia)throw Error(a(261));return ra=null,oa=0,la}function Ga(){for(;null!==ia;)Ya(ia)}function Wa(){for(;null!==ia&&!Bt();)Ya(ia)}function Ya(e){var t=ba(e.alternate,e,aa);e.memoizedProps=e.pendingProps,null===t?Za(e):ia=t,ea.current=null}function Za(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=uo(n,t,aa)))return void(ia=n)}else{if(null!==(n=ho(n,t)))return n.flags&=32767,void(ia=n);if(null===e)return la=6,void(ia=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ia=t);ia=t=e}while(null!==t);0===la&&(la=5)}function Qa(e,t,n){var r=Tt,i=ta.transition;try{ta.transition=null,Tt=1,function(e,t,n,r){do{$a()}while(null!==_a);if(0!==(6&na))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-xt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,o),e===ra&&(ia=ra=null,oa=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ka||(ka=!0,is(qt,(function(){return $a(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=ta.transition,ta.transition=null;var s=Tt;Tt=1;var l=na;na|=4,ea.current=null,function(e,t){for(F(e.containerInfo),yo=t;null!==yo;)if(t=(e=yo).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,yo=t;else for(;null!==yo;){e=yo;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,o=e.stateNode,s=o.getSnapshotBeforeUpdate(e.elementType===e.type?r:yi(e.type,r),i);o.__reactInternalSnapshotBeforeUpdate=s}break;case 3:Y&&Se(e.stateNode.containerInfo);break;default:throw Error(a(163))}}catch(l){Xa(e,e.return,l)}if(null!==(t=e.sibling)){t.return=e.return,yo=t;break}yo=e.return}n=bo,bo=!1}(e,n),To(n,e),L(e.containerInfo),e.current=n,Fo(n,e,i),Mt(),na=l,Tt=s,ta.transition=o}else e.current=n;if(ka&&(ka=!1,_a=e,Sa=i),o=e.pendingLanes,0===o&&(Ea=null),function(e){if(Gt&&"function"===typeof Gt.onCommitFiberRoot)try{Gt.onCommitFiberRoot(Vt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),Ra(e,Ut()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wa)throw wa=!1,e=xa,xa=null,e;0!==(1&Sa)&&0!==e.tag&&$a(),o=e.pendingLanes,0!==(1&o)?e===Aa?Ca++:(Ca=0,Aa=e):Ca=0,Jt()}(e,t,n,r)}finally{ta.transition=i,Tt=r}return null}function $a(){if(null!==_a){var e=It(Sa),t=ta.transition,n=Tt;try{if(ta.transition=null,Tt=16>e?16:e,null===_a)var r=!1;else{if(e=_a,_a=null,Sa=0,0!==(6&na))throw Error(a(331));var i=na;for(na|=4,yo=e.current;null!==yo;){var o=yo,s=o.child;if(0!==(16&yo.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(yo=u;null!==yo;){var d=yo;switch(d.tag){case 0:case 11:case 15:wo(8,d,o)}var h=d.child;if(null!==h)h.return=d,yo=h;else for(;null!==yo;){var f=(d=yo).sibling,p=d.return;if(ko(d),d===u){yo=null;break}if(null!==f){f.return=p,yo=f;break}yo=p}}}var g=o.alternate;if(null!==g){var y=g.child;if(null!==y){g.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}yo=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,yo=s;else e:for(;null!==yo;){if(0!==(2048&(o=yo).flags))switch(o.tag){case 0:case 11:case 15:wo(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,yo=v;break e}yo=o.return}}var b=e.current;for(yo=b;null!==yo;){var w=(s=yo).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,yo=w;else e:for(s=b;null!==yo;){if(0!==(2048&(l=yo).flags))try{switch(l.tag){case 0:case 11:case 15:xo(9,l)}}catch(E){Xa(l,l.return,E)}if(l===s){yo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,yo=x;break e}yo=l.return}}if(na=i,Jt(),Gt&&"function"===typeof Gt.onPostCommitFiberRoot)try{Gt.onPostCommitFiberRoot(Vt,e)}catch(E){}r=!0}return r}finally{Tt=n,ta.transition=t}}return!1}function Ja(e,t,n){e=er(e,t=Ai(0,t=ki(n,t),1),1),t=Pa(),null!==e&&(Dt(e,1,t),Ra(e,t))}function Xa(e,t,n){if(3===e.tag)Ja(e,e,n);else for(;null!==t;){if(3===t.tag){Ja(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ea||!Ea.has(r))){t=er(t,e=Oi(t,e=ki(n,e),1),1),e=Pa(),null!==t&&(Dt(t,1,e),Ra(t,e));break}}t=t.return}}function es(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Pa(),e.pingedLanes|=e.suspendedLanes&n,ra===e&&(oa&n)===n&&(4===la||3===la&&(130023424&oa)===oa&&500>Ut()-ga?za(e,0):ha|=n),Ra(e,t)}function ts(e,t){0===t&&(0===(1&e.mode)?t=1:(t=St,0===(130023424&(St<<=1))&&(St=4194304)));var n=Pa();null!==(e=Zn(e,t))&&(Dt(e,t,n),Ra(e,n))}function ns(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ts(e,n)}function rs(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),ts(e,n)}function is(e,t){return Ft(e,t)}function os(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function as(e,t,n,r){return new os(e,t,n,r)}function ss(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ls(e,t){var n=e.alternate;return null===n?((n=as(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cs(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)ss(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case u:return us(n.children,i,o,t);case d:s=8,i|=8;break;case h:return(e=as(12,n,t,2|i)).elementType=h,e.lanes=o,e;case y:return(e=as(13,n,t,i)).elementType=y,e.lanes=o,e;case m:return(e=as(19,n,t,i)).elementType=m,e.lanes=o,e;case w:return ds(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case f:s=10;break e;case p:s=9;break e;case g:s=11;break e;case v:s=14;break e;case b:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=as(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function us(e,t,n,r){return(e=as(7,e,r,t)).lanes=n,e}function ds(e,t,n,r){return(e=as(22,e,r,t)).elementType=w,e.lanes=n,e.stateNode={isHidden:!1},e}function hs(e,t,n){return(e=as(6,e,null,t)).lanes=n,e}function fs(e,t,n){return(t=as(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ps(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=G,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jt(0),this.expirationTimes=jt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jt(0),this.identifierPrefix=r,this.onRecoverableError=i,Q&&(this.mutableSourceEagerHydrationData=null)}function gs(e,t,n,r,i,o,a,s,l){return e=new ps(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=as(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$n(o),e}function ys(e){if(!e)return ut;e:{if(S(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(gt(n))return vt(e,n,t)}return t}function ms(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return null===(e=O(t))?null:e.stateNode}function vs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function bs(e,t){vs(e,t),(e=e.alternate)&&vs(e,t)}function ws(e){return null===(e=O(e))?null:e.stateNode}function xs(){return null}return ba=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ht.current)Ri=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Ri=!1,function(e,t,n){switch(t.tag){case 3:qi(t),Sn();break;case 5:hr(t);break;case 1:gt(t.type)&&bt(t);break;case 4:ur(t,t.stateNode.containerInfo);break;case 10:zn(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ct(pr,1&pr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?$i(e,t,n):(ct(pr,1&pr.current),null!==(e=io(e,t,n))?e.sibling:null);ct(pr,1&pr.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return no(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),ct(pr,pr.current),r)break;return null;case 22:case 23:return t.lanes=0,Bi(e,t,n)}return io(e,t,n)}(e,t,n);Ri=0!==(131072&e.flags)}else Ri=!1,gn&&0!==(1048576&t.flags)&&un(t,nn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ro(e,t),e=t.pendingProps;var i=pt(t,dt.current);Kn(t,n),i=Pr(null,t,r,e,i,n);var o=jr();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(r)?(o=!0,bt(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,$n(t),i.updater=vi,t.stateNode=i,i._reactInternals=t,Ei(t,r,e,n),t=Hi(null,t,r,!0,o,n)):(t.tag=0,gn&&o&&dn(t),Ti(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ro(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return ss(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===g)return 11;if(e===v)return 14}return 2}(r),e=yi(r,e),i){case 0:t=Ui(null,t,r,e,n);break e;case 1:t=zi(null,t,r,e,n);break e;case 11:t=Ii(null,t,r,e,n);break e;case 14:t=Fi(null,t,r,yi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ui(e,t,r,i=t.elementType===r?i:yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,zi(e,t,r,i=t.elementType===r?i:yi(r,i),n);case 3:e:{if(qi(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Jn(e,t),rr(t,r,null,n);var s=t.memoizedState;if(r=s.element,Q&&o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ki(e,t,r,n,i=ki(Error(a(423)),t));break e}if(r!==i){t=Ki(e,t,r,n,i=ki(Error(a(424)),t));break e}for(Q&&(pn=He(t.stateNode.containerInfo),fn=t,gn=!0,mn=null,yn=!1),n=In(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Sn(),r===i){t=io(e,t,n);break e}Ti(e,t,r,n)}t=t.child}return t;case 5:return hr(t),null===e&&xn(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,H(r,i)?s=null:null!==o&&H(r,o)&&(t.flags|=32),Mi(e,t),Ti(e,t,s,n),t.child;case 6:return null===e&&xn(t),null;case 13:return $i(e,t,n);case 4:return ur(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Tn(t,null,r,n):Ti(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ii(e,t,r,i=t.elementType===r?i:yi(r,i),n);case 7:return Ti(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ti(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,zn(0,r,s=i.value),null!==o)if(Wt(o.value,s)){if(o.children===i.children&&!ht.current){t=io(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Xn(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),qn(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),qn(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}Ti(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Kn(t,n),r=r(i=Vn(i)),t.flags|=1,Ti(e,t,r,n),t.child;case 14:return i=yi(r=t.type,t.pendingProps),Fi(e,t,r,i=yi(r.type,i),n);case 15:return Li(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yi(r,i),ro(e,t),t.tag=1,gt(r)?(e=!0,bt(t)):e=!1,Kn(t,n),wi(t,r,i),Ei(t,r,i,n),Hi(null,t,r,!0,e,n);case 19:return no(e,t,n);case 22:return Bi(e,t,n)}throw Error(a(156,t.tag))},t.attemptContinuousHydration=function(e){if(13===e.tag){var t=Zn(e,134217728);if(null!==t)Da(t,e,134217728,Pa());bs(e,134217728)}},t.attemptDiscreteHydration=function(e){if(13===e.tag){var t=Zn(e,1);if(null!==t)Da(t,e,1,Pa());bs(e,1)}},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=ja(e),n=Zn(e,t);if(null!==n)Da(n,e,t,Pa());bs(e,t)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ct(t.pendingLanes);0!==n&&(Rt(t,1|n),Ra(t,Ut()),0===(6&na)&&(va(),Jt()))}break;case 13:Ma((function(){var t=Zn(e,1);if(null!==t){var n=Pa();Da(t,e,1,n)}})),bs(e,1)}},t.batchedUpdates=function(e,t){var n=na;na|=1;try{return e(t)}finally{0===(na=n)&&(va(),Zt&&Jt())}},t.createComponentSelector=function(e){return{$$typeof:zo,value:e}},t.createContainer=function(e,t,n,r,i,o,a){return gs(e,t,!1,null,0,r,0,o,a)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Ho,value:e}},t.createHydrationContainer=function(e,t,n,r,i,o,a,s,l){return(e=gs(n,r,!0,e,0,o,0,s,l)).context=ys(null),n=e.current,(o=Xn(r=Pa(),i=ja(n))).callback=void 0!==t&&null!==t?t:null,er(n,o,i),e.current.lanes=i,Dt(e,i,r),Ra(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:c,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:qo,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Ko,value:e}},t.createTextSelector=function(e){return{$$typeof:Vo,value:e}},t.deferredUpdates=function(e){var t=Tt,n=ta.transition;try{return ta.transition=null,Tt=16,e()}finally{Tt=t,ta.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var o=Tt,a=ta.transition;try{return ta.transition=null,Tt=1,e(t,n,r,i)}finally{Tt=o,ta.transition=a,0===na&&va()}},t.findAllNodes=$o,t.findBoundingRects=function(e,t){if(!re)throw Error(a(363));t=$o(e,t),e=[];for(var n=0;n<t.length;n++)e.push(oe(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,o=n.y,s=o+n.height,l=t-1;0<=l;l--)if(t!==l){var c=e[l],u=c.x,d=u+c.width,h=c.y,f=h+c.height;if(r>=u&&o>=h&&i<=d&&s<=f){e.splice(t,1);break}if(!(r!==u||n.width!==c.width||f<o||h>s)){h>o&&(c.height+=h-o,c.y=o),f<s&&(c.height=s-h),e.splice(t,1);break}if(!(o!==h||n.height!==c.height||d<r||u>i)){u>r&&(c.width+=u-r,c.x=r),d<i&&(c.width=i-u),e.splice(t,1);break}}return e},t.findHostInstance=ms,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=A(e))?P(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return ms(e)},t.flushControlled=function(e){var t=na;na|=1;var n=ta.transition,r=Tt;try{ta.transition=null,Tt=1,e()}finally{Tt=r,ta.transition=n,0===(na=t)&&(va(),Jt())}},t.flushPassiveEffects=$a,t.flushSync=Ma,t.focusWithin=function(e,t){if(!re)throw Error(a(363));for(t=Qo(e=Wo(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&ce(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Tt},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(a(363));var n=0,r=[];e=[Wo(e),0];for(var i=0;i<e.length;){var o=e[i++],s=e[i++],l=t[s];if((5!==o.tag||!se(o))&&(Yo(o,l)&&(r.push(Zo(l)),++s>n&&(n=s)),s<t.length))for(o=o.child;null!==o;)e.push(o,s),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Zo(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?R(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:ws,findFiberByHostInstance:e.findFiberByHostInstance||xs,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Vt=t.inject(e),Gt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(a(363));e=$o(e,t);var i=ue(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Tt;try{return Tt=e,t()}finally{Tt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,o=Pa(),a=ja(i);return n=ys(n),null===t.context?t.context=n:t.pendingContext=n,(t=Xn(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=er(i,t,a))&&(Da(e,i,a,o),tr(e,i,a)),a},t}},3878:(e,t,n)=>{"use strict";e.exports=n(1153)},9235:(e,t,n)=>{"use strict";e.exports=n(8473)},2654:(e,t,n)=>{"use strict";var r=n(9950),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},2049:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var w=b.prototype=new v;w.constructor=b,g(w,m.prototype),w.isPureReactComponent=!0;var x=Array.isArray,E=Object.prototype.hasOwnProperty,k={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!_.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+O(l,0):o,x(a)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+O(s=e[c],c);l+=N(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=N(s=s.value,t,i,u=o+O(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},T={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.act=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},9950:(e,t,n)=>{"use strict";e.exports=n(2049)},4414:(e,t,n)=>{"use strict";e.exports=n(2654)},9138:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,i=n(8437),o=(r=i)&&r.__esModule?r:{default:r},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},l=t.autoprefix=function(e){var t={};return(0,o.default)(e,(function(e,n){var r={};(0,o.default)(e,(function(e,t){var n=s[t];n?r=a({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=l},6054:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(9950),a=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return o=l=s(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(u))),l.state={active:!1},l.handleMouseDown=function(){return l.setState({active:!0})},l.handleMouseUp=function(){return l.setState({active:!1})},l.render=function(){return a.default.createElement(t,{onMouseDown:l.handleMouseDown,onMouseUp:l.handleMouseUp},a.default.createElement(e,i({},l.props,l.state)))},s(l,o)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r}(a.default.Component)};t.default=l},7208:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(9950),a=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return o=l=s(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(u))),l.state={hover:!1},l.handleMouseOver=function(){return l.setState({hover:!0})},l.handleMouseOut=function(){return l.setState({hover:!1})},l.render=function(){return a.default.createElement(t,{onMouseOver:l.handleMouseOver,onMouseOut:l.handleMouseOut},a.default.createElement(e,i({},l.props,l.state)))},s(l,o)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r}(a.default.Component)};t.default=l},9059:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=s(n(6801)),i=s(n(8437)),o=s(n(5461)),a=s(n(5876));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,a.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,o.default)(t)?(0,i.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=l},5617:(e,t,n)=>{"use strict";t.H8=void 0;var r=c(n(9059)),i=c(n(109)),o=c(n(9138)),a=c(n(7208)),s=c(n(6054)),l=c(n(8759));function c(e){return e&&e.__esModule?e:{default:e}}a.default,t.H8=a.default,s.default,l.default;var u=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var s=(0,r.default)(n),l=(0,i.default)(e,s);return(0,o.default)(l)};t.Ay=u},8759:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2===0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},109:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=a(n(8437)),i=a(n(5117)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,i.default)(e.default)||{};return t.map((function(t){var i=e[t];return i&&(0,r.default)(i,(function(e,t){n[t]||(n[t]={}),n[t]=o({},n[t],i[t])})),t})),n};t.default=s},1761:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(y=!1,w(e),!g)if(null!==r(c))g=!0,R(E);else{var t=r(u);null!==t&&T(x,t.startTime-e)}}function E(e,n){g=!1,y&&(y=!1,v(C),C=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&T(x,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,_=!1,S=null,C=-1,A=5,O=-1;function N(){return!(t.unstable_now()-O<A)}function P(){if(null!==S){var e=t.unstable_now();O=e;var n=!0;try{n=S(!0,e)}finally{n?k():(_=!1,S=null)}}else _=!1}if("function"===typeof b)k=function(){b(P)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,D=j.port2;j.port1.onmessage=P,k=function(){D.postMessage(null)}}else k=function(){m(P,0)};function R(e){S=e,_||(_=!0,k())}function T(e,n){C=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(y?(v(C),C=-1):y=!0,T(x,o-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,R(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5340:(e,t,n)=>{"use strict";e.exports=n(1761)},7468:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;var i=n(9591),o=n(4082),a=n(393);function s(e,t,n,r,i,o){var a=this.events[e];if(a){if(0===a.length)return!1;if(a.argsNum<6)a.call(t,n,r,i,o);else{for(var s=new Array(a.argsNum),l=0,c=s.length;l<c;++l)s[l]=arguments[l+1];a.call.apply(void 0,s)}return!0}return!1}function l(e,t,n,r,i,o){var a,s=this.events[e];if(void 0!==s){if(0===s.length)return!1;if(s.argsNum<6)s.call(t,n,r,i,o);else{for(var l=0,c=(a=new Array(s.argsNum)).length;l<c;++l)a[l]=arguments[l+1];s.call.apply(void 0,a)}}var u=this.onceEvents[e];if(u){if("function"===typeof u)if(this.onceEvents[e]=void 0,arguments.length<6)u(t,n,r,i,o);else{if(void 0===a)for(l=0,c=(a=new Array(arguments.length-1)).length;l<c;++l)a[l]=arguments[l+1];u.apply(void 0,a)}else{var d=u;if(this.onceEvents[e]=void 0,arguments.length<6)for(l=0;l<d.length;++l)d[l](t,n,r,i,o);else{if(void 0===a)for(l=0,c=(a=new Array(arguments.length-1)).length;l<c;++l)a[l]=arguments[l+1];for(l=0;l<d.length;++l)d[l].apply(void 0,a)}}return!0}return void 0!==s}var c=function(){function e(){this.events=(0,a.nullObj)(),this.onceEvents=(0,a.nullObj)(),this._symbolKeys=new Set,this.maxListeners=1/0}return Object.defineProperty(e.prototype,"_eventsCount",{get:function(){return this.eventNames().length},enumerable:!1,configurable:!0}),e}();function u(e,t,n){if(void 0===n&&(n=t.length),"function"!==typeof t)throw new TypeError("The listener must be a function");var r=this.events[e];return r?(r.push(t),r.growArgsNum(n),this.maxListeners!==1/0&&this.maxListeners<=r.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" event!'))):(this.events[e]=new i.TaskCollection(n,!0,t,!1),"symbol"===typeof e&&this._symbolKeys.add(e)),this}function d(e,t){var n=this.events[e];n&&n.removeLast(t);var r=this.onceEvents[e];return r&&("function"===typeof r?this.onceEvents[e]=void 0:"object"===typeof r&&(1===r.length&&r[0]===t?this.onceEvents[e]=void 0:(0,o._fast_remove_single)(r,r.lastIndexOf(t)))),this}t.EventEmitter=c,c.prototype.emit=s,c.prototype.on=u,c.prototype.once=function(e,t){switch(this.emit===s&&(this.emit=l),typeof this.onceEvents[e]){case"undefined":this.onceEvents[e]=t,"symbol"===typeof e&&this._symbolKeys.add(e);break;case"function":this.onceEvents[e]=[this.onceEvents[e],t];break;case"object":this.onceEvents[e].push(t)}return this},c.prototype.addListener=u,c.prototype.removeListener=d,c.prototype.addListenerBound=function(e,t,n,r){void 0===n&&(n=this),void 0===r&&(r=t.length),this.boundFuncs||(this.boundFuncs=new Map);var i=t.bind(n);return this.boundFuncs.set(t,i),this.addListener(e,i,r)},c.prototype.removeListenerBound=function(e,t){var n,r,i=null===(n=this.boundFuncs)||void 0===n?void 0:n.get(t);return null===(r=this.boundFuncs)||void 0===r||r.delete(t),this.removeListener(e,i)},c.prototype.hasListeners=function(e){return this.events[e]&&!!this.events[e].length},c.prototype.prependListener=function(e,t,n){if(void 0===n&&(n=t.length),"function"!==typeof t)throw new TypeError("The listener must be a function");var r=this.events[e];return r&&r instanceof i.TaskCollection?(r.insert(0,t),r.growArgsNum(n),this.maxListeners!==1/0&&this.maxListeners<=r.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" event!'))):(r=this.events[e]=new i.TaskCollection(n,!0,t,!1),"symbol"===typeof e&&this._symbolKeys.add(e)),this},c.prototype.prependOnceListener=function(e,t){this.emit===s&&(this.emit=l);var n=this.onceEvents[e];return n?"object"!==typeof n?(this.onceEvents[e]=[t,n],"symbol"===typeof e&&this._symbolKeys.add(e)):(n.unshift(t),this.maxListeners!==1/0&&this.maxListeners<=n.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" once event!'))):(this.onceEvents[e]=[t],"symbol"===typeof e&&this._symbolKeys.add(e)),this},c.prototype.off=d,c.prototype.removeAllListeners=function(e){return void 0===e?(this.events=(0,a.nullObj)(),this.onceEvents=(0,a.nullObj)(),this._symbolKeys=new Set):(this.events[e]=void 0,this.onceEvents[e]=void 0,"symbol"===typeof e&&this._symbolKeys.delete(e)),this},c.prototype.setMaxListeners=function(e){return this.maxListeners=e,this},c.prototype.getMaxListeners=function(){return this.maxListeners},c.prototype.listeners=function(e){return this.emit===s?this.events[e]?this.events[e].tasksAsArray().slice():[]:this.events[e]&&this.onceEvents[e]?r(r([],this.events[e].tasksAsArray(),!0),"function"===typeof this.onceEvents[e]?[this.onceEvents[e]]:this.onceEvents[e],!0):this.events[e]?this.events[e].tasksAsArray():this.onceEvents[e]?"function"===typeof this.onceEvents[e]?[this.onceEvents[e]]:this.onceEvents[e]:[]},c.prototype.eventNames=function(){var e=this;if(this.emit===s){var t=Object.keys(this.events);return r(r([],t,!0),Array.from(this._symbolKeys),!0).filter((function(t){return t in e.events&&e.events[t]&&e.events[t].length}))}t=Object.keys(this.events).filter((function(t){return e.events[t]&&e.events[t].length}));var n=Object.keys(this.onceEvents).filter((function(t){return e.onceEvents[t]&&e.onceEvents[t].length}));return r(r(r([],t,!0),n,!0),Array.from(this._symbolKeys).filter((function(t){return t in e.events&&e.events[t]&&e.events[t].length||t in e.onceEvents&&e.onceEvents[t]&&e.onceEvents[t].length})),!0)},c.prototype.listenerCount=function(e){return this.emit===s?this.events[e]&&this.events[e].length||0:(this.events[e]&&this.events[e].length||0)+(this.onceEvents[e]&&this.onceEvents[e].length||0)}},3728:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(3141),t),i(n(7468),t)},4487:(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bakeCollectionVariadic=exports.bakeCollectionAwait=exports.bakeCollection=exports.BAKED_EMPTY_FUNC=void 0,exports.BAKED_EMPTY_FUNC=function(){};var FORLOOP_FALLBACK=1500;function generateArgsDefCode(e){var t="";if(0===e)return t;for(var n=0;n<e-1;++n)t+="arg"+String(n)+", ";return t+="arg"+String(e-1)}function generateBodyPartsCode(e,t){for(var n="",r="",i=0;i<t;++i)n+="var f".concat(i," = collection[").concat(i,"];\n"),r+="f".concat(i,"(").concat(e,")\n");return{funcDefCode:n,funcCallCode:r}}function generateBodyPartsVariadicCode(e){for(var t="",n="",r=0;r<e;++r)t+="var f".concat(r," = collection[").concat(r,"];\n"),n+="f".concat(r,".apply(undefined, arguments)\n");return{funcDefCode:t,funcCallCode:n}}function bakeCollection(collection,fixedArgsNum){if(0===collection.length)return exports.BAKED_EMPTY_FUNC;if(1===collection.length)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var argsDefCode=generateArgsDefCode(fixedArgsNum),_a=generateBodyPartsCode(argsDefCode,collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode="(function(collection) {\n            ".concat(funcDefCode,"\n            collection = undefined;\n            return (function(").concat(argsDefCode,") {\n                ").concat(funcCallCode,"\n            });\n        })")}else{var argsDefCode=generateArgsDefCode(fixedArgsNum);funcFactoryCode=collection.length%10===0?"(function(collection) {\n                return (function(".concat(argsDefCode,") {\n                    for (var i = 0; i < collection.length; i += 10) {\n                        collection[i](").concat(argsDefCode,");\n                        collection[i+1](").concat(argsDefCode,");\n                        collection[i+2](").concat(argsDefCode,");\n                        collection[i+3](").concat(argsDefCode,");\n                        collection[i+4](").concat(argsDefCode,");\n                        collection[i+5](").concat(argsDefCode,");\n                        collection[i+6](").concat(argsDefCode,");\n                        collection[i+7](").concat(argsDefCode,");\n                        collection[i+8](").concat(argsDefCode,");\n                        collection[i+9](").concat(argsDefCode,");\n                    }\n                });\n            })"):collection.length%4===0?"(function(collection) {\n                return (function(".concat(argsDefCode,") {\n                    for (var i = 0; i < collection.length; i += 4) {\n                        collection[i](").concat(argsDefCode,");\n                        collection[i+1](").concat(argsDefCode,");\n                        collection[i+2](").concat(argsDefCode,");\n                        collection[i+3](").concat(argsDefCode,");\n                    }\n                });\n            })"):collection.length%3===0?"(function(collection) {\n                return (function(".concat(argsDefCode,") {\n                    for (var i = 0; i < collection.length; i += 3) {\n                        collection[i](").concat(argsDefCode,");\n                        collection[i+1](").concat(argsDefCode,");\n                        collection[i+2](").concat(argsDefCode,");\n                    }\n                });\n            })"):"(function(collection) {\n                return (function(".concat(argsDefCode,") {\n                    for (var i = 0; i < collection.length; ++i) {\n                        collection[i](").concat(argsDefCode,");\n                    }\n                });\n            })")}var bakeCollection_1=void 0,fixedArgsNum_1=void 0,bakeCollectionVariadic_1=void 0,bakeCollectionAwait_1=void 0,funcFactory=eval(funcFactoryCode);return funcFactory(collection)}function bakeCollectionAwait(collection,fixedArgsNum){if(0===collection.length)return exports.BAKED_EMPTY_FUNC;if(1===collection.length)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var argsDefCode=generateArgsDefCode(fixedArgsNum),_a=generateBodyPartsCode(argsDefCode,collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode="(function(collection) {\n            ".concat(funcDefCode,"\n            collection = undefined;\n            return (function(").concat(argsDefCode,") {\n                return Promise.all([ ").concat(funcCallCode," ]);\n            });\n        })")}else{var argsDefCode=generateArgsDefCode(fixedArgsNum);funcFactoryCode="(function(collection) {\n            return (function(".concat(argsDefCode,") {\n                var promises = Array(collection.length);\n                for (var i = 0; i < collection.length; ++i) {\n                    promises[i] = collection[i](").concat(argsDefCode,");\n                }\n                return Promise.all(promises);\n            });\n        })")}var bakeCollection_2=void 0,fixedArgsNum_2=void 0,bakeCollectionVariadic_2=void 0,bakeCollectionAwait_2=void 0,funcFactory=eval(funcFactoryCode);return funcFactory(collection)}function bakeCollectionVariadic(collection){if(0===collection.length)return exports.BAKED_EMPTY_FUNC;if(1===collection.length)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var _a=generateBodyPartsVariadicCode(collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode="(function(collection) {\n            ".concat(funcDefCode,"\n            collection = undefined;\n            return (function() {\n                ").concat(funcCallCode,"\n            });\n        })")}else funcFactoryCode="(function(collection) {\n            return (function() {\n                for (var i = 0; i < collection.length; ++i) {\n                    collection[i].apply(undefined, arguments);\n                }\n            });\n        })";var bakeCollection_3=void 0,fixedArgsNum=void 0,bakeCollectionVariadic_3=void 0,bakeCollectionAwait_3=void 0,funcFactory=eval(funcFactoryCode);return funcFactory(collection)}exports.bakeCollection=bakeCollection,exports.bakeCollectionAwait=bakeCollectionAwait,exports.bakeCollectionVariadic=bakeCollectionVariadic},9591:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(7679),t)},7679:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.TaskCollection=void 0;var i=n(4082),o=n(4487);function a(e,t){var n,r=this.length;if(r>1)t?((n=this._tasks).push.apply(n,arguments),this.length+=arguments.length):(this._tasks.push(e),this.length++);else if(t){var i;if(1===r)(i=Array(1+arguments.length)).push(i),i.push.apply(i,arguments),this._tasks=i;else(i=Array(arguments.length)).push.apply(i,arguments),this._tasks=i;this.length+=arguments.length}else this._tasks=1===r?[this._tasks,e]:e,this.length++}function s(e,t){var n,r=this.length;if(r>1)t?((n=this._tasks).push.apply(n,arguments),this.length+=arguments.length):(this._tasks.push(e),this.length++);else if(t){var i;if(1===r)(i=Array(1+arguments.length)).push(i),i.push.apply(i,arguments),this._tasks=i;else(i=Array(arguments.length)).push.apply(i,arguments),this._tasks=i;this.length+=arguments.length}else this._tasks=1===r?[this._tasks,e]:e,this.length++;this.firstEmitBuildStrategy?this.call=p:this.rebuild()}function l(e){0!==this.length&&(1===this.length?this._tasks===e&&(this.length=0):((0,i._fast_remove_single)(this._tasks,this._tasks.lastIndexOf(e)),1===this._tasks.length?(this._tasks=this._tasks[0],this.length=1):this.length=this._tasks.length))}function c(e){if(0!==this.length){if(1===this.length)return this._tasks===e&&(this.length=0),this.firstEmitBuildStrategy?void(this.call=o.BAKED_EMPTY_FUNC):void this.rebuild();(0,i._fast_remove_single)(this._tasks,this._tasks.lastIndexOf(e)),1===this._tasks.length?(this._tasks=this._tasks[0],this.length=1):this.length=this._tasks.length,this.firstEmitBuildStrategy?this.call=p:this.rebuild()}}function u(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];0===this.length?(this._tasks=n,this.length=1):1===this.length?(n.unshift(this._tasks),this._tasks=n,this.length=this._tasks.length):((t=this._tasks).splice.apply(t,r([e,0],n,!1)),this.length=this._tasks.length)}function d(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];0===this.length?(this._tasks=n,this.length=1):1===this.length?(n.unshift(this._tasks),this._tasks=n,this.length=this._tasks.length):((t=this._tasks).splice.apply(t,r([e,0],n,!1)),this.length=this._tasks.length),this.firstEmitBuildStrategy?this.call=p:this.rebuild()}function h(){0===this.length?this.call=o.BAKED_EMPTY_FUNC:1===this.length?this.call=this._tasks:this.call=(0,o.bakeCollection)(this._tasks,this.argsNum)}function f(){0===this.length?this.call=o.BAKED_EMPTY_FUNC:1===this.length?this.call=this._tasks:this.call=(0,o.bakeCollectionAwait)(this._tasks,this.argsNum)}function p(){this.rebuild(),this.call.apply(void 0,arguments)}var g=function(e,t,n,r){void 0===t&&(t=!0),void 0===n&&(n=null),void 0===r&&(r=!1),this.awaitTasks=r,this.call=o.BAKED_EMPTY_FUNC,this.argsNum=e,this.firstEmitBuildStrategy=!0,this.rebuild=r?f.bind(this):h.bind(this),this.setAutoRebuild(t),n?"function"===typeof n?(this._tasks=n,this.length=1):(this._tasks=n,this.length=n.length):(this._tasks=null,this.length=0),t&&this.rebuild()};t.TaskCollection=g,g.prototype.fastClear=function(){this._tasks=null,this.length=0,this.call=o.BAKED_EMPTY_FUNC},g.prototype.clear=function(){this._tasks=null,this.length=0,this.call=o.BAKED_EMPTY_FUNC},g.prototype.growArgsNum=function(e){this.argsNum<e&&(this.argsNum=e,this.firstEmitBuildStrategy?this.call=p:this.rebuild())},g.prototype.setAutoRebuild=function(e){e?(this.push=s.bind(this),this.insert=d.bind(this),this.removeLast=c.bind(this)):(this.push=a.bind(this),this.insert=u.bind(this),this.removeLast=l.bind(this))},g.prototype.tasksAsArray=function(){return 0===this.length?[]:1===this.length?[this._tasks]:this._tasks},g.prototype.setTasks=function(e){0===e.length?(this.length=0,this.call=o.BAKED_EMPTY_FUNC):1===e.length?(this.length=1,this.call=e[0],this._tasks=e[0]):(this.length=e.length,this._tasks=e,this.firstEmitBuildStrategy?this.call=p:this.rebuild())}},4082:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._fast_remove_single=void 0,t._fast_remove_single=function(e,t){-1!==t&&(0===t?e.shift():t===e.length-1?e.length=e.length-1:e.splice(t,1))}},3141:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},393:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nullObj=void 0,t.nullObj=function(){var e={__proto__:null};return e}},4079:(e,t,n)=>{"use strict";var r=n(2897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;const i=n(899);class o{constructor(e){this.lookupTable=new Map,this.head=null,this.tail=null;const{maxSize:t=25,entryExpirationTimeInMS:n=null,onEntryEvicted:r,onEntryMarkedAsMostRecentlyUsed:i,cloneFn:o,clone:a}=null!==e&&void 0!==e?e:{};if(Number.isNaN(t)||t<=0)throw new Error("maxSize must be greater than 0.");if("number"===typeof n&&(n<=0||Number.isNaN(n)))throw new Error("entryExpirationTimeInMS must either be null (no expiry) or greater than 0");this.maxSizeInternal=t,this.entryExpirationTimeInMS=n,this.onEntryEvicted=r,this.onEntryMarkedAsMostRecentlyUsed=i,this.clone=a,this.cloneFn=o}get size(){return this.cleanCache(),this.lookupTable.size}get remainingSize(){return this.maxSizeInternal-this.size}get newest(){return this.head?this.head.isExpired?(this.removeNodeFromListAndLookupTable(this.head),this.newest):this.mapNodeToEntry(this.head):null}get oldest(){return this.tail?this.tail.isExpired?(this.removeNodeFromListAndLookupTable(this.tail),this.oldest):this.mapNodeToEntry(this.tail):null}get maxSize(){return this.maxSizeInternal}set maxSize(e){if(Number.isNaN(e)||e<=0)throw new Error("maxSize must be greater than 0.");this.maxSizeInternal=e,this.enforceSizeLimit()}set(e,t,n){const o=this.lookupTable.get(e);o&&this.removeNodeFromListAndLookupTable(o);const a=new i.LRUCacheNode(e,t,r({entryExpirationTimeInMS:this.entryExpirationTimeInMS,onEntryEvicted:this.onEntryEvicted,onEntryMarkedAsMostRecentlyUsed:this.onEntryMarkedAsMostRecentlyUsed,clone:this.clone,cloneFn:this.cloneFn},n));return this.setNodeAsHead(a),this.lookupTable.set(e,a),this.enforceSizeLimit(),this}get(e){const t=this.lookupTable.get(e);return t?t.isExpired?(this.removeNodeFromListAndLookupTable(t),null):(this.setNodeAsHead(t),t.value):null}peek(e){const t=this.lookupTable.get(e);return t?t.isExpired?(this.removeNodeFromListAndLookupTable(t),null):t.value:null}delete(e){const t=this.lookupTable.get(e);return!!t&&this.removeNodeFromListAndLookupTable(t)}has(e){const t=this.lookupTable.get(e);return!!t&&(!t.isExpired||(this.removeNodeFromListAndLookupTable(t),!1))}clear(){this.head=null,this.tail=null,this.lookupTable.clear()}find(e){let t=this.head;for(;t;){if(t.isExpired){const e=t.next;this.removeNodeFromListAndLookupTable(t),t=e;continue}const n=this.mapNodeToEntry(t);if(e(n))return this.setNodeAsHead(t),n;t=t.next}return null}forEach(e){let t=this.head,n=0;for(;t;)if(t.isExpired){const e=t.next;this.removeNodeFromListAndLookupTable(t),t=e}else e(t.value,t.key,n),t=t.next,n++}*values(){let e=this.head;for(;e;)if(e.isExpired){const t=e.next;this.removeNodeFromListAndLookupTable(e),e=t}else yield e.value,e=e.next}*keys(){let e=this.head;for(;e;)if(e.isExpired){const t=e.next;this.removeNodeFromListAndLookupTable(e),e=t}else yield e.key,e=e.next}*entries(){let e=this.head;for(;e;)if(e.isExpired){const t=e.next;this.removeNodeFromListAndLookupTable(e),e=t}else yield this.mapNodeToEntry(e),e=e.next}*[Symbol.iterator](){let e=this.head;for(;e;)if(e.isExpired){const t=e.next;this.removeNodeFromListAndLookupTable(e),e=t}else yield this.mapNodeToEntry(e),e=e.next}enforceSizeLimit(){let e=this.tail;for(;null!==e&&this.size>this.maxSizeInternal;){const t=e.prev;this.removeNodeFromListAndLookupTable(e),e=t}}mapNodeToEntry(e){let{key:t,value:n}=e;return{key:t,value:n}}setNodeAsHead(e){this.removeNodeFromList(e),this.head?(e.next=this.head,this.head.prev=e,this.head=e):(this.head=e,this.tail=e),e.invokeOnEntryMarkedAsMostRecentlyUsed()}removeNodeFromList(e){null!==e.prev&&(e.prev.next=e.next),null!==e.next&&(e.next.prev=e.prev),this.head===e&&(this.head=e.next),this.tail===e&&(this.tail=e.prev),e.next=null,e.prev=null}removeNodeFromListAndLookupTable(e){return e.invokeOnEvicted(),this.removeNodeFromList(e),this.lookupTable.delete(e.key)}cleanCache(){if(!this.entryExpirationTimeInMS)return;const e=[];for(const t of this.lookupTable.values())t.isExpired&&e.push(t);e.forEach((e=>this.removeNodeFromListAndLookupTable(e)))}}t.LRUCache=o},899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCacheNode=void 0;t.LRUCacheNode=class{constructor(e,t,n){const{entryExpirationTimeInMS:r=null,next:i=null,prev:o=null,onEntryEvicted:a,onEntryMarkedAsMostRecentlyUsed:s,clone:l,cloneFn:c}=null!==n&&void 0!==n?n:{};if("number"===typeof r&&(r<=0||Number.isNaN(r)))throw new Error("entryExpirationTimeInMS must either be null (no expiry) or greater than 0");this.clone=null!==l&&void 0!==l&&l,this.cloneFn=null!==c&&void 0!==c?c:this.defaultClone,this.key=e,this.internalValue=this.clone?this.cloneFn(t):t,this.created=Date.now(),this.entryExpirationTimeInMS=r,this.next=i,this.prev=o,this.onEntryEvicted=a,this.onEntryMarkedAsMostRecentlyUsed=s}get value(){return this.clone?this.cloneFn(this.internalValue):this.internalValue}get isExpired(){return"number"===typeof this.entryExpirationTimeInMS&&Date.now()-this.created>this.entryExpirationTimeInMS}invokeOnEvicted(){if(this.onEntryEvicted){const{key:e,value:t,isExpired:n}=this;this.onEntryEvicted({key:e,value:t,isExpired:n})}}invokeOnEntryMarkedAsMostRecentlyUsed(){if(this.onEntryMarkedAsMostRecentlyUsed){const{key:e,value:t}=this;this.onEntryMarkedAsMostRecentlyUsed({key:e,value:t})}}defaultClone(e){return"boolean"===typeof e||"string"===typeof e||"number"===typeof e?e:JSON.parse(JSON.stringify(e))}}},9968:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(4079),t)},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},2897:(e,t,n)=>{var r=n(3693);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},1847:(e,t,n)=>{var r=n(4893);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7736:(e,t,n)=>{var r=n(3738).default,i=n(9045);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var i=Object.create(null);__webpack_require__.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,__webpack_require__.d(i,o),i}})(),__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),__webpack_require__.p="/";var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{OG:()=>te,My:()=>G,Ph:()=>Z,lX:()=>Q,Id:()=>ee,fg:()=>ie,qj:()=>X,aT:()=>Y,lq:()=>$,z:()=>J,Q5:()=>ae});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{OG:()=>Ai,My:()=>vi,Ph:()=>xi,lX:()=>Ei,Id:()=>Ci,fg:()=>Pi,qj:()=>Si,aT:()=>wi,lq:()=>ki,z:()=>_i,Q5:()=>Di});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{OG:()=>Hl,My:()=>Rl,Ph:()=>Fl,lX:()=>Ll,Id:()=>zl,fg:()=>Vl,qj:()=>Ul,aT:()=>Il,lq:()=>Bl,z:()=>Ml,Q5:()=>Wl});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{aK:()=>sm,e8:()=>Vy,DO:()=>Ky,dJ:()=>lm,OG:()=>cm,My:()=>Wy,Ph:()=>Xy,lX:()=>em,Id:()=>im,fg:()=>hm,qj:()=>rm,aT:()=>Jy,r4:()=>am,aY:()=>qy,x:()=>gm,lq:()=>tm,z:()=>nm,zW:()=>Yy,Q5:()=>pm});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{OG:()=>Ix,My:()=>Cx,Ph:()=>Nx,lX:()=>Px,Id:()=>Tx,fg:()=>Bx,qj:()=>Rx,aT:()=>Ox,lq:()=>jx,z:()=>Dx,Q5:()=>Ux});var o={};__webpack_require__.r(o),__webpack_require__.d(o,{appendChild:()=>ZM,appendChildToContainer:()=>QM,appendInitialChild:()=>NM,cancelTimeout:()=>qM,clearContainer:()=>lU,commitMount:()=>nU,commitTextUpdate:()=>tU,commitUpdate:()=>rU,createInstance:()=>PM,createTextInstance:()=>jM,detachDeletedInstance:()=>cU,finalizeInitialChildren:()=>DM,getChildHostContext:()=>zM,getCurrentEventPriority:()=>uU,getPublicInstance:()=>RM,getRootHostContext:()=>UM,hideInstance:()=>iU,hideTextInstance:()=>oU,idlePriority:()=>CM.unstable_IdlePriority,insertBefore:()=>$M,insertInContainerBefore:()=>JM,isPrimaryRenderer:()=>GM,noTimeout:()=>KM,now:()=>CM.unstable_now,prepareForCommit:()=>TM,preparePortalMount:()=>IM,prepareUpdate:()=>FM,removeChild:()=>XM,removeChildFromContainer:()=>eU,resetAfterCommit:()=>LM,resetTextContent:()=>BM,run:()=>CM.unstable_runWithPriority,scheduleTimeout:()=>HM,shouldDeprioritizeSubtree:()=>MM,shouldSetTextContent:()=>VM,supportsMutation:()=>YM,unhideInstance:()=>aU,unhideTextInstance:()=>sU,warnsIfNotActing:()=>WM});var a=__webpack_require__(9950),s=__webpack_require__.t(a,2),l=__webpack_require__(1352);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}function d(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){this.v=e,this.k=t}function g(e){return new p(e,0)}function y(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,s=a instanceof p;Promise.resolve(s?a.v:a).then((function(n){if(s){var l="return"===t?"return":"next";if(!a.k||n.done)return r(l,n);n=e[l](n).value}i(o.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function m(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function v(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(n,", not of length=").concat(e.length))}y.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},y.prototype.next=function(e){return this._invoke("next",e)},y.prototype.throw=function(e){return this._invoke("throw",e)},y.prototype.return=function(e){return this._invoke("return",e)};const b={number:m,bool:function(e){if("boolean"!==typeof e)throw new Error("Expected boolean, not ".concat(e))},bytes:v,hash:function(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");m(e.outputLen),m(e.blockLen)},exists:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){v(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}},w=b,x="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,E=e=>e instanceof Uint8Array,k=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),_=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const S=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function C(e){if(!E(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=S[e[n]];return t}function A(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,i=e.slice(t,t+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function O(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}(e)),!E(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}function N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!E(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}class P{clone(){return this._cloneInto()}}function j(e){const t=t=>e().update(O(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(x&&"function"===typeof x.getRandomValues)return x.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class R extends P{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=k(this.buffer)}update(e){w.exists(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=O(e)).length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);if(a!==r)n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=k(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){w.exists(this),w.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let u=o;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,a,r),e.setUint32(t+c,s,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const a=k(e),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=s/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)a.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:a}=this;return e.length=r,e.pos=a,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const T=(e,t,n)=>e&t^~e&n,I=(e,t,n)=>e&t^e&n^t&n,F=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),L=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),B=new Uint32Array(64);class M extends R{constructor(){super(64,32,8,!1),this.A=0|L[0],this.B=0|L[1],this.C=0|L[2],this.D=0|L[3],this.E=0|L[4],this.F=0|L[5],this.G=0|L[6],this.H=0|L[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:a,H:s}=this;return[e,t,n,r,i,o,a,s]}set(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let u=0;u<16;u++,t+=4)B[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=B[u-15],t=B[u-2],n=_(e,7)^_(e,18)^e>>>3,r=_(t,17)^_(t,19)^t>>>10;B[u]=r+B[u-7]+n+B[u-16]|0}let{A:n,B:r,C:i,D:o,E:a,F:s,G:l,H:c}=this;for(let u=0;u<64;u++){const e=c+(_(a,6)^_(a,11)^_(a,25))+T(a,s,l)+F[u]+B[u]|0,t=(_(n,2)^_(n,13)^_(n,22))+I(n,r,i)|0;c=l,l=s,s=a,a=o+e|0,o=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,i,o,a,s,l,c)}roundClean(){B.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class U extends M{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const z=j((()=>new M)),H=(j((()=>new U)),BigInt(0),BigInt(1)),q=BigInt(2),K=e=>e instanceof Uint8Array,V=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function G(e){if(!K(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=V[e[n]];return t}function W(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":"0x".concat(e))}function Y(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,i=e.slice(t,t+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function Z(e){return W(G(e))}function Q(e){if(!K(e))throw new Error("Uint8Array expected");return W(G(Uint8Array.from(e).reverse()))}function $(e,t){return Y(e.toString(16).padStart(2*t,"0"))}function J(e,t){return $(e,t).reverse()}function X(e,t,n){let r;if("string"===typeof t)try{r=Y(t)}catch(oR){throw new Error("".concat(e,' must be valid hex string, got "').concat(t,'". Cause: ').concat(oR))}else{if(!K(t))throw new Error("".concat(e," must be hex string or Uint8Array"));r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error("".concat(e," expected ").concat(n," bytes, got ").concat(i));return r}function ee(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!K(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}const te=e=>(q<<BigInt(e-1))-H,ne=e=>new Uint8Array(e),re=e=>Uint8Array.from(e);function ie(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=ne(e),i=ne(e),o=0;const a=()=>{r.fill(1),i.fill(0),o=0},s=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n(i,r,...t)},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne();i=s(re([0]),e),r=s(),0!==e.length&&(i=s(re([1]),e),r=s())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=s();const t=r.slice();n.push(t),e+=r.length}return ee(...n)};return(e,t)=>{let n;for(a(),l(e);!(n=t(c()));)l();return a(),n}}const oe={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function ae(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=oe[n];if("function"!==typeof i)throw new Error('Invalid validator "'.concat(n,'", expected function'));const o=e[t];if((!r||void 0!==o)&&!i(o,e))throw new Error("Invalid param ".concat(String(t),"=").concat(o," (").concat(typeof o,"), expected ").concat(n))};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}const se=BigInt(0),le=BigInt(1),ce=BigInt(2),ue=BigInt(3),de=BigInt(4),he=BigInt(5),fe=BigInt(8);BigInt(9),BigInt(16);function pe(e,t){const n=e%t;return n>=se?n:t+n}function ge(e,t,n){if(n<=se||t<se)throw new Error("Expected power/modulo > 0");if(n===le)return se;let r=le;for(;t>se;)t&le&&(r=r*e%n),e=e*e%n,t>>=le;return r}function ye(e,t,n){let r=e;for(;t-- >se;)r*=r,r%=n;return r}function me(e,t){if(e===se||t<=se)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));let n=pe(e,t),r=t,i=se,o=le,a=le,s=se;for(;n!==se;){const e=r/n,t=r%n,l=i-a*e,c=o-s*e;r=n,n=t,i=a,o=s,a=l,s=c}if(r!==le)throw new Error("invert: does not exist");return pe(i,t)}function ve(e){if(e%de===ue){const t=(e+le)/de;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%fe===he){const t=(e-he)/fe;return function(e,n){const r=e.mul(n,ce),i=e.pow(r,t),o=e.mul(n,i),a=e.mul(e.mul(o,ce),i),s=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(s),n))throw new Error("Cannot find square root");return s}}return function(e){const t=(e-le)/ce;let n,r,i;for(n=e-le,r=0;n%ce===se;n/=ce,r++);for(i=ce;i<e&&ge(i,t,e)!==e-le;i++);if(1===r){const t=(e+le)/de;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const o=(n+le)/ce;return function(e,a){if(e.pow(a,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let s=r,l=e.pow(e.mul(e.ONE,i),n),c=e.pow(a,o),u=e.pow(a,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(l,le<<BigInt(s-t-1));l=e.sqr(n),c=e.mul(c,n),u=e.mul(u,l),s=t}return c}}(e)}const be=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function we(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}const xe=BigInt(0),Ee=BigInt(1);function ke(e){return function(e){const t=be.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});ae(e,t)}(e.Fp),ae(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(f(f(f({},we(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}const{Ph:_e,aT:Se}=e,Ce={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=Ce;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:_e(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Ce,n="string"===typeof e?Se(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=Ce._parseInt(n.subarray(2)),{d:a,l:s}=Ce._parseInt(o);if(s.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?"0".concat(t):t},r=t(n(e.s)),i=t(n(e.r)),o=r.length/2,a=i.length/2,s=n(o),l=n(a);return"30".concat(n(a+o+4),"02").concat(l).concat(i,"02").concat(s).concat(r)}},Ae=BigInt(0),Oe=BigInt(1),Ne=(BigInt(2),BigInt(3));BigInt(4);function Pe(e){const t=function(e){const t=ke(e);ae(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze(f({},t))}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return ee(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:i}=t,o=n.sqr(e),a=n.mul(o,e);return n.add(n.add(a,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){return"bigint"===typeof e&&Ae<e&&e<t.n}function s(e){if(!a(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:o}=t;if(n&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=G(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let a;try{a="bigint"===typeof e?e:Z(X("private key",e,r))}catch(kU){throw new Error("private key must be ".concat(r," bytes, hex or bigint, not ").concat(typeof e))}return i&&(a=pe(a,o)),s(a),a}const c=new Map;function u(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(i(X("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),a=o(e);if(!n.eql(i,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:r,pz:i}=this,{px:o,py:a,pz:s}=e,l=n.eql(n.mul(t,s),n.mul(o,i)),c=n.eql(n.mul(r,s),n.mul(a,i));return l&&c}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,Ne),{px:o,py:a,pz:s}=this;let l=n.ZERO,c=n.ZERO,u=n.ZERO,h=n.mul(o,o),f=n.mul(a,a),p=n.mul(s,s),g=n.mul(o,a);return g=n.add(g,g),u=n.mul(o,s),u=n.add(u,u),l=n.mul(e,u),c=n.mul(i,p),c=n.add(l,c),l=n.sub(f,c),c=n.add(f,c),c=n.mul(l,c),l=n.mul(g,l),u=n.mul(i,u),p=n.mul(e,p),g=n.sub(h,p),g=n.mul(e,g),g=n.add(g,u),u=n.add(h,h),h=n.add(u,h),h=n.add(h,p),h=n.mul(h,g),c=n.add(c,h),p=n.mul(a,s),p=n.add(p,p),h=n.mul(p,g),l=n.sub(l,h),u=n.mul(p,f),u=n.add(u,u),u=n.add(u,u),new d(l,c,u)}add(e){u(e);const{px:r,py:i,pz:o}=this,{px:a,py:s,pz:l}=e;let c=n.ZERO,h=n.ZERO,f=n.ZERO;const p=t.a,g=n.mul(t.b,Ne);let y=n.mul(r,a),m=n.mul(i,s),v=n.mul(o,l),b=n.add(r,i),w=n.add(a,s);b=n.mul(b,w),w=n.add(y,m),b=n.sub(b,w),w=n.add(r,o);let x=n.add(a,l);return w=n.mul(w,x),x=n.add(y,v),w=n.sub(w,x),x=n.add(i,o),c=n.add(s,l),x=n.mul(x,c),c=n.add(m,v),x=n.sub(x,c),f=n.mul(p,w),c=n.mul(g,v),f=n.add(c,f),c=n.sub(m,f),f=n.add(m,f),h=n.mul(c,f),m=n.add(y,y),m=n.add(m,y),v=n.mul(p,v),w=n.mul(g,w),m=n.add(m,v),v=n.sub(y,v),v=n.mul(p,v),w=n.add(w,v),y=n.mul(m,w),h=n.add(h,y),y=n.mul(x,w),c=n.mul(b,c),c=n.sub(c,y),y=n.mul(b,m),f=n.mul(x,f),f=n.add(f,y),new d(c,h,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return p.wNAFCached(this,c,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}))}multiplyUnsafe(e){const r=d.ZERO;if(e===Ae)return r;if(s(e),e===Oe)return this;const{endo:i}=t;if(!i)return p.unsafeLadder(this,e);let{k1neg:o,k1:a,k2neg:l,k2:c}=i.splitScalar(e),u=r,h=r,f=this;for(;a>Ae||c>Ae;)a&Oe&&(u=u.add(f)),c&Oe&&(h=h.add(f)),f=f.double(),a>>=Oe,c>>=Oe;return o&&(u=u.negate()),l&&(h=h.negate()),h=new d(n.mul(h.px,i.beta),h.py,h.pz),u.add(h)}multiply(e){s(e);let r,i,o=e;const{endo:a}=t;if(a){const{k1neg:e,k1:t,k2neg:s,k2:l}=a.splitScalar(o);let{p:c,f:u}=this.wNAF(t),{p:h,f:f}=this.wNAF(l);c=p.constTimeNegate(e,c),h=p.constTimeNegate(s,h),h=new d(n.mul(h.px,a.beta),h.py,h.pz),r=c.add(h),i=u.add(f)}else{const{p:e,f:t}=this.wNAF(o);r=e,i=t}return d.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=d.BASE,i=(e,t)=>t!==Ae&&t!==Oe&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){const{px:t,py:r,pz:i}=this,o=this.is0();null==e&&(e=o?n.ONE:n.inv(i));const a=n.mul(t,e),s=n.mul(r,e),l=n.mul(i,e);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:a,y:s}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Oe)return!0;if(n)return n(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Oe?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),r(d,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return G(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,p=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>xe;)n&Ee&&(r=r.add(i)),i=i.double(),n>>=Ee;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),o=[];let a=e,s=a;for(let r=0;r<n;r++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(t,i,o){const{windows:a,windowSize:s}=r(t);let l=e.ZERO,c=e.BASE;const u=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<a;e++){const t=e*s;let r=Number(o&u);o>>=h,r>s&&(r-=d,o+=Ee);const a=t,f=t+Math.abs(r)-1,p=e%2!==0,g=r<0;0===r?c=c.add(n(p,i[a])):l=l.add(n(g,i[f]))}return{p:l,f:c}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,r(o))),this.wNAF(i,o,n)}}}(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:a}}function je(e){const t=function(e){const t=ke(e);return ae(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(f({lowS:!0},t))}(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function a(e){return pe(e,r)}function s(e){return me(e,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:d}=Pe(f(f({},t),{},{toBytes(e,t,r){const i=t.toAffine(),o=n.toBytes(i.x),a=ee;return r?a(Uint8Array.from([t.hasEvenY()?2:3]),o):a(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],a=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r){return{x:n.fromBytes(a.subarray(0,n.BYTES)),y:n.fromBytes(a.subarray(n.BYTES,2*n.BYTES))}}throw new Error("Point of length ".concat(t," was invalid. Expected ").concat(i," compressed bytes or ").concat(o," uncompressed bytes"))}{const e=Z(a);if(!function(e){return Ae<e&&e<n.ORDER}(e))throw new Error("Point is not on curve");const t=u(e);let i=n.sqrt(t);return 1===(1&r)!==((i&Oe)===Oe)&&(i=n.neg(i)),{x:e,y:i}}}})),h=e=>G($(e,t.nByteLength));function p(e){return e>r>>Oe}const g=(e,t,n)=>Z(e.slice(t,n));class y{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=X("compactSignature",e,2*n),new y(g(e,0,n),g(e,n,2*n))}static fromDER(e){const{r:t,s:n}=Ce.toSig(X("DER",e));return new y(t,n)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:o}=this,c=w(X("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const u=2===o||3===o?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0===(1&o)?"02":"03",f=l.fromHex(d+h(u)),p=s(u),g=a(-c*p),y=a(i*p),m=l.BASE.multiplyAndAddUnsafe(f,g,y);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Y(this.toDERHex())}toDERHex(){return Ce.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Y(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const m={isValidPrivateKey(e){try{return c(e),!0}catch(kU){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=(e=X("privateHash",e)).length,i=we(t).nByteLength+8;if(i<24||r<i||r>1024)throw new Error("hashToPrivateScalar: expected ".concat(i,"-1024 bytes of input, got ").concat(r));return pe(n?Q(e):Z(e),t-le)+le}(t.randomBytes(n.BYTES+8),r);return $(e,t.nByteLength)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function v(e){const t=e instanceof Uint8Array,n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof l}const b=t.bits2int||function(e){const n=Z(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},w=t.bits2int_modN||function(e){return a(b(e))},x=te(t.nBitLength);function E(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(Ae<=e&&e<x))throw new Error("bigint expected < 2^".concat(t.nBitLength));return $(e,t.nByteLength)}function k(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:u}=t;let{lowS:h,prehash:f,extraEntropy:g}=i;null==h&&(h=!0),e=X("msgHash",e),f&&(e=X("prehashed msgHash",o(e)));const m=w(e),v=c(r),x=[E(v),E(m)];if(null!=g){const e=!0===g?u(n.BYTES):g;x.push(X("extraEntropy",e,n.BYTES))}const k=ee(...x),S=m;return{seed:k,k2sig:function(e){const t=b(e);if(!d(t))return;const n=s(t),r=l.BASE.multiply(t).toAffine(),i=a(r.x);if(i===Ae)return;const o=a(n*a(S+i*v));if(o===Ae)return;let c=(r.x===i?0:2)|Number(r.y&Oe),u=o;return h&&p(o)&&(u=function(e){return p(e)?a(-e):e}(o),c^=1),new y(i,u,c)}}}const _={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(v(e))throw new Error("first arg must be private key");if(!v(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(c(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;const{seed:i,k2sig:o}=k(e,n,r),a=t;return ie(a.hash.outputLen,a.nByteLength,a.hmac)(i,o)},verify:function(e,n,r){var i;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;const c=e;if(n=X("msgHash",n),r=X("publicKey",r),"strict"in o)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:d}=o;let h,f;try{if("string"===typeof c||c instanceof Uint8Array)try{h=y.fromDER(c)}catch(k){if(!(k instanceof Ce.Err))throw k;h=y.fromCompact(c)}else{if("object"!==typeof c||"bigint"!==typeof c.r||"bigint"!==typeof c.s)throw new Error("PARSE");{const{r:e,s:t}=c;h=new y(e,t)}}f=l.fromHex(r)}catch(kU){if("PARSE"===kU.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&h.hasHighS())return!1;d&&(n=t.hash(n));const{r:p,s:g}=h,m=w(n),v=s(g),b=a(m*v),x=a(p*v),E=null===(i=l.BASE.multiplyAndAddUnsafe(f,b,x))||void 0===i?void 0:i.toAffine();return!!E&&a(E.x)===p},ProjectivePoint:l,Signature:y,utils:m}}class De extends P{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,w.hash(e);const n=O(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return w.exists(this),this.iHash.update(e),this}digestInto(e){w.exists(this),w.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Re=(e,t,n)=>new De(e,t).update(n).digest();Re.create=(e,t)=>new De(e,t);const Te=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ie=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Fe=BigInt(1),Le=BigInt(2),Be=(e,t)=>(e+t/Le)/t;function Me(e){const t=Te,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),s=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,d=ye(u,n,t)*u%t,h=ye(d,n,t)*u%t,f=ye(h,Le,t)*c%t,p=ye(f,i,t)*f%t,g=ye(p,o,t)*p%t,y=ye(g,s,t)*g%t,m=ye(y,l,t)*y%t,v=ye(m,s,t)*g%t,b=ye(v,n,t)*u%t,w=ye(b,a,t)*p%t,x=ye(w,r,t)*c%t,E=ye(x,Le,t);if(!Ue.eql(Ue.sqr(E),e))throw new Error("Cannot find square root");return E}const Ue=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=se)throw new Error("Expected Fp ORDER > 0, got ".concat(e));const{nBitLength:i,nByteLength:o}=we(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=ve(e),s=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:te(i),ZERO:se,ONE:le,create:t=>pe(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got ".concat(typeof t));return se<=t&&t<e},is0:e=>e===se,isOdd:e=>(e&le)===le,neg:t=>pe(-t,e),eql:(e,t)=>e===t,sqr:t=>pe(t*t,e),add:(t,n)=>pe(t+n,e),sub:(t,n)=>pe(t-n,e),mul:(t,n)=>pe(t*n,e),pow:(e,t)=>function(e,t,n){if(n<se)throw new Error("Expected power > 0");if(n===se)return e.ONE;if(n===le)return t;let r=e.ONE,i=t;for(;n>se;)n&le&&(r=e.mul(r,i)),i=e.sqr(i),n>>=le;return r}(s,e,t),div:(t,n)=>pe(t*me(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>me(t,e),sqrt:r.sqrt||(e=>a(s,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(s,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?J(e,o):$(e,o),fromBytes:e=>{if(e.length!==o)throw new Error("Fp.fromBytes: expected ".concat(o,", got ").concat(e.length));return n?Q(e):Z(e)}});return Object.freeze(s)}(Te,void 0,void 0,{sqrt:Me}),ze=function(e,t){const n=t=>je(f(f({},e),function(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Re(e,t,N(...r))},randomBytes:D}}(t)));return Object.freeze(f(f({},n(t)),{},{create:n}))}({a:BigInt(0),b:BigInt(7),Fp:Ue,n:Ie,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Ie,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Fe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),s=Be(o*e,t),l=Be(-r*e,t);let c=pe(e-s*n-l*i,t),u=pe(-s*r-l*o,t);const d=c>a,h=u>a;if(d&&(c=t-c),h&&(u=t-u),c>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:c,k2neg:h,k2:u}}}},z),He=BigInt(0),qe=e=>"bigint"===typeof e&&He<e&&e<Te,Ke={};function Ve(e){let t=Ke[e];if(void 0===t){const n=z(Uint8Array.from(e,(e=>e.charCodeAt(0))));t=ee(n,n),Ke[e]=t}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return z(ee(t,...r))}const Ge=e=>e.toRawBytes(!0).slice(1),We=e=>$(e,32),Ye=e=>pe(e,Te),Ze=e=>pe(e,Ie),Qe=ze.ProjectivePoint;function $e(e){let t=ze.utils.normPrivateKeyToScalar(e),n=Qe.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Ze(-t),bytes:Ge(n)}}function Je(e){if(!qe(e))throw new Error("bad x: need 0 < x < p");const t=Ye(e*e);let n=Me(Ye(t*e+BigInt(7)));n%Le!==He&&(n=Ye(-n));const r=new Qe(e,n,Fe);return r.assertValidity(),r}function Xe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ze(Z(Ve("BIP0340/challenge",...t)))}function et(e){return $e(e).bytes}function tt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D(32);const r=X("message",e),{bytes:i,scalar:o}=$e(t),a=X("auxRand",n,32),s=We(o^Z(Ve("BIP0340/aux",a))),l=Ve("BIP0340/nonce",s,i,r),c=Ze(Z(l));if(c===He)throw new Error("sign failed: k is zero");const{bytes:u,scalar:d}=$e(c),h=Xe(u,i,r),f=new Uint8Array(64);if(f.set(u,0),f.set(We(Ze(d+h*o)),32),!nt(f,r,i))throw new Error("sign: Invalid signature produced");return f}function nt(e,t,n){const r=X("signature",e,64),i=X("message",t),o=X("publicKey",n,32);try{const e=Je(Z(o)),t=Z(r.subarray(0,32));if(!qe(t))return!1;const n=Z(r.subarray(32,64));if(!(e=>"bigint"===typeof e&&He<e&&e<Ie)(n))return!1;const a=Xe(We(t),Ge(e),i),s=((e,t,n)=>Qe.BASE.multiplyAndAddUnsafe(e,t,n))(e,n,Ze(-a));return!(!s||!s.hasEvenY()||s.toAffine().x!==t)}catch(kU){return!1}}const rt=(()=>({getPublicKey:et,sign:tt,verify:nt,utils:{randomPrivateKey:ze.utils.randomPrivateKey,lift_x:Je,pointToBytes:Ge,numberToBytesBE:$,bytesToNumberBE:Z,taggedHash:Ve,mod:pe}}))();function it(e){if(!Number.isSafeInteger(e))throw new Error("Wrong integer: ".concat(e))}function ot(){const e=(e,t)=>n=>e(t(n));for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=Array.from(n).reverse().reduce(((t,n)=>t?e(t,n.encode):n.encode),void 0),o=n.reduce(((t,n)=>t?e(t,n.decode):n.decode),void 0);return{encode:i,decode:o}}function at(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!==typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(it(t),t<0||t>=e.length)throw new Error("Digit index outside alphabet: ".concat(t," (alphabet: ").concat(e.length,")"));return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!==typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!==typeof t)throw new Error("alphabet.decode: not string element=".concat(t));const n=e.indexOf(t);if(-1===n)throw new Error('Unknown letter: "'.concat(t,'". Allowed: ').concat(e));return n}))}}}function st(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!==typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!==typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!==typeof e)throw new Error("join.encode: non-string input=".concat(e));return t.join(e)},decode:t=>{if("string"!==typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function lt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"=";if(it(e),"string"!==typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!==typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!==typeof e)throw new Error("padding.encode: non-string input=".concat(e));for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!==typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!==typeof e)throw new Error("padding.decode: non-string input=".concat(e));let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function ct(e){if("function"!==typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function ut(e,t,n){if(t<2)throw new Error("convertRadix: wrong from=".concat(t,", base cannot be less than 2"));if(n<2)throw new Error("convertRadix: wrong to=".concat(n,", base cannot be less than 2"));if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],o=Array.from(e);for(o.forEach((e=>{if(it(e),e<0||e>=t)throw new Error("Wrong integer: ".concat(e))}));;){let e=0,a=!0;for(let i=r;i<o.length;i++){const s=o[i],l=t*e+s;if(!Number.isSafeInteger(l)||t*e/t!==e||l-s!==t*e)throw new Error("convertRadix: carry overflow");if(e=l%n,o[i]=Math.floor(l/n),!Number.isSafeInteger(o[i])||o[i]*n+e!==l)throw new Error("convertRadix: carry overflow");a&&(o[i]?a=!1:r=i)}if(i.push(e),a)break}for(let a=0;a<e.length-1&&0===e[a];a++)i.push(0);return i.reverse()}const dt=(e,t)=>t?dt(t,e%t):e,ht=(e,t)=>e+(t-dt(e,t));function ft(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error("convertRadix2: wrong from=".concat(t));if(n<=0||n>32)throw new Error("convertRadix2: wrong to=".concat(n));if(ht(t,n)>32)throw new Error("convertRadix2: carry overflow from=".concat(t," to=").concat(n," carryBits=").concat(ht(t,n)));let i=0,o=0;const a=2**n-1,s=[];for(const l of e){if(it(l),l>=2**t)throw new Error("convertRadix2: invalid data word=".concat(l," from=").concat(t));if(i=i<<t|l,o+t>32)throw new Error("convertRadix2: carry overflow pos=".concat(o," from=").concat(t));for(o+=t;o>=n;o-=n)s.push((i>>o-n&a)>>>0);i&=2**o-1}if(i=i<<n-o&a,!r&&o>=t)throw new Error("Excess padding");if(!r&&i)throw new Error("Non-zero padding: ".concat(i));return r&&o>0&&s.push(i>>>0),s}function pt(e){return it(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return ut(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!==typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(ut(t,e,256))}}}function gt(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(it(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(ht(8,e)>32||ht(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return ft(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!==typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(ft(n,e,8,t))}}}function yt(e){if("function"!==typeof e)throw new Error("unsafeWrapper fn should be function");return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(null,n)}catch(oR){}}}const mt=ot(gt(4),at("0123456789ABCDEF"),st("")),vt=ot(gt(5),at("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),lt(5),st("")),bt=(ot(gt(5),at("0123456789ABCDEFGHIJKLMNOPQRSTUV"),lt(5),st("")),ot(gt(5),at("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),st(""),ct((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),ot(gt(6),at("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),lt(6),st(""))),wt=ot(gt(6),at("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),lt(6),st("")),xt=e=>ot(pt(58),at(e),st("")),Et=xt("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),kt=(xt("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),xt("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),[0,2,3,5,6,7,9,10,11]),_t={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=Et.encode(r).padStart(kt[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=kt.indexOf(r.length),o=Et.decode(r);for(let e=0;e<o.length-i;e++)if(0!==o[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-i)))}return Uint8Array.from(t)}},St=ot(at("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),st("")),Ct=[996825010,642813549,513874426,1027748829,705979059];function At(e){const t=e>>25;let n=(33554431&e)<<5;for(let r=0;r<Ct.length;r++)1===(t>>r&1)&&(n^=Ct[r]);return n}function Ot(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=e.length;let i=1;for(let o=0;o<r;o++){const t=e.charCodeAt(o);if(t<33||t>126)throw new Error("Invalid prefix (".concat(e,")"));i=At(i)^t>>5}i=At(i);for(let o=0;o<r;o++)i=At(i)^31&e.charCodeAt(o);for(let o of t)i=At(i)^o;for(let o=0;o<6;o++)i=At(i);return i^=n,St.encode(ft([i%2**30],30,5,!1))}function Nt(e){const t="bech32"===e?1:734539939,n=gt(5),r=n.decode,i=n.encode,o=yt(r);function a(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;if("string"!==typeof e)throw new Error("bech32.decode input should be string, not ".concat(typeof e));if(e.length<8||!1!==n&&e.length>n)throw new TypeError("Wrong string length: ".concat(e.length," (").concat(e,"). Expected (8..").concat(n,")"));const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=(e=r).lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const o=e.slice(0,i),a=e.slice(i+1);if(a.length<6)throw new Error("Data must be at least 6 characters long");const s=St.decode(a).slice(0,-6),l=Ot(o,s,t);if(!a.endsWith(l))throw new Error("Invalid checksum in ".concat(e,': expected "').concat(l,'"'));return{prefix:o,words:s}}return{encode:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:90;if("string"!==typeof e)throw new Error("bech32.encode prefix should be string, not ".concat(typeof e));if(!Array.isArray(n)||n.length&&"number"!==typeof n[0])throw new Error("bech32.encode words should be array of numbers, not ".concat(typeof n));const i=e.length+7+n.length;if(!1!==r&&i>r)throw new TypeError("Length ".concat(i," exceeds limit ").concat(r));return e=e.toLowerCase(),"".concat(e,"1").concat(St.encode(n)).concat(Ot(e,n,t))},decode:a,decodeToBytes:function(e){const{prefix:t,words:n}=a(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:yt(a),fromWords:r,fromWordsUnsafe:o,toWords:i}}const Pt=Nt("bech32"),jt=(Nt("bech32m"),{encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)}),Dt=ot(gt(4),at("0123456789abcdef"),st(""),ct((e=>{if("string"!==typeof e||e.length%2)throw new TypeError("hex.decode: expected string, got ".concat(typeof e," with length ").concat(e.length));return e.toLowerCase()}))),Rt={utf8:jt,hex:Dt,base16:mt,base32:vt,base64:bt,base64url:wt,base58:Et,base58xmr:_t},Tt=("Invalid encoding type. Available types: ".concat(Object.keys(Rt).join(", ")),"abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n"));function It(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function Ft(e){if(!function(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}(e))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(n,", not of length=").concat(e.length))}function Lt(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");It(e.outputLen),It(e.blockLen)}function Bt(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Mt(e,t){Ft(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}const Ut={number:It,bool:function(e){if("boolean"!==typeof e)throw new Error("Expected boolean, not ".concat(e))},bytes:Ft,hash:Lt,exists:Bt,output:Mt},zt=Ut,Ht="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function qt(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}const Kt=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Vt=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function Gt(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}(e)),!qt(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}class Wt{clone(){return this._cloneInto()}}const Yt={}.toString;function Zt(e){const t=t=>e().update(Gt(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class Qt extends Wt{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Lt(e);const n=Gt(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Bt(this),this.iHash.update(e),this}digestInto(e){Bt(this),Ft(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const $t=(e,t,n)=>new Qt(e,t).update(n).digest();function Jt(e,t,n,r){Lt(e);const i=function(e,t){if(void 0!==t&&"[object Object]"!==Yt.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)}({dkLen:32,asyncTick:10},r),{c:o,dkLen:a,asyncTick:s}=i;if(It(o),It(a),It(s),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const l=Gt(t),c=Gt(n),u=new Uint8Array(a),d=$t.create(e,l),h=d._cloneInto().update(c);return{c:o,dkLen:a,asyncTick:s,DK:u,PRF:d,PRFSalt:h}}function Xt(e,t,n,r,i){return e.destroy(),t.destroy(),r&&r.destroy(),i.fill(0),n}$t.create=(e,t)=>new Qt(e,t);class en extends Wt{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Kt(this.buffer)}update(e){Bt(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=Gt(e)).length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);if(a!==r)n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Kt(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Bt(this),Mt(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let u=o;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,a,r),e.setUint32(t+c,s,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const a=Kt(e),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=s/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)a.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:a}=this;return e.length=r,e.pos=a,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const tn=(e,t,n)=>e&t^~e&n,nn=(e,t,n)=>e&t^e&n^t&n,rn=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),on=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),an=new Uint32Array(64);class sn extends en{constructor(){super(64,32,8,!1),this.A=0|on[0],this.B=0|on[1],this.C=0|on[2],this.D=0|on[3],this.E=0|on[4],this.F=0|on[5],this.G=0|on[6],this.H=0|on[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:a,H:s}=this;return[e,t,n,r,i,o,a,s]}set(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let u=0;u<16;u++,t+=4)an[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=an[u-15],t=an[u-2],n=Vt(e,7)^Vt(e,18)^e>>>3,r=Vt(t,17)^Vt(t,19)^t>>>10;an[u]=r+an[u-7]+n+an[u-16]|0}let{A:n,B:r,C:i,D:o,E:a,F:s,G:l,H:c}=this;for(let u=0;u<64;u++){const e=c+(Vt(a,6)^Vt(a,11)^Vt(a,25))+tn(a,s,l)+rn[u]+an[u]|0,t=(Vt(n,2)^Vt(n,13)^Vt(n,22))+nn(n,r,i)|0;c=l,l=s,s=a,a=o+e|0,o=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,i,o,a,s,l,c)}roundClean(){an.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ln=Zt((()=>new sn)),cn=BigInt(2**32-1),un=BigInt(32);function dn(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&cn),l:Number(e>>un&cn)}:{h:0|Number(e>>un&cn),l:0|Number(e&cn)}}const hn={fromBig:dn,split:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:a}=dn(e[i],t);[n[i],r[i]]=[o,a]}return[n,r]},toBig:(e,t)=>BigInt(e>>>0)<<un|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},fn=hn,[pn,gn]=(()=>fn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),yn=new Uint32Array(80),mn=new Uint32Array(80);class vn extends en{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:a,Dl:s,Eh:l,El:c,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,o,a,s,l,c,u,d,h,f,p,g]}set(e,t,n,r,i,o,a,s,l,c,u,d,h,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|a,this.Dl=0|s,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let v=0;v<16;v++,t+=4)yn[v]=e.getUint32(t),mn[v]=e.getUint32(t+=4);for(let v=16;v<80;v++){const e=0|yn[v-15],t=0|mn[v-15],n=fn.rotrSH(e,t,1)^fn.rotrSH(e,t,8)^fn.shrSH(e,t,7),r=fn.rotrSL(e,t,1)^fn.rotrSL(e,t,8)^fn.shrSL(e,t,7),i=0|yn[v-2],o=0|mn[v-2],a=fn.rotrSH(i,o,19)^fn.rotrBH(i,o,61)^fn.shrSH(i,o,6),s=fn.rotrSL(i,o,19)^fn.rotrBL(i,o,61)^fn.shrSL(i,o,6),l=fn.add4L(r,s,mn[v-7],mn[v-16]),c=fn.add4H(l,n,a,yn[v-7],yn[v-16]);yn[v]=0|c,mn[v]=0|l}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:a,Cl:s,Dh:l,Dl:c,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:g,Hh:y,Hl:m}=this;for(let v=0;v<80;v++){const e=fn.rotrSH(u,d,14)^fn.rotrSH(u,d,18)^fn.rotrBH(u,d,41),t=fn.rotrSL(u,d,14)^fn.rotrSL(u,d,18)^fn.rotrBL(u,d,41),b=u&h^~u&p,w=d&f^~d&g,x=fn.add5L(m,t,w,gn[v],mn[v]),E=fn.add5H(x,y,e,b,pn[v],yn[v]),k=0|x,_=fn.rotrSH(n,r,28)^fn.rotrBH(n,r,34)^fn.rotrBH(n,r,39),S=fn.rotrSL(n,r,28)^fn.rotrBL(n,r,34)^fn.rotrBL(n,r,39),C=n&i^n&a^i&a,A=r&o^r&s^o&s;y=0|p,m=0|g,p=0|h,g=0|f,h=0|u,f=0|d,({h:u,l:d}=fn.add(0|l,0|c,0|E,0|k)),l=0|a,c=0|s,a=0|i,s=0|o,i=0|n,o=0|r;const O=fn.add3L(k,S,A);n=fn.add3H(O,E,_,C),r=0|O}({h:n,l:r}=fn.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=fn.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:a,l:s}=fn.add(0|this.Ch,0|this.Cl,0|a,0|s)),({h:l,l:c}=fn.add(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:d}=fn.add(0|this.Eh,0|this.El,0|u,0|d)),({h:h,l:f}=fn.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:g}=fn.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:y,l:m}=fn.add(0|this.Hh,0|this.Hl,0|y,0|m)),this.set(n,r,i,o,a,s,l,c,u,d,h,f,p,g,y,m)}roundClean(){yn.fill(0),mn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const bn=Zt((()=>new vn));function wn(e){if(!Number.isSafeInteger(e))throw new Error("Wrong integer: ".concat(e))}function xn(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}function En(){const e=e=>e,t=(e,t)=>n=>e(t(n));for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const o=r.map((e=>e.encode)).reduceRight(t,e),a=r.map((e=>e.decode)).reduce(t,e);return{encode:o,decode:a}}function kn(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!==typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(wn(t),t<0||t>=e.length)throw new Error("Digit index outside alphabet: ".concat(t," (alphabet: ").concat(e.length,")"));return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!==typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!==typeof t)throw new Error("alphabet.decode: not string element=".concat(t));const n=e.indexOf(t);if(-1===n)throw new Error('Unknown letter: "'.concat(t,'". Allowed: ').concat(e));return n}))}}}function _n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!==typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!==typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!==typeof e)throw new Error("join.encode: non-string input=".concat(e));return t.join(e)},decode:t=>{if("string"!==typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function Sn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"=";if(wn(e),"string"!==typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!==typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!==typeof e)throw new Error("padding.encode: non-string input=".concat(e));for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!==typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!==typeof e)throw new Error("padding.decode: non-string input=".concat(e));let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function Cn(e){if("function"!==typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function An(e,t,n){if(t<2)throw new Error("convertRadix: wrong from=".concat(t,", base cannot be less than 2"));if(n<2)throw new Error("convertRadix: wrong to=".concat(n,", base cannot be less than 2"));if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],o=Array.from(e);for(o.forEach((e=>{if(wn(e),e<0||e>=t)throw new Error("Wrong integer: ".concat(e))}));;){let e=0,a=!0;for(let i=r;i<o.length;i++){const s=o[i],l=t*e+s;if(!Number.isSafeInteger(l)||t*e/t!==e||l-s!==t*e)throw new Error("convertRadix: carry overflow");e=l%n;const c=Math.floor(l/n);if(o[i]=c,!Number.isSafeInteger(c)||c*n+e!==l)throw new Error("convertRadix: carry overflow");a&&(c?a=!1:r=i)}if(i.push(e),a)break}for(let a=0;a<e.length-1&&0===e[a];a++)i.push(0);return i.reverse()}const On=(e,t)=>t?On(t,e%t):e,Nn=(e,t)=>e+(t-On(e,t));function Pn(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error("convertRadix2: wrong from=".concat(t));if(n<=0||n>32)throw new Error("convertRadix2: wrong to=".concat(n));if(Nn(t,n)>32)throw new Error("convertRadix2: carry overflow from=".concat(t," to=").concat(n," carryBits=").concat(Nn(t,n)));let i=0,o=0;const a=2**n-1,s=[];for(const l of e){if(wn(l),l>=2**t)throw new Error("convertRadix2: invalid data word=".concat(l," from=").concat(t));if(i=i<<t|l,o+t>32)throw new Error("convertRadix2: carry overflow pos=".concat(o," from=").concat(t));for(o+=t;o>=n;o-=n)s.push((i>>o-n&a)>>>0);i&=2**o-1}if(i=i<<n-o&a,!r&&o>=t)throw new Error("Excess padding");if(!r&&i)throw new Error("Non-zero padding: ".concat(i));return r&&o>0&&s.push(i>>>0),s}function jn(e){return wn(e),{encode:t=>{if(!xn(t))throw new Error("radix.encode input should be Uint8Array");return An(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!==typeof t[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(An(t,e,256))}}}function Dn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(wn(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Nn(8,e)>32||Nn(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!xn(n))throw new Error("radix2.encode input should be Uint8Array");return Pn(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!==typeof n[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(Pn(n,e,8,t))}}}function Rn(e,t){if(wn(e),"function"!==typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!xn(n))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),i=new Uint8Array(n.length+e);return i.set(n),i.set(r,n.length),i},decode(n){if(!xn(n))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),i=t(r).slice(0,e),o=n.slice(-e);for(let t=0;t<e;t++)if(i[t]!==o[t])throw new Error("Invalid checksum");return r}}}const Tn={alphabet:kn,chain:En,checksum:Rn,convertRadix:An,convertRadix2:Pn,radix:jn,radix2:Dn,join:_n,padding:Sn};Dn(4),kn("0123456789ABCDEF"),_n(""),Dn(5),kn("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Sn(5),_n(""),Dn(5),kn("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),_n(""),Dn(5),kn("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Sn(5),_n(""),Dn(5),kn("0123456789ABCDEFGHIJKLMNOPQRSTUV"),_n(""),Dn(5),kn("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),_n(""),Cn((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),Dn(6),kn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Sn(6),_n(""),Dn(6),kn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),_n(""),Dn(6),kn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Sn(6),_n(""),Dn(6),kn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),_n(""),kn("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),_n("");Dn(4),kn("0123456789abcdef"),_n(""),Cn((e=>{if("string"!==typeof e||e.length%2)throw new TypeError("hex.decode: expected string, got ".concat(typeof e," with length ").concat(e.length));return e.toLowerCase()}));function In(e){if("string"!==typeof e)throw new TypeError("Invalid mnemonic type: ".concat(typeof e));return e.normalize("NFKD")}function Fn(e){const t=In(e),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function Ln(e){zt.bytes(e,16,20,24,28,32)}function Bn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:128;if(zt.number(t),t%32!==0||t>256)throw new TypeError("Invalid entropy");return function(e,t){Ln(e);const n=Un(t).encode(e);return n.join((e=>"\u3042\u3044\u3053\u304f\u3057\u3093"===e[0])(t)?"\u3000":" ")}(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(Ht&&"function"===typeof Ht.getRandomValues)return Ht.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}(t/8),e)}const Mn=e=>{const t=8-e.length/4;return new Uint8Array([ln(e)[0]>>t<<t])};function Un(e){if(!Array.isArray(e)||2048!==e.length||"string"!==typeof e[0])throw new Error("Worlist: expected array of 2048 strings");return e.forEach((e=>{if("string"!==typeof e)throw new Error("Wordlist: non-string element: ".concat(e))})),Tn.chain(Tn.checksum(1,Mn),Tn.radix2(11,!0),Tn.alphabet(e))}function zn(e,t){try{!function(e,t){const{words:n}=Fn(e),r=Un(t).decode(n);Ln(r)}(e,t)}catch(oR){return!1}return!0}const Hn=e=>In("mnemonic".concat(e));function qn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(e,t,n,r){const{c:i,dkLen:o,DK:a,PRF:s,PRFSalt:l}=Jt(e,t,n,r);let c;const u=new Uint8Array(4),d=Kt(u),h=new Uint8Array(s.outputLen);for(let f=1,p=0;p<o;f++,p+=s.outputLen){const e=a.subarray(p,p+s.outputLen);d.setInt32(0,f,!1),(c=l._cloneInto(c)).update(u).digestInto(h),e.set(h.subarray(0,e.length));for(let t=1;t<i;t++){s._cloneInto(c).update(h).digestInto(h);for(let t=0;t<e.length;t++)e[t]^=h[t]}}return Xt(s,l,a,c,h)}(bn,Fn(e).nfkd,Hn(t),{c:2048,dkLen:64})}function Kn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function Vn(e){if(!function(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}(e))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(n,", not of length=").concat(e.length))}function Gn(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Kn(e.outputLen),Kn(e.blockLen)}function Wn(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Yn(e,t){Vn(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}function Zn(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}const Qn=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),$n=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const Jn=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));const Xn=48,er=57,tr=65,nr=70,rr=97,ir=102;function or(e){return e>=Xn&&e<=er?e-Xn:e>=tr&&e<=nr?e-(tr-10):e>=rr&&e<=ir?e-(rr-10):void 0}function ar(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}function sr(e){if("string"===typeof e&&(e=ar(e)),!Zn(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}function lr(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];if(!Zn(t))throw new Error("Uint8Array expected");e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}class cr{clone(){return this._cloneInto()}}function ur(e){const t=t=>e().update(sr(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class dr extends cr{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Gn(e);const n=sr(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Wn(this),this.iHash.update(e),this}digestInto(e){Wn(this),Vn(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hr=(e,t,n)=>new dr(e,t).update(n).digest();hr.create=(e,t)=>new dr(e,t);class fr extends cr{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Qn(this.buffer)}update(e){Wn(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=sr(e)).length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);if(a!==r)n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Qn(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Wn(this),Yn(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let u=o;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,a,r),e.setUint32(t+c,s,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const a=Qn(e),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=s/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)a.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:a}=this;return e.length=r,e.pos=a,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const pr=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),gr=Uint8Array.from({length:16},((e,t)=>t)),yr=gr.map((e=>(9*e+5)%16));let mr=[gr],vr=[yr];for(let gY=0;gY<4;gY++)for(let e of[mr,vr])e.push(e[gY].map((e=>pr[e])));const br=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),wr=mr.map(((e,t)=>e.map((e=>br[t][e])))),xr=vr.map(((e,t)=>e.map((e=>br[t][e])))),Er=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),kr=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),_r=(e,t)=>e<<t|e>>>32-t;function Sr(e,t,n,r){return 0===e?t^n^r:1===e?t&n|~t&r:2===e?(t|~n)^r:3===e?t&r|n&~r:t^(n|~r)}const Cr=new Uint32Array(16);class Ar extends fr{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:r,h4:i}=this;return[e,t,n,r,i]}set(e,t,n,r,i){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|r,this.h4=0|i}process(e,t){for(let h=0;h<16;h++,t+=4)Cr[h]=e.getUint32(t,!0);let n=0|this.h0,r=n,i=0|this.h1,o=i,a=0|this.h2,s=a,l=0|this.h3,c=l,u=0|this.h4,d=u;for(let h=0;h<5;h++){const e=4-h,t=Er[h],f=kr[h],p=mr[h],g=vr[h],y=wr[h],m=xr[h];for(let r=0;r<16;r++){const e=_r(n+Sr(h,i,a,l)+Cr[p[r]]+t,y[r])+u|0;n=u,u=l,l=0|_r(a,10),a=i,i=e}for(let n=0;n<16;n++){const t=_r(r+Sr(e,o,s,c)+Cr[g[n]]+f,m[n])+d|0;r=d,d=c,c=0|_r(s,10),s=o,o=t}}this.set(this.h1+a+c|0,this.h2+l+d|0,this.h3+u+r|0,this.h4+n+o|0,this.h0+i+s|0)}roundClean(){Cr.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const Or=ur((()=>new Ar)),Nr=(e,t,n)=>e&t^~e&n,Pr=(e,t,n)=>e&t^e&n^t&n,jr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Dr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Rr=new Uint32Array(64);class Tr extends fr{constructor(){super(64,32,8,!1),this.A=0|Dr[0],this.B=0|Dr[1],this.C=0|Dr[2],this.D=0|Dr[3],this.E=0|Dr[4],this.F=0|Dr[5],this.G=0|Dr[6],this.H=0|Dr[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:a,H:s}=this;return[e,t,n,r,i,o,a,s]}set(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let u=0;u<16;u++,t+=4)Rr[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=Rr[u-15],t=Rr[u-2],n=$n(e,7)^$n(e,18)^e>>>3,r=$n(t,17)^$n(t,19)^t>>>10;Rr[u]=r+Rr[u-7]+n+Rr[u-16]|0}let{A:n,B:r,C:i,D:o,E:a,F:s,G:l,H:c}=this;for(let u=0;u<64;u++){const e=c+($n(a,6)^$n(a,11)^$n(a,25))+Nr(a,s,l)+jr[u]+Rr[u]|0,t=($n(n,2)^$n(n,13)^$n(n,22))+Pr(n,r,i)|0;c=l,l=s,s=a,a=o+e|0,o=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,i,o,a,s,l,c)}roundClean(){Rr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ir=ur((()=>new Tr)),Fr=BigInt(2**32-1),Lr=BigInt(32);function Br(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Fr),l:Number(e>>Lr&Fr)}:{h:0|Number(e>>Lr&Fr),l:0|Number(e&Fr)}}const Mr={fromBig:Br,split:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:a}=Br(e[i],t);[n[i],r[i]]=[o,a]}return[n,r]},toBig:(e,t)=>BigInt(e>>>0)<<Lr|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},Ur=Mr,[zr,Hr]=(()=>Ur.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),qr=new Uint32Array(80),Kr=new Uint32Array(80);class Vr extends fr{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:a,Dl:s,Eh:l,El:c,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,o,a,s,l,c,u,d,h,f,p,g]}set(e,t,n,r,i,o,a,s,l,c,u,d,h,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|a,this.Dl=0|s,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let v=0;v<16;v++,t+=4)qr[v]=e.getUint32(t),Kr[v]=e.getUint32(t+=4);for(let v=16;v<80;v++){const e=0|qr[v-15],t=0|Kr[v-15],n=Ur.rotrSH(e,t,1)^Ur.rotrSH(e,t,8)^Ur.shrSH(e,t,7),r=Ur.rotrSL(e,t,1)^Ur.rotrSL(e,t,8)^Ur.shrSL(e,t,7),i=0|qr[v-2],o=0|Kr[v-2],a=Ur.rotrSH(i,o,19)^Ur.rotrBH(i,o,61)^Ur.shrSH(i,o,6),s=Ur.rotrSL(i,o,19)^Ur.rotrBL(i,o,61)^Ur.shrSL(i,o,6),l=Ur.add4L(r,s,Kr[v-7],Kr[v-16]),c=Ur.add4H(l,n,a,qr[v-7],qr[v-16]);qr[v]=0|c,Kr[v]=0|l}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:a,Cl:s,Dh:l,Dl:c,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:g,Hh:y,Hl:m}=this;for(let v=0;v<80;v++){const e=Ur.rotrSH(u,d,14)^Ur.rotrSH(u,d,18)^Ur.rotrBH(u,d,41),t=Ur.rotrSL(u,d,14)^Ur.rotrSL(u,d,18)^Ur.rotrBL(u,d,41),b=u&h^~u&p,w=d&f^~d&g,x=Ur.add5L(m,t,w,Hr[v],Kr[v]),E=Ur.add5H(x,y,e,b,zr[v],qr[v]),k=0|x,_=Ur.rotrSH(n,r,28)^Ur.rotrBH(n,r,34)^Ur.rotrBH(n,r,39),S=Ur.rotrSL(n,r,28)^Ur.rotrBL(n,r,34)^Ur.rotrBL(n,r,39),C=n&i^n&a^i&a,A=r&o^r&s^o&s;y=0|p,m=0|g,p=0|h,g=0|f,h=0|u,f=0|d,({h:u,l:d}=Ur.add(0|l,0|c,0|E,0|k)),l=0|a,c=0|s,a=0|i,s=0|o,i=0|n,o=0|r;const O=Ur.add3L(k,S,A);n=Ur.add3H(O,E,_,C),r=0|O}({h:n,l:r}=Ur.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=Ur.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:a,l:s}=Ur.add(0|this.Ch,0|this.Cl,0|a,0|s)),({h:l,l:c}=Ur.add(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:d}=Ur.add(0|this.Eh,0|this.El,0|u,0|d)),({h:h,l:f}=Ur.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:g}=Ur.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:y,l:m}=Ur.add(0|this.Hh,0|this.Hl,0|y,0|m)),this.set(n,r,i,o,a,s,l,c,u,d,h,f,p,g,y,m)}roundClean(){qr.fill(0),Kr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Gr=ur((()=>new Vr));function Wr(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function Yr(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(n,", not of length=").concat(e.length))}const Zr={number:Wr,bool:function(e){if("boolean"!==typeof e)throw new Error("Expected boolean, not ".concat(e))},bytes:Yr,hash:function(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Wr(e.outputLen),Wr(e.blockLen)},exists:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){Yr(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}},Qr=Zr,$r="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Jr=e=>e instanceof Uint8Array,Xr=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ei=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function ti(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}(e)),!Jr(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}class ni{clone(){return this._cloneInto()}}function ri(e){const t=t=>e().update(ti(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function ii(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if($r&&"function"===typeof $r.getRandomValues)return $r.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class oi extends ni{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Xr(this.buffer)}update(e){Qr.exists(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=ti(e)).length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);if(a!==r)n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Xr(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Qr.exists(this),Qr.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let u=o;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,a,r),e.setUint32(t+c,s,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const a=Xr(e),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=s/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)a.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:a}=this;return e.length=r,e.pos=a,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const ai=(e,t,n)=>e&t^~e&n,si=(e,t,n)=>e&t^e&n^t&n,li=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ci=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ui=new Uint32Array(64);class di extends oi{constructor(){super(64,32,8,!1),this.A=0|ci[0],this.B=0|ci[1],this.C=0|ci[2],this.D=0|ci[3],this.E=0|ci[4],this.F=0|ci[5],this.G=0|ci[6],this.H=0|ci[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:a,H:s}=this;return[e,t,n,r,i,o,a,s]}set(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let u=0;u<16;u++,t+=4)ui[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=ui[u-15],t=ui[u-2],n=ei(e,7)^ei(e,18)^e>>>3,r=ei(t,17)^ei(t,19)^t>>>10;ui[u]=r+ui[u-7]+n+ui[u-16]|0}let{A:n,B:r,C:i,D:o,E:a,F:s,G:l,H:c}=this;for(let u=0;u<64;u++){const e=c+(ei(a,6)^ei(a,11)^ei(a,25))+ai(a,s,l)+li[u]+ui[u]|0,t=(ei(n,2)^ei(n,13)^ei(n,22))+si(n,r,i)|0;c=l,l=s,s=a,a=o+e|0,o=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,i,o,a,s,l,c)}roundClean(){ui.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class hi extends di{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const fi=ri((()=>new di)),pi=(ri((()=>new hi)),BigInt(0),BigInt(1)),gi=BigInt(2),yi=e=>e instanceof Uint8Array,mi=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function vi(e){if(!yi(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=mi[e[n]];return t}function bi(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":"0x".concat(e))}function wi(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,i=e.slice(t,t+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function xi(e){return bi(vi(e))}function Ei(e){if(!yi(e))throw new Error("Uint8Array expected");return bi(vi(Uint8Array.from(e).reverse()))}function ki(e,t){return wi(e.toString(16).padStart(2*t,"0"))}function _i(e,t){return ki(e,t).reverse()}function Si(e,t,n){let r;if("string"===typeof t)try{r=wi(t)}catch(oR){throw new Error("".concat(e,' must be valid hex string, got "').concat(t,'". Cause: ').concat(oR))}else{if(!yi(t))throw new Error("".concat(e," must be hex string or Uint8Array"));r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error("".concat(e," expected ").concat(n," bytes, got ").concat(i));return r}function Ci(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!yi(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}const Ai=e=>(gi<<BigInt(e-1))-pi,Oi=e=>new Uint8Array(e),Ni=e=>Uint8Array.from(e);function Pi(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=Oi(e),i=Oi(e),o=0;const a=()=>{r.fill(1),i.fill(0),o=0},s=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n(i,r,...t)},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi();i=s(Ni([0]),e),r=s(),0!==e.length&&(i=s(Ni([1]),e),r=s())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=s();const t=r.slice();n.push(t),e+=r.length}return Ci(...n)};return(e,t)=>{let n;for(a(),l(e);!(n=t(c()));)l();return a(),n}}const ji={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function Di(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=ji[n];if("function"!==typeof i)throw new Error('Invalid validator "'.concat(n,'", expected function'));const o=e[t];if((!r||void 0!==o)&&!i(o,e))throw new Error("Invalid param ".concat(String(t),"=").concat(o," (").concat(typeof o,"), expected ").concat(n))};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}const Ri=BigInt(0),Ti=BigInt(1),Ii=BigInt(2),Fi=BigInt(3),Li=BigInt(4),Bi=BigInt(5),Mi=BigInt(8);BigInt(9),BigInt(16);function Ui(e,t){const n=e%t;return n>=Ri?n:t+n}function zi(e,t,n){if(n<=Ri||t<Ri)throw new Error("Expected power/modulo > 0");if(n===Ti)return Ri;let r=Ti;for(;t>Ri;)t&Ti&&(r=r*e%n),e=e*e%n,t>>=Ti;return r}function Hi(e,t,n){let r=e;for(;t-- >Ri;)r*=r,r%=n;return r}function qi(e,t){if(e===Ri||t<=Ri)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));let n=Ui(e,t),r=t,i=Ri,o=Ti,a=Ti,s=Ri;for(;n!==Ri;){const e=r/n,t=r%n,l=i-a*e,c=o-s*e;r=n,n=t,i=a,o=s,a=l,s=c}if(r!==Ti)throw new Error("invert: does not exist");return Ui(i,t)}function Ki(e){if(e%Li===Fi){const t=(e+Ti)/Li;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%Mi===Bi){const t=(e-Bi)/Mi;return function(e,n){const r=e.mul(n,Ii),i=e.pow(r,t),o=e.mul(n,i),a=e.mul(e.mul(o,Ii),i),s=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(s),n))throw new Error("Cannot find square root");return s}}return function(e){const t=(e-Ti)/Ii;let n,r,i;for(n=e-Ti,r=0;n%Ii===Ri;n/=Ii,r++);for(i=Ii;i<e&&zi(i,t,e)!==e-Ti;i++);if(1===r){const t=(e+Ti)/Li;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const o=(n+Ti)/Ii;return function(e,a){if(e.pow(a,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let s=r,l=e.pow(e.mul(e.ONE,i),n),c=e.pow(a,o),u=e.pow(a,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(l,Ti<<BigInt(s-t-1));l=e.sqr(n),c=e.mul(c,n),u=e.mul(u,l),s=t}return c}}(e)}const Vi=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Gi(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}const Wi=BigInt(0),Yi=BigInt(1);function Zi(e){return function(e){const t=Vi.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});Di(e,t)}(e.Fp),Di(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(f(f(f({},Gi(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}const{Ph:Qi,aT:$i}=t,Ji={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=Ji;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Qi(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Ji,n="string"===typeof e?$i(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=Ji._parseInt(n.subarray(2)),{d:a,l:s}=Ji._parseInt(o);if(s.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?"0".concat(t):t},r=t(n(e.s)),i=t(n(e.r)),o=r.length/2,a=i.length/2,s=n(o),l=n(a);return"30".concat(n(a+o+4),"02").concat(l).concat(i,"02").concat(s).concat(r)}},Xi=BigInt(0),eo=BigInt(1),to=(BigInt(2),BigInt(3));BigInt(4);function no(e){const t=function(e){const t=Zi(e);Di(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze(f({},t))}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return Ci(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:i}=t,o=n.sqr(e),a=n.mul(o,e);return n.add(n.add(a,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){return"bigint"===typeof e&&Xi<e&&e<t.n}function s(e){if(!a(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:o}=t;if(n&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=vi(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let a;try{a="bigint"===typeof e?e:xi(Si("private key",e,r))}catch(kU){throw new Error("private key must be ".concat(r," bytes, hex or bigint, not ").concat(typeof e))}return i&&(a=Ui(a,o)),s(a),a}const c=new Map;function u(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(i(Si("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),a=o(e);if(!n.eql(i,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:r,pz:i}=this,{px:o,py:a,pz:s}=e,l=n.eql(n.mul(t,s),n.mul(o,i)),c=n.eql(n.mul(r,s),n.mul(a,i));return l&&c}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,to),{px:o,py:a,pz:s}=this;let l=n.ZERO,c=n.ZERO,u=n.ZERO,h=n.mul(o,o),f=n.mul(a,a),p=n.mul(s,s),g=n.mul(o,a);return g=n.add(g,g),u=n.mul(o,s),u=n.add(u,u),l=n.mul(e,u),c=n.mul(i,p),c=n.add(l,c),l=n.sub(f,c),c=n.add(f,c),c=n.mul(l,c),l=n.mul(g,l),u=n.mul(i,u),p=n.mul(e,p),g=n.sub(h,p),g=n.mul(e,g),g=n.add(g,u),u=n.add(h,h),h=n.add(u,h),h=n.add(h,p),h=n.mul(h,g),c=n.add(c,h),p=n.mul(a,s),p=n.add(p,p),h=n.mul(p,g),l=n.sub(l,h),u=n.mul(p,f),u=n.add(u,u),u=n.add(u,u),new d(l,c,u)}add(e){u(e);const{px:r,py:i,pz:o}=this,{px:a,py:s,pz:l}=e;let c=n.ZERO,h=n.ZERO,f=n.ZERO;const p=t.a,g=n.mul(t.b,to);let y=n.mul(r,a),m=n.mul(i,s),v=n.mul(o,l),b=n.add(r,i),w=n.add(a,s);b=n.mul(b,w),w=n.add(y,m),b=n.sub(b,w),w=n.add(r,o);let x=n.add(a,l);return w=n.mul(w,x),x=n.add(y,v),w=n.sub(w,x),x=n.add(i,o),c=n.add(s,l),x=n.mul(x,c),c=n.add(m,v),x=n.sub(x,c),f=n.mul(p,w),c=n.mul(g,v),f=n.add(c,f),c=n.sub(m,f),f=n.add(m,f),h=n.mul(c,f),m=n.add(y,y),m=n.add(m,y),v=n.mul(p,v),w=n.mul(g,w),m=n.add(m,v),v=n.sub(y,v),v=n.mul(p,v),w=n.add(w,v),y=n.mul(m,w),h=n.add(h,y),y=n.mul(x,w),c=n.mul(b,c),c=n.sub(c,y),y=n.mul(b,m),f=n.mul(x,f),f=n.add(f,y),new d(c,h,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return p.wNAFCached(this,c,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}))}multiplyUnsafe(e){const r=d.ZERO;if(e===Xi)return r;if(s(e),e===eo)return this;const{endo:i}=t;if(!i)return p.unsafeLadder(this,e);let{k1neg:o,k1:a,k2neg:l,k2:c}=i.splitScalar(e),u=r,h=r,f=this;for(;a>Xi||c>Xi;)a&eo&&(u=u.add(f)),c&eo&&(h=h.add(f)),f=f.double(),a>>=eo,c>>=eo;return o&&(u=u.negate()),l&&(h=h.negate()),h=new d(n.mul(h.px,i.beta),h.py,h.pz),u.add(h)}multiply(e){s(e);let r,i,o=e;const{endo:a}=t;if(a){const{k1neg:e,k1:t,k2neg:s,k2:l}=a.splitScalar(o);let{p:c,f:u}=this.wNAF(t),{p:h,f:f}=this.wNAF(l);c=p.constTimeNegate(e,c),h=p.constTimeNegate(s,h),h=new d(n.mul(h.px,a.beta),h.py,h.pz),r=c.add(h),i=u.add(f)}else{const{p:e,f:t}=this.wNAF(o);r=e,i=t}return d.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=d.BASE,i=(e,t)=>t!==Xi&&t!==eo&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){const{px:t,py:r,pz:i}=this,o=this.is0();null==e&&(e=o?n.ONE:n.inv(i));const a=n.mul(t,e),s=n.mul(r,e),l=n.mul(i,e);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:a,y:s}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===eo)return!0;if(n)return n(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===eo?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),r(d,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return vi(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,p=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>Wi;)n&Yi&&(r=r.add(i)),i=i.double(),n>>=Yi;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),o=[];let a=e,s=a;for(let r=0;r<n;r++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(t,i,o){const{windows:a,windowSize:s}=r(t);let l=e.ZERO,c=e.BASE;const u=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<a;e++){const t=e*s;let r=Number(o&u);o>>=h,r>s&&(r-=d,o+=Yi);const a=t,f=t+Math.abs(r)-1,p=e%2!==0,g=r<0;0===r?c=c.add(n(p,i[a])):l=l.add(n(g,i[f]))}return{p:l,f:c}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,r(o))),this.wNAF(i,o,n)}}}(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:a}}function ro(e){const t=function(e){const t=Zi(e);return Di(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(f({lowS:!0},t))}(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function a(e){return Ui(e,r)}function s(e){return qi(e,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:d}=no(f(f({},t),{},{toBytes(e,t,r){const i=t.toAffine(),o=n.toBytes(i.x),a=Ci;return r?a(Uint8Array.from([t.hasEvenY()?2:3]),o):a(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],a=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r){return{x:n.fromBytes(a.subarray(0,n.BYTES)),y:n.fromBytes(a.subarray(n.BYTES,2*n.BYTES))}}throw new Error("Point of length ".concat(t," was invalid. Expected ").concat(i," compressed bytes or ").concat(o," uncompressed bytes"))}{const e=xi(a);if(!function(e){return Xi<e&&e<n.ORDER}(e))throw new Error("Point is not on curve");const t=u(e);let i=n.sqrt(t);return 1===(1&r)!==((i&eo)===eo)&&(i=n.neg(i)),{x:e,y:i}}}})),h=e=>vi(ki(e,t.nByteLength));function p(e){return e>r>>eo}const g=(e,t,n)=>xi(e.slice(t,n));class y{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=Si("compactSignature",e,2*n),new y(g(e,0,n),g(e,n,2*n))}static fromDER(e){const{r:t,s:n}=Ji.toSig(Si("DER",e));return new y(t,n)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:o}=this,c=w(Si("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const u=2===o||3===o?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0===(1&o)?"02":"03",f=l.fromHex(d+h(u)),p=s(u),g=a(-c*p),y=a(i*p),m=l.BASE.multiplyAndAddUnsafe(f,g,y);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return wi(this.toDERHex())}toDERHex(){return Ji.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return wi(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const m={isValidPrivateKey(e){try{return c(e),!0}catch(kU){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=(e=Si("privateHash",e)).length,i=Gi(t).nByteLength+8;if(i<24||r<i||r>1024)throw new Error("hashToPrivateScalar: expected ".concat(i,"-1024 bytes of input, got ").concat(r));return Ui(n?Ei(e):xi(e),t-Ti)+Ti}(t.randomBytes(n.BYTES+8),r);return ki(e,t.nByteLength)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function v(e){const t=e instanceof Uint8Array,n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof l}const b=t.bits2int||function(e){const n=xi(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},w=t.bits2int_modN||function(e){return a(b(e))},x=Ai(t.nBitLength);function E(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(Xi<=e&&e<x))throw new Error("bigint expected < 2^".concat(t.nBitLength));return ki(e,t.nByteLength)}function k(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:u}=t;let{lowS:h,prehash:f,extraEntropy:g}=i;null==h&&(h=!0),e=Si("msgHash",e),f&&(e=Si("prehashed msgHash",o(e)));const m=w(e),v=c(r),x=[E(v),E(m)];if(null!=g){const e=!0===g?u(n.BYTES):g;x.push(Si("extraEntropy",e,n.BYTES))}const k=Ci(...x),S=m;return{seed:k,k2sig:function(e){const t=b(e);if(!d(t))return;const n=s(t),r=l.BASE.multiply(t).toAffine(),i=a(r.x);if(i===Xi)return;const o=a(n*a(S+i*v));if(o===Xi)return;let c=(r.x===i?0:2)|Number(r.y&eo),u=o;return h&&p(o)&&(u=function(e){return p(e)?a(-e):e}(o),c^=1),new y(i,u,c)}}}const _={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(v(e))throw new Error("first arg must be private key");if(!v(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(c(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;const{seed:i,k2sig:o}=k(e,n,r),a=t;return Pi(a.hash.outputLen,a.nByteLength,a.hmac)(i,o)},verify:function(e,n,r){var i;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;const c=e;if(n=Si("msgHash",n),r=Si("publicKey",r),"strict"in o)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:d}=o;let h,f;try{if("string"===typeof c||c instanceof Uint8Array)try{h=y.fromDER(c)}catch(k){if(!(k instanceof Ji.Err))throw k;h=y.fromCompact(c)}else{if("object"!==typeof c||"bigint"!==typeof c.r||"bigint"!==typeof c.s)throw new Error("PARSE");{const{r:e,s:t}=c;h=new y(e,t)}}f=l.fromHex(r)}catch(kU){if("PARSE"===kU.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&h.hasHighS())return!1;d&&(n=t.hash(n));const{r:p,s:g}=h,m=w(n),v=s(g),b=a(m*v),x=a(p*v),E=null===(i=l.BASE.multiplyAndAddUnsafe(f,b,x))||void 0===i?void 0:i.toAffine();return!!E&&a(E.x)===p},ProjectivePoint:l,Signature:y,utils:m}}class io extends ni{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Qr.hash(e);const n=ti(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Qr.exists(this),this.iHash.update(e),this}digestInto(e){Qr.exists(this),Qr.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const oo=(e,t,n)=>new io(e,t).update(n).digest();function ao(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return oo(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!Jr(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}(...r))},randomBytes:ii}}oo.create=(e,t)=>new io(e,t);const so=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),lo=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),co=BigInt(1),uo=BigInt(2),ho=(e,t)=>(e+t/uo)/t;function fo(e){const t=so,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),s=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,d=Hi(u,n,t)*u%t,h=Hi(d,n,t)*u%t,f=Hi(h,uo,t)*c%t,p=Hi(f,i,t)*f%t,g=Hi(p,o,t)*p%t,y=Hi(g,s,t)*g%t,m=Hi(y,l,t)*y%t,v=Hi(m,s,t)*g%t,b=Hi(v,n,t)*u%t,w=Hi(b,a,t)*p%t,x=Hi(w,r,t)*c%t,E=Hi(x,uo,t);if(!po.eql(po.sqr(E),e))throw new Error("Cannot find square root");return E}const po=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=Ri)throw new Error("Expected Fp ORDER > 0, got ".concat(e));const{nBitLength:i,nByteLength:o}=Gi(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=Ki(e),s=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:Ai(i),ZERO:Ri,ONE:Ti,create:t=>Ui(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got ".concat(typeof t));return Ri<=t&&t<e},is0:e=>e===Ri,isOdd:e=>(e&Ti)===Ti,neg:t=>Ui(-t,e),eql:(e,t)=>e===t,sqr:t=>Ui(t*t,e),add:(t,n)=>Ui(t+n,e),sub:(t,n)=>Ui(t-n,e),mul:(t,n)=>Ui(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Ri)throw new Error("Expected power > 0");if(n===Ri)return e.ONE;if(n===Ti)return t;let r=e.ONE,i=t;for(;n>Ri;)n&Ti&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Ti;return r}(s,e,t),div:(t,n)=>Ui(t*qi(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>qi(t,e),sqrt:r.sqrt||(e=>a(s,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(s,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?_i(e,o):ki(e,o),fromBytes:e=>{if(e.length!==o)throw new Error("Fp.fromBytes: expected ".concat(o,", got ").concat(e.length));return n?Ei(e):xi(e)}});return Object.freeze(s)}(so,void 0,void 0,{sqrt:fo}),go=function(e,t){const n=t=>ro(f(f({},e),ao(t)));return Object.freeze(f(f({},n(t)),{},{create:n}))}({a:BigInt(0),b:BigInt(7),Fp:po,n:lo,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=lo,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-co*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),s=ho(o*e,t),l=ho(-r*e,t);let c=Ui(e-s*n-l*i,t),u=Ui(-s*r-l*o,t);const d=c>a,h=u>a;if(d&&(c=t-c),h&&(u=t-u),c>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:c,k2neg:h,k2:u}}}},fi);BigInt(0);go.ProjectivePoint;function yo(e){if(!Number.isSafeInteger(e))throw new Error("Wrong integer: ".concat(e))}function mo(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}function vo(){const e=e=>e,t=(e,t)=>n=>e(t(n));for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const o=r.map((e=>e.encode)).reduceRight(t,e),a=r.map((e=>e.decode)).reduce(t,e);return{encode:o,decode:a}}function bo(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!==typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(yo(t),t<0||t>=e.length)throw new Error("Digit index outside alphabet: ".concat(t," (alphabet: ").concat(e.length,")"));return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!==typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!==typeof t)throw new Error("alphabet.decode: not string element=".concat(t));const n=e.indexOf(t);if(-1===n)throw new Error('Unknown letter: "'.concat(t,'". Allowed: ').concat(e));return n}))}}}function wo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!==typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!==typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!==typeof e)throw new Error("join.encode: non-string input=".concat(e));return t.join(e)},decode:t=>{if("string"!==typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function xo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"=";if(yo(e),"string"!==typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!==typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!==typeof e)throw new Error("padding.encode: non-string input=".concat(e));for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!==typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!==typeof e)throw new Error("padding.decode: non-string input=".concat(e));let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function Eo(e){if("function"!==typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function ko(e,t,n){if(t<2)throw new Error("convertRadix: wrong from=".concat(t,", base cannot be less than 2"));if(n<2)throw new Error("convertRadix: wrong to=".concat(n,", base cannot be less than 2"));if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],o=Array.from(e);for(o.forEach((e=>{if(yo(e),e<0||e>=t)throw new Error("Wrong integer: ".concat(e))}));;){let e=0,a=!0;for(let i=r;i<o.length;i++){const s=o[i],l=t*e+s;if(!Number.isSafeInteger(l)||t*e/t!==e||l-s!==t*e)throw new Error("convertRadix: carry overflow");e=l%n;const c=Math.floor(l/n);if(o[i]=c,!Number.isSafeInteger(c)||c*n+e!==l)throw new Error("convertRadix: carry overflow");a&&(c?a=!1:r=i)}if(i.push(e),a)break}for(let a=0;a<e.length-1&&0===e[a];a++)i.push(0);return i.reverse()}const _o=(e,t)=>t?_o(t,e%t):e,So=(e,t)=>e+(t-_o(e,t));function Co(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error("convertRadix2: wrong from=".concat(t));if(n<=0||n>32)throw new Error("convertRadix2: wrong to=".concat(n));if(So(t,n)>32)throw new Error("convertRadix2: carry overflow from=".concat(t," to=").concat(n," carryBits=").concat(So(t,n)));let i=0,o=0;const a=2**n-1,s=[];for(const l of e){if(yo(l),l>=2**t)throw new Error("convertRadix2: invalid data word=".concat(l," from=").concat(t));if(i=i<<t|l,o+t>32)throw new Error("convertRadix2: carry overflow pos=".concat(o," from=").concat(t));for(o+=t;o>=n;o-=n)s.push((i>>o-n&a)>>>0);i&=2**o-1}if(i=i<<n-o&a,!r&&o>=t)throw new Error("Excess padding");if(!r&&i)throw new Error("Non-zero padding: ".concat(i));return r&&o>0&&s.push(i>>>0),s}function Ao(e){return yo(e),{encode:t=>{if(!mo(t))throw new Error("radix.encode input should be Uint8Array");return ko(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!==typeof t[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(ko(t,e,256))}}}function Oo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(yo(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(So(8,e)>32||So(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!mo(n))throw new Error("radix2.encode input should be Uint8Array");return Co(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!==typeof n[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(Co(n,e,8,t))}}}function No(e,t){if(yo(e),"function"!==typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!mo(n))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),i=new Uint8Array(n.length+e);return i.set(n),i.set(r,n.length),i},decode(n){if(!mo(n))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),i=t(r).slice(0,e),o=n.slice(-e);for(let t=0;t<e;t++)if(i[t]!==o[t])throw new Error("Invalid checksum");return r}}}Oo(4),bo("0123456789ABCDEF"),wo(""),Oo(5),bo("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),xo(5),wo(""),Oo(5),bo("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),wo(""),Oo(5),bo("0123456789ABCDEFGHIJKLMNOPQRSTUV"),xo(5),wo(""),Oo(5),bo("0123456789ABCDEFGHIJKLMNOPQRSTUV"),wo(""),Oo(5),bo("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),wo(""),Eo((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),Oo(6),bo("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),xo(6),wo(""),Oo(6),bo("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),wo(""),Oo(6),bo("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),xo(6),wo(""),Oo(6),bo("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),wo("");const Po=e=>vo(Ao(58),bo(e),wo("")),jo=Po("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Do=e=>vo(No(4,(t=>e(e(t)))),jo);bo("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),wo("");Oo(4),bo("0123456789abcdef"),wo(""),Eo((e=>{if("string"!==typeof e||e.length%2)throw new TypeError("hex.decode: expected string, got ".concat(typeof e," with length ").concat(e.length));return e.toLowerCase()}));const Ro=go.ProjectivePoint,To=Do(Ir);function Io(e){return BigInt("0x".concat(function(e){if(!Zn(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Jn[e[n]];return t}(e)))}function Fo(e){return function(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const t=or(e.charCodeAt(o)),n=or(e.charCodeAt(o+1));if(void 0===t||void 0===n){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}r[i]=16*t+n}return r}(e.toString(16).padStart(64,"0"))}const Lo=ar("Bitcoin seed"),Bo={private:76066276,public:76067358},Mo=2147483648,Uo=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error("Invalid number=".concat(e,". Should be from 0 to 2 ** 32 - 1"));const t=new Uint8Array(4);return Qn(t).setUint32(0,e,!1),t};class zo{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return(e=>Qn(e).getUint32(0,!1))(this.pubHash)}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const e=this.privateKey;if(!e)throw new Error("No private key");return To.encode(this.serialize(this.versions.private,lr(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return To.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bo;if(Vn(e),8*e.length<128||8*e.length>512)throw new Error("HDKey: wrong seed length=".concat(e.length,". Should be between 128 and 512 bits; 256 bits is advised)"));const n=hr(Gr,Lo,e);return new zo({versions:t,chainCode:n.slice(32),privateKey:n.slice(0,32)})}static fromExtendedKey(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bo;const n=To.decode(e),r=Qn(n),i=r.getUint32(0,!1),o={versions:t,depth:n[4],parentFingerprint:r.getUint32(5,!1),index:r.getUint32(9,!1),chainCode:n.slice(13,45)},a=n.slice(45),s=0===a[0];if(i!==t[s?"private":"public"])throw new Error("Version mismatch");return new zo(f(f({},o),{},s?{privateKey:a.slice(1)}:{publicKey:a}))}static fromJSON(e){return zo.fromExtendedKey(e.xpriv)}constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||"object"!==typeof e)throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||Bo,this.depth=e.depth||0,this.chainCode=e.chainCode,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!go.utils.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey="bigint"===typeof e.privateKey?e.privateKey:Io(e.privateKey),this.privKeyBytes=Fo(this.privKey),this.pubKey=go.getPublicKey(e.privateKey,!0)}else{if(!e.publicKey)throw new Error("HDKey: no public or private key provided");this.pubKey=Ro.fromHex(e.publicKey).toRawBytes(!0)}this.pubHash=(e=>Or(Ir(e)))(this.pubKey)}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;const t=e.replace(/^[mM]'?\//,"").split("/");let n=this;for(const r of t){const e=/^(\d+)('?)$/.exec(r);if(!e||3!==e.length)throw new Error("Invalid child index: ".concat(r));let t=+e[1];if(!Number.isSafeInteger(t)||t>=Mo)throw new Error("Invalid index");"'"===e[2]&&(t+=Mo),n=n.deriveChild(t)}return n}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let t=Uo(e);if(e>=Mo){const e=this.privateKey;if(!e)throw new Error("Could not derive hardened child key");t=lr(new Uint8Array([0]),e,t)}else t=lr(this.pubKey,t);const n=hr(Gr,this.chainCode,t),r=Io(n.slice(0,32)),i=n.slice(32);if(!go.utils.isValidPrivateKey(r))throw new Error("Tweak bigger than curve order");const o={versions:this.versions,chainCode:i,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){const e=Ui(this.privKey+r,go.CURVE.n);if(!go.utils.isValidPrivateKey(e))throw new Error("The tweak was out of range or the resulted private key is invalid");o.privateKey=e}else{const e=Ro.fromHex(this.pubKey).add(Ro.fromPrivateKey(r));if(e.equals(Ro.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");o.publicKey=e.toRawBytes(!0)}return new zo(o)}catch(a){return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return Vn(e,32),go.sign(e,this.privKey).toCompactRawBytes()}verify(e,t){if(Vn(e,32),Vn(t,64),!this.publicKey)throw new Error("No publicKey set!");let n;try{n=go.Signature.fromCompact(t)}catch(kU){return!1}return go.verify(n,e,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,t){if(!this.chainCode)throw new Error("No chainCode set");return Vn(t,33),lr(Uo(e),new Uint8Array([this.depth]),Uo(this.parentFingerprint),Uo(this.index),this.chainCode,t)}}const Ho=e=>e instanceof Uint8Array,qo=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function Ko(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}function Vo(e){if("string"===typeof e&&(e=Ko(e)),!Ho(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}function Go(e,t){if(void 0!==t&&("object"!==typeof t||(n=t,"[object Object]"!==Object.prototype.toString.call(n)||n.constructor!==Object)))throw new Error("options must be object or undefined");var n;return Object.assign(e,t)}function Wo(e,t){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");if("number"===typeof t&&e.length!==t)throw new Error("Uint8Array length ".concat(t," expected"))}function Yo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function Zo(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(n,", not of length=").concat(e.length))}const Qo={number:Yo,bool:function(e){if("boolean"!==typeof e)throw new Error("Expected boolean, not ".concat(e))},bytes:Zo,hash:function(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("hash must be wrapped by utils.wrapConstructor");Yo(e.outputLen),Yo(e.blockLen)},exists:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){Zo(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}},$o=Qo,Jo=(e,t)=>255&e[t++]|(255&e[t++])<<8;class Xo{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,Wo(e=Vo(e),32);const t=Jo(e,0),n=Jo(e,2),r=Jo(e,4),i=Jo(e,6),o=Jo(e,8),a=Jo(e,10),s=Jo(e,12),l=Jo(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|n<<3),this.r[2]=7939&(n>>>10|r<<6),this.r[3]=8191&(r>>>7|i<<9),this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,this.r[6]=8191&(o>>>14|a<<2),this.r[7]=8065&(a>>>11|s<<5),this.r[8]=8191&(s>>>8|l<<8),this.r[9]=l>>>5&127;for(let c=0;c<8;c++)this.pad[c]=Jo(e,16+2*c)}process(e,t){const n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?0:2048,{h:r,r:i}=this,o=i[0],a=i[1],s=i[2],l=i[3],c=i[4],u=i[5],d=i[6],h=i[7],f=i[8],p=i[9],g=Jo(e,t+0),y=Jo(e,t+2),m=Jo(e,t+4),v=Jo(e,t+6),b=Jo(e,t+8),w=Jo(e,t+10),x=Jo(e,t+12),E=Jo(e,t+14);let k=r[0]+(8191&g),_=r[1]+(8191&(g>>>13|y<<3)),S=r[2]+(8191&(y>>>10|m<<6)),C=r[3]+(8191&(m>>>7|v<<9)),A=r[4]+(8191&(v>>>4|b<<12)),O=r[5]+(b>>>1&8191),N=r[6]+(8191&(b>>>14|w<<2)),P=r[7]+(8191&(w>>>11|x<<5)),j=r[8]+(8191&(x>>>8|E<<8)),D=r[9]+(E>>>5|n),R=0,T=R+k*o+_*(5*p)+S*(5*f)+C*(5*h)+A*(5*d);R=T>>>13,T&=8191,T+=O*(5*u)+N*(5*c)+P*(5*l)+j*(5*s)+D*(5*a),R+=T>>>13,T&=8191;let I=R+k*a+_*o+S*(5*p)+C*(5*f)+A*(5*h);R=I>>>13,I&=8191,I+=O*(5*d)+N*(5*u)+P*(5*c)+j*(5*l)+D*(5*s),R+=I>>>13,I&=8191;let F=R+k*s+_*a+S*o+C*(5*p)+A*(5*f);R=F>>>13,F&=8191,F+=O*(5*h)+N*(5*d)+P*(5*u)+j*(5*c)+D*(5*l),R+=F>>>13,F&=8191;let L=R+k*l+_*s+S*a+C*o+A*(5*p);R=L>>>13,L&=8191,L+=O*(5*f)+N*(5*h)+P*(5*d)+j*(5*u)+D*(5*c),R+=L>>>13,L&=8191;let B=R+k*c+_*l+S*s+C*a+A*o;R=B>>>13,B&=8191,B+=O*(5*p)+N*(5*f)+P*(5*h)+j*(5*d)+D*(5*u),R+=B>>>13,B&=8191;let M=R+k*u+_*c+S*l+C*s+A*a;R=M>>>13,M&=8191,M+=O*o+N*(5*p)+P*(5*f)+j*(5*h)+D*(5*d),R+=M>>>13,M&=8191;let U=R+k*d+_*u+S*c+C*l+A*s;R=U>>>13,U&=8191,U+=O*a+N*o+P*(5*p)+j*(5*f)+D*(5*h),R+=U>>>13,U&=8191;let z=R+k*h+_*d+S*u+C*c+A*l;R=z>>>13,z&=8191,z+=O*s+N*a+P*o+j*(5*p)+D*(5*f),R+=z>>>13,z&=8191;let H=R+k*f+_*h+S*d+C*u+A*c;R=H>>>13,H&=8191,H+=O*l+N*s+P*a+j*o+D*(5*p),R+=H>>>13,H&=8191;let q=R+k*p+_*f+S*h+C*d+A*u;R=q>>>13,q&=8191,q+=O*c+N*l+P*s+j*a+D*o,R+=q>>>13,q&=8191,R=(R<<2)+R|0,R=R+T|0,T=8191&R,R>>>=13,I+=R,r[0]=T,r[1]=I,r[2]=F,r[3]=L,r[4]=B,r[5]=M,r[6]=U,r[7]=z,r[8]=H,r[9]=q}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=r,r=e[a]>>>13,e[a]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+r,r=n[a]>>>13,n[a]&=8191;n[9]-=8192;let i=(1^r)-1;for(let a=0;a<10;a++)n[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|n[a];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let o=e[0]+t[0];e[0]=65535&o;for(let a=1;a<8;a++)o=(e[a]+t[a]|0)+(o>>>16)|0,e[a]=65535&o}update(e){$o.exists(this);const{buffer:t,blockLen:n}=this,r=(e=Vo(e)).length;for(let i=0;i<r;){const o=Math.min(n-this.pos,r-i);if(o!==n)t.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===n&&(this.process(t,0,!1),this.pos=0);else for(;n<=r-i;i+=n)this.process(e,i)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){$o.exists(this),$o.output(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:r}=this;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=n[o]>>>0,e[i++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}!function(e){const t=(t,n)=>e(n).update(Vo(t)).digest(),n=e(new Uint8Array(32));t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t)}((e=>new Xo(e)));const ea=Ko("expand 16-byte k"),ta=Ko("expand 32-byte k"),na=qo(ea),ra=qo(ta),ia=e=>!(e.byteOffset%4),oa=e=>{const{core:t,rounds:n,counterRight:r,counterLen:i,allow128bitKeys:o,extendNonceFn:a,blockLen:s}=Go({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},e);$o.number(i),$o.number(n),$o.number(s),$o.bool(r),$o.bool(o);const l=s/4;if(s%4!==0)throw new Error("Salsa/ChaCha: blockLen must be aligned to 4 bytes");return function(e,c,u,d){let h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if($o.bytes(e),$o.bytes(c),$o.bytes(u),d||(d=new Uint8Array(u.length)),$o.bytes(d),$o.number(h),h<0||h>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(d.length<u.length)throw new Error("Salsa/ChaCha: output (".concat(d.length,") is shorter than data (").concat(u.length,")"));const f=[];let p,g;if(32===e.length)p=e,g=ra;else{if(16!==e.length||!o)throw new Error("Salsa/ChaCha: invalid 32-byte key, got length=".concat(e.length));p=new Uint8Array(32),p.set(e),p.set(e,16),g=na,f.push(p)}if(a){if(c.length<=16)throw new Error("Salsa/ChaCha: extended nonce must be bigger than 16 bytes");p=a(g,p,c.subarray(0,16),new Uint8Array(32)),f.push(p),c=c.subarray(16)}const y=16-i;if(c.length!==y)throw new Error("Salsa/ChaCha: nonce must be ".concat(y," or 16 bytes"));if(12!==y){const e=new Uint8Array(12);e.set(c,r?0:12-c.length),f.push(c=e)}const m=new Uint8Array(s),v=qo(m),b=qo(p),w=qo(c),x=ia(u)&&qo(u),E=ia(d)&&qo(d);f.push(v);const k=u.length;for(let r=0,i=h;r<k;i++){if(t(g,b,w,v,i,n),i>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");const e=Math.min(s,k-r);if(e===s&&E&&x){const e=r/4;if(r%4!==0)throw new Error("Salsa/ChaCha: invalid block position");for(let t=0;t<l;t++)E[e+t]=x[e+t]^v[t];r+=s}else{for(let t=0;t<e;t++)d[r+t]=u[r+t]^m[t];r+=e}}for(let t=0;t<f.length;t++)f[t].fill(0);return d}},aa=(e,t)=>e<<t|e>>>32-t;function sa(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:20,a=e[0],s=e[1],l=e[2],c=e[3],u=t[0],d=t[1],h=t[2],f=t[3],p=t[4],g=t[5],y=t[6],m=t[7],v=i,b=n[0],w=n[1],x=n[2],E=a,k=s,_=l,S=c,C=u,A=d,O=h,N=f,P=p,j=g,D=y,R=m,T=v,I=b,F=w,L=x;for(let M=0;M<o;M+=2)E=E+C|0,T=aa(T^E,16),P=P+T|0,C=aa(C^P,12),E=E+C|0,T=aa(T^E,8),P=P+T|0,C=aa(C^P,7),k=k+A|0,I=aa(I^k,16),j=j+I|0,A=aa(A^j,12),k=k+A|0,I=aa(I^k,8),j=j+I|0,A=aa(A^j,7),_=_+O|0,F=aa(F^_,16),D=D+F|0,O=aa(O^D,12),_=_+O|0,F=aa(F^_,8),D=D+F|0,O=aa(O^D,7),S=S+N|0,L=aa(L^S,16),R=R+L|0,N=aa(N^R,12),S=S+N|0,L=aa(L^S,8),R=R+L|0,N=aa(N^R,7),E=E+A|0,L=aa(L^E,16),D=D+L|0,A=aa(A^D,12),E=E+A|0,L=aa(L^E,8),D=D+L|0,A=aa(A^D,7),k=k+O|0,T=aa(T^k,16),R=R+T|0,O=aa(O^R,12),k=k+O|0,T=aa(T^k,8),R=R+T|0,O=aa(O^R,7),_=_+N|0,I=aa(I^_,16),P=P+I|0,N=aa(N^P,12),_=_+N|0,I=aa(I^_,8),P=P+I|0,N=aa(N^P,7),S=S+C|0,F=aa(F^S,16),j=j+F|0,C=aa(C^j,12),S=S+C|0,F=aa(F^S,8),j=j+F|0,C=aa(C^j,7);let B=0;r[B++]=a+E|0,r[B++]=s+k|0,r[B++]=l+_|0,r[B++]=c+S|0,r[B++]=u+C|0,r[B++]=d+A|0,r[B++]=h+O|0,r[B++]=f+N|0,r[B++]=p+P|0,r[B++]=g+j|0,r[B++]=y+D|0,r[B++]=m+R|0,r[B++]=v+T|0,r[B++]=b+I|0,r[B++]=w+F|0,r[B++]=x+L|0}const la=oa({core:sa,counterRight:!1,counterLen:4,allow128bitKeys:!1});const ca=new Uint8Array([0]),ua=new Uint8Array;const da=(e,t,n,r,i)=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32;if(w.hash(e),w.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);void 0===n&&(n=ua);const o=new Uint8Array(i*e.outputLen),a=Re.create(e,t),s=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let c=0;c<i;c++)ca[0]=c+1,s.update(0===c?ua:l).update(n).update(ca).digestInto(l),o.set(l,e.outputLen*c),a._cloneInto(s);return a.destroy(),s.destroy(),l.fill(0),ca.fill(0),o.slice(0,r)}(e,function(e,t,n){return w.hash(e),void 0===n&&(n=new Uint8Array(e.outputLen)),Re(e,O(n),O(t))}(e,t,n),r,i);var ha=Object.defineProperty,fa=(e,t)=>{for(var n in t)ha(e,n,{get:t[n],enumerable:!0})};function pa(e){return C(rt.getPublicKey(e))}fa({},{MessageNode:()=>wa,MessageQueue:()=>xa,insertEventIntoAscendingList:()=>ba,insertEventIntoDescendingList:()=>va,normalizeURL:()=>ma,utf8Decoder:()=>ga,utf8Encoder:()=>ya});var ga=new TextDecoder("utf-8"),ya=new TextEncoder;function ma(e){let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),("80"===t.port&&"ws:"===t.protocol||"443"===t.port&&"wss:"===t.protocol)&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function va(e,t){var n;let r,i=0,o=e.length-1,a=i;if(o<0)a=0;else if(t.created_at<e[o].created_at)a=o+1;else if(t.created_at>=e[i].created_at)a=i;else for(;;){if(o<=i+1){a=o;break}if(r=Math.floor(i+(o-i)/2),e[r].created_at>t.created_at)i=r;else{if(!(e[r].created_at<t.created_at)){a=r;break}o=r}}return(null===(n=e[a])||void 0===n?void 0:n.id)!==t.id?[...e.slice(0,a),t,...e.slice(a)]:e}function ba(e,t){var n;let r,i=0,o=e.length-1,a=i;if(o<0)a=0;else if(t.created_at>e[o].created_at)a=o+1;else if(t.created_at<=e[i].created_at)a=i;else for(;;){if(o<=i+1){a=o;break}if(r=Math.floor(i+(o-i)/2),e[r].created_at<t.created_at)i=r;else{if(!(e[r].created_at>t.created_at)){a=r;break}o=r}}return(null===(n=e[a])||void 0===n?void 0:n.id)!==t.id?[...e.slice(0,a),t,...e.slice(a)]:e}var wa=class{get value(){return this._value}set value(e){this._value=e}get next(){return this._next}set next(e){this._next=e}constructor(e){d(this,"_value",void 0),d(this,"_next",void 0),this._value=e,this._next=null}},xa=class{get first(){return this._first}set first(e){this._first=e}get last(){return this._last}set last(e){this._last=e}get size(){return this._size}set size(e){this._size=e}constructor(){d(this,"_first",void 0),d(this,"_last",void 0),d(this,"_size",void 0),this._first=null,this._last=null,this._size=0}enqueue(e){const t=new wa(e);return 0!==this._size&&this._last?(this._last.next=t,this._last=t):(this._first=t,this._last=t),this._size++,!0}dequeue(){if(0===this._size||!this._first)return null;let e=this._first;return this._first=e.next,e.next=null,this._size--,e.value}},Ea=Symbol("verified");function ka(e,t){const n=e;return n.pubkey=pa(t),n.id=_a(n),n.sig=Oa(n,t),n[Ea]=!0,n}function _a(e){return C(z(ya.encode(function(e){if(!Ca(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}(e))))}var Sa=e=>e instanceof Object;function Ca(e){if(!Sa(e))return!1;if("number"!==typeof e.kind)return!1;if("string"!==typeof e.content)return!1;if("number"!==typeof e.created_at)return!1;if("string"!==typeof e.pubkey)return!1;if(!e.pubkey.match(/^[a-f0-9]{64}$/))return!1;if(!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let e=0;e<n.length;e++)if("object"===typeof n[e])return!1}return!0}function Aa(e){if("boolean"===typeof e[Ea])return e[Ea];const t=_a(e);if(t!==e.id)return e[Ea]=!1;try{return e[Ea]=rt.verify(e.sig,t,e.pubkey)}catch(n){return e[Ea]=!1}}function Oa(e,t){return C(rt.sign(_a(e),t))}function Na(e,t){if(e.ids&&-1===e.ids.indexOf(t.id)&&!e.ids.some((e=>t.id.startsWith(e))))return!1;if(e.kinds&&-1===e.kinds.indexOf(t.kind))return!1;if(e.authors&&-1===e.authors.indexOf(t.pubkey)&&!e.authors.some((e=>t.pubkey.startsWith(e))))return!1;for(let n in e)if("#"===n[0]){let r=n.slice(1),i=e["#".concat(r)];if(i&&!t.tags.find((e=>{let[t,r]=e;return t===n.slice(1)&&-1!==i.indexOf(r)})))return!1}return!(e.since&&t.created_at<e.since)&&!(e.until&&t.created_at>e.until)}function Pa(e,t){for(let n=0;n<e.length;n++)if(Na(e[n],t))return!0;return!1}function ja(){let e={};for(let t=0;t<arguments.length;t++){let n=t<0||arguments.length<=t?void 0:arguments[t];Object.entries(n).forEach((t=>{let[n,r]=t;if("kinds"===n||"ids"===n||"authors"===n||"#"===n[0]){e[n]=e[n]||[];for(let t=0;t<r.length;t++){let i=r[t];e[n].includes(i)||e[n].push(i)}}})),n.limit&&(!e.limit||n.limit>e.limit)&&(e.limit=n.limit),n.until&&(!e.until||n.until>e.until)&&(e.until=n.until),n.since&&(!e.since||n.since<e.since)&&(e.since=n.since)}return e}function Da(e,t){let n=t.length+3,r=e.indexOf('"'.concat(t,'":'))+n,i=e.slice(r).indexOf('"')+r+1;return e.slice(i,i+64)}function Ra(e,t){let n=t.length,r=e.indexOf('"'.concat(t,'":'))+n+3,i=e.slice(r),o=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,o),10)}function Ta(e){let t=e.slice(0,22).indexOf('"EVENT"');if(-1===t)return null;let n=e.slice(t+7+1).indexOf('"');if(-1===n)return null;let r=t+7+1+n,i=e.slice(r+1,80).indexOf('"');if(-1===i)return null;let o=r+1+i;return e.slice(r+1,o)}function Ia(e,t){return t===Da(e,"id")}function Fa(e,t){return t===Da(e,"pubkey")}function La(e,t){return t===Ra(e,"kind")}fa({},{getHex64:()=>Da,getInt:()=>Ra,getSubscriptionId:()=>Ta,matchEventId:()=>Ia,matchEventKind:()=>La,matchEventPubkey:()=>Fa});function Ba(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{listTimeout:n=3e3,getTimeout:r=3e3,countTimeout:i=3e3}=t;var o,a,s={},l={connect:[],disconnect:[],error:[],notice:[],auth:[]},c={},u={};function d(){var e;return 1===(null===(e=o)||void 0===e?void 0:e.readyState)}async function h(e){let t=JSON.stringify(e);if(d()||(await new Promise((e=>setTimeout(e,1e3))),d()))try{o.send(t)}catch(n){console.log(n)}}const p=function(e){let{verb:t="REQ",skipVerification:n=!1,alreadyHaveEvent:r=null,id:i=Math.random().toString().slice(2)}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i;s[o]={id:o,filters:e,skipVerification:n,alreadyHaveEvent:r},h([t,o,...e]);let a={sub:function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p(t||e,{skipVerification:i.skipVerification||n,alreadyHaveEvent:i.alreadyHaveEvent||r,id:o})},unsub:()=>{delete s[o],delete c[o],h(["CLOSE",o])},on:(e,t)=>{c[o]=c[o]||{event:[],count:[],eose:[]},c[o][e].push(t)},off:(e,t)=>{let n=c[o],r=n[e].indexOf(t);r>=0&&n[e].splice(r,1)},get events(){return Ma(a)}};return a};function g(e,t){return new Promise(((n,r)=>{if(!e.id)return void r(new Error("event ".concat(e," has no id")));let i=e.id;h([t,e]),u[i]={resolve:n,reject:r}}))}return{url:e,sub:p,on:(e,t)=>{var n;l[e].push(t),"connect"===e&&1===(null===(n=o)||void 0===n?void 0:n.readyState)&&t()},off:(e,t)=>{let n=l[e].indexOf(t);-1!==n&&l[e].splice(n,1)},list:(e,t)=>new Promise((r=>{let i=p(e,t),o=[],a=setTimeout((()=>{i.unsub(),r(o)}),n);i.on("eose",(()=>{i.unsub(),clearTimeout(a),r(o)})),i.on("event",(e=>{o.push(e)}))})),get:(e,t)=>new Promise((n=>{let i=p([e],t),o=setTimeout((()=>{i.unsub(),n(null)}),r);i.on("event",(e=>{i.unsub(),clearTimeout(o),n(e)}))})),count:e=>new Promise((t=>{let n=p(e,f(f({},p),{},{verb:"COUNT"})),r=setTimeout((()=>{n.unsub(),t(null)}),i);n.on("count",(e=>{n.unsub(),clearTimeout(r),t(e)}))})),async publish(e){await g(e,"EVENT")},async auth(e){await g(e,"AUTH")},connect:async function(){d()||await async function(){return a||(a=new Promise(((t,n)=>{try{o=new WebSocket(e)}catch(h){n(h)}o.onopen=()=>{l.connect.forEach((e=>e())),t()},o.onerror=()=>{a=void 0,l.error.forEach((e=>e())),n()},o.onclose=async()=>{a=void 0,l.disconnect.forEach((e=>e()))};let r,i=new xa;function d(){if(0===i.size)return clearInterval(r),void(r=null);var t=i.dequeue();if(!t)return;let n=Ta(t);if(n){let r=s[n];if(r&&r.alreadyHaveEvent&&r.alreadyHaveEvent(Da(t,"id"),e))return}try{let e=JSON.parse(t);switch(e[0]){case"EVENT":{let t=e[1],n=e[2];var o;return void(Ca(n)&&s[t]&&(s[t].skipVerification||Aa(n))&&Pa(s[t].filters,n)&&(s[t],((null===(o=c[t])||void 0===o?void 0:o.event)||[]).forEach((e=>e(n)))))}case"COUNT":let t=e[1],n=e[2];var a;return void(s[t]&&((null===(a=c[t])||void 0===a?void 0:a.count)||[]).forEach((e=>e(n))));case"EOSE":{let t=e[1];return void(t in c&&(c[t].eose.forEach((e=>e())),c[t].eose=[]))}case"OK":{let t=e[1],n=e[2],r=e[3]||"";if(t in u){let{resolve:e,reject:i}=u[t];n?e(null):i(new Error(r))}return}case"NOTICE":let r=e[1];return void l.notice.forEach((e=>e(r)));case"AUTH":{var d;let t=e[1];return void(null===(d=l.auth)||void 0===d||d.forEach((e=>e(t))))}}}catch(h){return}}o.onmessage=e=>{i.enqueue(e.data),r||(r=setInterval(d,0))}})),a)}()},close(){var e;l={connect:[],disconnect:[],error:[],notice:[],auth:[]},c={},u={},(null===(e=o)||void 0===e?void 0:e.readyState)===WebSocket.OPEN&&o.close()},get status(){var e,t;return null!==(e=null===(t=o)||void 0===t?void 0:t.readyState)&&void 0!==e?e:3}}}function Ma(e){return Ua.apply(this,arguments)}function Ua(){return Ua=function(e){return function(){return new y(e.apply(this,arguments))}}((function*(e){let t;const n=[],r=e=>{t?(t(e),t=void 0):n.push(e)};e.on("event",r);try{for(;;)if(n.length>0)yield n.shift();else{const e=yield g(new Promise((e=>{t=e})));yield e}}finally{e.off("event",r)}})),Ua.apply(this,arguments)}var za=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,"_conn",void 0),d(this,"_seenOn",{}),d(this,"batchedByKey",{}),d(this,"eoseSubTimeout",void 0),d(this,"getTimeout",void 0),d(this,"seenOnEnabled",!0),d(this,"batchInterval",100),this._conn={},this.eoseSubTimeout=e.eoseSubTimeout||3400,this.getTimeout=e.getTimeout||3400,this.seenOnEnabled=!1!==e.seenOnEnabled,this.batchInterval=e.batchInterval||100}close(e){e.forEach((e=>{let t=this._conn[ma(e)];t&&t.close()}))}async ensureRelay(e){const t=ma(e);this._conn[t]||(this._conn[t]=Ba(t,{getTimeout:.9*this.getTimeout,listTimeout:.9*this.getTimeout}));const n=this._conn[t];return await n.connect(),n}sub(e,t,n){let r=new Set,i=f({},n||{});i.alreadyHaveEvent=(e,t)=>{var i;if(null!==n&&void 0!==n&&null!==(i=n.alreadyHaveEvent)&&void 0!==i&&i.call(n,e,t))return!0;if(this.seenOnEnabled){let n=this._seenOn[e]||new Set;n.add(t),this._seenOn[e]=n}return r.has(e)};let o=[],a=new Set,s=new Set,l=e.length,c=!1,u=setTimeout((()=>{c=!0;for(let e of s.values())e()}),(null===n||void 0===n?void 0:n.eoseSubTimeout)||this.eoseSubTimeout);e.filter(((e,t,n)=>n.indexOf(e)===t)).forEach((async e=>{let n;try{n=await this.ensureRelay(e)}catch(f){return void h()}if(!n)return;let d=n.sub(t,i);function h(){if(l--,0===l){clearTimeout(u);for(let e of s.values())e()}}d.on("event",(e=>{r.add(e.id);for(let t of a.values())t(e)})),d.on("eose",(()=>{c||h()})),o.push(d)}));let d={sub:(e,t)=>(o.forEach((n=>n.sub(e,t))),d),unsub(){o.forEach((e=>e.unsub()))},on(e,t){"event"===e?a.add(t):"eose"===e&&s.add(t)},off(e,t){"event"===e?a.delete(t):"eose"===e&&s.delete(t)},get events(){return Ma(d)}};return d}get(e,t,n){return new Promise((r=>{let i=this.sub(e,[t],n),o=setTimeout((()=>{i.unsub(),r(null)}),this.getTimeout);i.on("event",(e=>{r(e),clearTimeout(o),i.unsub()}))}))}list(e,t,n){return new Promise((r=>{let i=[],o=this.sub(e,t,n);o.on("event",(e=>{i.push(e)})),o.on("eose",(()=>{o.unsub(),r(i)}))}))}batchedList(e,t,n){return new Promise((r=>{this.batchedByKey[e]?this.batchedByKey[e].push({filters:n,relays:t,resolve:r,events:[]}):(this.batchedByKey[e]=[{filters:n,relays:t,resolve:r,events:[]}],setTimeout((()=>{Object.keys(this.batchedByKey).forEach((async e=>{const t=this.batchedByKey[e],n=[],r=[];t.forEach((e=>{n.push(...e.filters),r.push(...e.relays)}));const i=this.sub(r,[ja(...n)]);i.on("event",(e=>{t.forEach((t=>Pa(t.filters,e)&&t.events.push(e)))})),i.on("eose",(()=>{i.unsub(),t.forEach((e=>e.resolve(e.events)))})),delete this.batchedByKey[e]}))}),this.batchInterval))}))}publish(e,t){return e.map((async e=>(await this.ensureRelay(e)).publish(t)))}seenOn(e){var t,n;return Array.from((null===(t=this._seenOn[e])||void 0===t||null===(n=t.values)||void 0===n?void 0:n.call(t))||[])}},Ha={};fa(Ha,{BECH32_REGEX:()=>Ka,decode:()=>Va,naddrEncode:()=>es,neventEncode:()=>Xa,noteEncode:()=>Za,nprofileEncode:()=>Ja,npubEncode:()=>Ya,nrelayEncode:()=>ts,nsecEncode:()=>Wa});var qa=5e3,Ka=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function Va(e){let{prefix:t,words:n}=Pt.decode(e,qa),r=new Uint8Array(Pt.fromWords(n));switch(t){case"nprofile":{var i;let e=Ga(r);if(null===(i=e[0])||void 0===i||!i[0])throw new Error("missing TLV 0 for nprofile");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:C(e[0][0]),relays:e[1]?e[1].map((e=>ga.decode(e))):[]}}}case"nevent":{var o,a,s;let e=Ga(r);if(null===(o=e[0])||void 0===o||!o[0])throw new Error("missing TLV 0 for nevent");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");if(e[2]&&32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(e[3]&&4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:C(e[0][0]),relays:e[1]?e[1].map((e=>ga.decode(e))):[],author:null!==(a=e[2])&&void 0!==a&&a[0]?C(e[2][0]):void 0,kind:null!==(s=e[3])&&void 0!==s&&s[0]?parseInt(C(e[3][0]),16):void 0}}}case"naddr":{var l,c,u;let e=Ga(r);if(null===(l=e[0])||void 0===l||!l[0])throw new Error("missing TLV 0 for naddr");if(null===(c=e[2])||void 0===c||!c[0])throw new Error("missing TLV 2 for naddr");if(32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(null===(u=e[3])||void 0===u||!u[0])throw new Error("missing TLV 3 for naddr");if(4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:ga.decode(e[0][0]),pubkey:C(e[2][0]),kind:parseInt(C(e[3][0]),16),relays:e[1]?e[1].map((e=>ga.decode(e))):[]}}}case"nrelay":{var d;let e=Ga(r);if(null===(d=e[0])||void 0===d||!d[0])throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:ga.decode(e[0][0])}}case"nsec":case"npub":case"note":return{type:t,data:C(r)};default:throw new Error("unknown prefix ".concat(t))}}function Ga(e){let t={},n=e;for(;n.length>0;){let e=n[0],r=n[1];if(!r)throw new Error("malformed TLV ".concat(e));let i=n.slice(2,2+r);if(n=n.slice(2+r),i.length<r)throw new Error("not enough data to read on TLV ".concat(e));t[e]=t[e]||[],t[e].push(i)}return t}function Wa(e){return $a("nsec",e)}function Ya(e){return $a("npub",e)}function Za(e){return $a("note",e)}function Qa(e,t){let n=Pt.toWords(t);return Pt.encode(e,n,qa)}function $a(e,t){return Qa(e,A(t))}function Ja(e){return Qa("nprofile",ns({0:[A(e.pubkey)],1:(e.relays||[]).map((e=>ya.encode(e)))}))}function Xa(e){let t;return void 0!=e.kind&&(t=function(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=255&e,t}(e.kind)),Qa("nevent",ns({0:[A(e.id)],1:(e.relays||[]).map((e=>ya.encode(e))),2:e.author?[A(e.author)]:[],3:t?[new Uint8Array(t)]:[]}))}function es(e){let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e.kind,!1),Qa("naddr",ns({0:[ya.encode(e.identifier)],1:(e.relays||[]).map((e=>ya.encode(e))),2:[A(e.pubkey)],3:[new Uint8Array(t)]}))}function ts(e){return Qa("nrelay",ns({0:[ya.encode(e)]}))}function ns(e){let t=[];return Object.entries(e).forEach((e=>{let[n,r]=e;r.forEach((e=>{let r=new Uint8Array(e.length+2);r.set([parseInt(n)],0),r.set([e.length],1),r.set(e,2),t.push(r)}))})),N(...t)}var rs={};async function is(e,t,n){const r=as(ze.getSharedSecret(e,"02"+t));let i=Uint8Array.from(D(16)),o=ya.encode(n),a=await crypto.subtle.importKey("raw",r,{name:"AES-CBC"},!1,["encrypt"]),s=await crypto.subtle.encrypt({name:"AES-CBC",iv:i},a,o),l=bt.encode(new Uint8Array(s)),c=bt.encode(new Uint8Array(i.buffer));return"".concat(l,"?iv=").concat(c)}async function os(e,t,n){let[r,i]=n.split("?iv="),o=as(ze.getSharedSecret(e,"02"+t)),a=await crypto.subtle.importKey("raw",o,{name:"AES-CBC"},!1,["decrypt"]),s=bt.decode(r),l=bt.decode(i),c=await crypto.subtle.decrypt({name:"AES-CBC",iv:l},a,s);return ga.decode(c)}function as(e){return e.slice(1,33)}fa(rs,{decrypt:()=>os,encrypt:()=>is}),"undefined"!==typeof crypto&&!crypto.subtle&&crypto.webcrypto&&(crypto.subtle=crypto.webcrypto.subtle);fa({},{NIP05_REGEX:()=>ls,queryProfile:()=>ds,searchDomain:()=>us,useFetchImplementation:()=>cs});var ss,ls=/^(?:([\w.+-]+)@)?([\w.-]+)$/;try{ss=fetch}catch(cY){}function cs(e){ss=e}async function us(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return(await(await ss("https://".concat(e,"/.well-known/nostr.json?name=").concat(t))).json()).names}catch(n){return{}}}async function ds(e){const t=e.match(ls);if(!t)return null;const[n,r="_",i]=t;try{const e=await ss("https://".concat(i,"/.well-known/nostr.json?name=").concat(r)),{names:t,relays:n}=function(e){const t={names:{}};for(const[n,r]of Object.entries(e.names))"string"===typeof n&&"string"===typeof r&&(t.names[n]=r);if(e.relays){t.relays={};for(const[n,r]of Object.entries(e.relays))"string"===typeof n&&Array.isArray(r)&&(t.relays[n]=r.filter((e=>"string"===typeof e)))}return t}(await e.json()),o=t[r];return o?{pubkey:o,relays:null===n||void 0===n?void 0:n[o]}:null}catch(o){return null}}function hs(e,t){let n=zo.fromMasterSeed(qn(e,t)).derive("m/44'/1237'/0'/0/0").privateKey;if(!n)throw new Error("could not derive private key");return C(n)}function fs(){return Bn(Tt)}function ps(e){return zn(e,Tt)}fa({},{generateSeedWords:()=>fs,privateKeyFromSeedWords:()=>hs,validateWords:()=>ps});var gs={};function ys(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[]},n=[];for(const r of e.tags)"e"===r[0]&&r[1]&&n.push(r),"p"===r[0]&&r[1]&&t.profiles.push({pubkey:r[1],relays:r[2]?[r[2]]:[]});for(let r=0;r<n.length;r++){const e=n[r],[i,o,a,s]=e,l={id:o,relays:a?[a]:[]},c=0===r,u=r===n.length-1;"root"!==s?"reply"!==s?"mention"!==s?c?t.root=l:u?t.reply=l:t.mentions.push(l):t.mentions.push(l):t.reply=l:t.root=l}return t}fa(gs,{parse:()=>ys});function ms(e){let t=0;for(let n=0;n<e.length;n++){const r=parseInt(e[n],16);if(0!==r){t+=Math.clz32(r)-28;break}t+=4}return t}function vs(e,t){let n=0;const r=e,i=["nonce",n.toString(),t.toString()];for(r.tags.push(i);;){const e=Math.floor((new Date).getTime()/1e3);if(e!==r.created_at&&(n=0,r.created_at=e),i[1]=(++n).toString(),r.id=_a(r),ms(r.id)>=t)break}return r}fa({},{getPow:()=>ms,minePow:()=>vs});function bs(e,t,n,r){var i;return ka({kind:6,tags:[...null!==(i=e.tags)&&void 0!==i?i:[],["e",t.id,n],["p",t.pubkey]],content:""===e.content?"":JSON.stringify(t),created_at:e.created_at},r)}function ws(e){var t,n;if(6!==e.kind)return;let r,i;for(let o=e.tags.length-1;o>=0&&(void 0===r||void 0===i);o--){const t=e.tags[o];t.length>=2&&("e"===t[0]&&void 0===r?r=t:"p"===t[0]&&void 0===i&&(i=t))}return void 0!==r?{id:r[1],relays:[r[2],null===(t=i)||void 0===t?void 0:t[2]].filter((e=>"string"===typeof e)),author:null===(n=i)||void 0===n?void 0:n[1]}:void 0}function xs(e){let{skipVerification:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ws(e);if(void 0===n||""===e.content)return;let r;try{r=JSON.parse(e.content)}catch(kU){return}return r.id===n.id&&(t||Aa(r))?r:void 0}fa({},{finishRepostEvent:()=>bs,getRepostedEvent:()=>xs,getRepostedEventPointer:()=>ws});fa({},{NOSTR_URI_REGEX:()=>Es,parse:()=>_s,test:()=>ks});var Es=new RegExp("nostr:(".concat(Ka.source,")"));function ks(e){return"string"===typeof e&&new RegExp("^".concat(Es.source,"$")).test(e)}function _s(e){const t=e.match(new RegExp("^".concat(Es.source,"$")));if(!t)throw new Error("Invalid Nostr URI: ".concat(e));return{uri:t[0],value:t[1],decoded:Va(t[1])}}function Ss(e,t,n){var r,i;const o=t.tags.filter((e=>e.length>=2&&("e"===e[0]||"p"===e[0])));return ka(f(f({},e),{},{kind:7,tags:[...null!==(r=e.tags)&&void 0!==r?r:[],...o,["e",t.id],["p",t.pubkey]],content:null!==(i=e.content)&&void 0!==i?i:"+"}),n)}function Cs(e){if(7!==e.kind)return;let t,n;for(let r=e.tags.length-1;r>=0&&(void 0===t||void 0===n);r--){const i=e.tags[r];i.length>=2&&("e"===i[0]&&void 0===t?t=i:"p"===i[0]&&void 0===n&&(n=i))}return void 0!==t&&void 0!==n?{id:t[1],relays:[t[2],n[2]].filter((e=>void 0!==e)),author:n[1]}:void 0}fa({},{finishReactionEvent:()=>Ss,getReactedEventPointer:()=>Cs});function As(e,t){let n=[];(t.kind||-1)>=0&&n.push("kind=".concat(t.kind)),t.until&&n.push("created_at<".concat(t.until)),t.since&&n.push("created_at>".concat(t.since));let r=n.join("&");if(""===r)throw new Error("refusing to create a delegation without any conditions");let i=z(ya.encode("nostr:delegation:".concat(t.pubkey,":").concat(r))),o=C(rt.sign(i,e));return{from:pa(e),to:t.pubkey,cond:r,sig:o}}function Os(e){let t=e.tags.find((e=>"delegation"===e[0]&&e.length>=4));if(!t)return null;let n=t[1],r=t[2],i=t[3],o=r.split("&");for(let s=0;s<o.length;s++){let[t,n,r]=o[s].split(/\b/);if(("kind"!==t||"="!==n||e.kind!==parseInt(r))&&(!("created_at"===t&&"<"===n&&e.created_at<parseInt(r))&&!("created_at"===t&&">"===n&&e.created_at>parseInt(r))))return null}let a=z(ya.encode("nostr:delegation:".concat(e.pubkey,":").concat(r)));return rt.verify(i,a,n)?n:null}fa({},{createDelegation:()=>As,getDelegator:()=>Os});fa({},{matchAll:()=>Ps,regex:()=>Ns,replaceAll:()=>js});var Ns=()=>new RegExp("\\b".concat(Es.source,"\\b"),"g");function*Ps(e){const t=e.matchAll(Ns());for(const r of t)try{const[e,t]=r;yield{uri:e,value:t,decoded:Va(t),start:r.index,end:r.index+e.length}}catch(n){}}function js(e,t){return e.replaceAll(Ns(),((e,n)=>t({uri:e,value:n,decoded:Va(n)})))}fa({},{channelCreateEvent:()=>Rs,channelHideMessageEvent:()=>Fs,channelMessageEvent:()=>Is,channelMetadataEvent:()=>Ts,channelMuteUserEvent:()=>Ls});var Ds,Rs=(e,t)=>{var n;let r;if("object"===typeof e.content)r=JSON.stringify(e.content);else{if("string"!==typeof e.content)return;r=e.content}return ka({kind:40,tags:[...null!==(n=e.tags)&&void 0!==n?n:[]],content:r,created_at:e.created_at},t)},Ts=(e,t)=>{var n;let r;if("object"===typeof e.content)r=JSON.stringify(e.content);else{if("string"!==typeof e.content)return;r=e.content}return ka({kind:41,tags:[["e",e.channel_create_event_id],...null!==(n=e.tags)&&void 0!==n?n:[]],content:r,created_at:e.created_at},t)},Is=(e,t)=>{var n;const r=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&r.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),ka({kind:42,tags:[...r,...null!==(n=e.tags)&&void 0!==n?n:[]],content:e.content,created_at:e.created_at},t)},Fs=(e,t)=>{var n;let r;if("object"===typeof e.content)r=JSON.stringify(e.content);else{if("string"!==typeof e.content)return;r=e.content}return ka({kind:43,tags:[["e",e.channel_message_event_id],...null!==(n=e.tags)&&void 0!==n?n:[]],content:r,created_at:e.created_at},t)},Ls=(e,t)=>{var n;let r;if("object"===typeof e.content)r=JSON.stringify(e.content);else{if("string"!==typeof e.content)return;r=e.content}return ka({kind:44,tags:[["p",e.pubkey_to_mute],...null!==(n=e.tags)&&void 0!==n?n:[]],content:r,created_at:e.created_at},t)};fa({},{useFetchImplementation:()=>Bs,validateGithub:()=>Ms});try{Ds=fetch}catch(uY){}function Bs(e){Ds=e}async function Ms(e,t,n){try{return await(await Ds("https://gist.github.com/".concat(t,"/").concat(n,"/raw"))).text()==="Verifying that I control the following Nostr public key: ".concat(e)}catch(r){return!1}}fa({},{authenticate:()=>Us});var Us=async e=>{let{challenge:t,relay:n,sign:r}=e;const i={kind:22242,created_at:Math.floor(Date.now()/1e3),tags:[["relay",n.url],["challenge",t]],content:""};return n.auth(await r(i))};fa({},{decrypt:()=>qs,encrypt:()=>Hs,utils:()=>zs});var zs={v2:{maxPlaintextSize:65408,minCiphertextSize:100,maxCiphertextSize:102400,getConversationKey:(e,t)=>ze.getSharedSecret(e,"02"+t).subarray(1,33),getMessageKeys(e,t){const n=da(z,e,t,"nip44-v2",76);return{encryption:n.subarray(0,32),nonce:n.subarray(32,44),auth:n.subarray(44,76)}},calcPadding(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)},pad(e){const t=ya.encode(e),n=t.length;if(n<1||n>=zs.v2.maxPlaintextSize)throw new Error("invalid plaintext length: must be between 1b and 64KB");const r=zs.v2.calcPadding(n),i=new Uint8Array(r-n),o=new Uint8Array(2);return new DataView(o.buffer).setUint16(0,n),N(o,t,i)},unpad(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(0===t||n.length!==t||e.length!==2+zs.v2.calcPadding(t))throw new Error("invalid padding");return ga.decode(n)}}};function Hs(e,t){var n,r;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=null!==(n=i.version)&&void 0!==n?n:2;if(2!==o)throw new Error("unknown encryption version "+o);const a=null!==(r=i.salt)&&void 0!==r?r:D(32);Wo(a,32);const s=zs.v2.getMessageKeys(e,a),l=zs.v2.pad(t),c=la(s.encryption,s.nonce,l),u=Re(z,s.auth,c);return bt.encode(N(new Uint8Array([o]),a,c,u))}function qs(e,t){const n=zs.v2;Wo(e,32);const r=t.length;if(r<n.minCiphertextSize||r>=n.maxCiphertextSize)throw new Error("invalid ciphertext length: "+r);if("#"===t[0])throw new Error("unknown encryption version");let i;try{i=bt.decode(t)}catch(kU){throw new Error("invalid base64: "+kU.message)}const o=i.subarray(0,1)[0];if(2!==o)throw new Error("unknown encryption version "+o);const a=i.subarray(1,33),s=i.subarray(33,-32),l=i.subarray(-32),c=n.getMessageKeys(e,a);if(!function(e,t){if(e.length!==t.length)throw new Error("equalBytes: Different size of Uint8Arrays");let n=!0;for(let r=0;r<e.length;r++)n&&(n=e[r]===t[r]);return n}(Re(z,c.auth,s),l))throw new Error("invalid MAC");const u=la(c.encryption,c.nonce,s);return n.unpad(u)}function Ks(e){const{pathname:t,searchParams:n}=new URL(e),r=t,i=n.get("relay"),o=n.get("secret");if(!r||!i||!o)throw new Error("invalid connection string");return{pubkey:r,relay:i,secret:o}}async function Vs(e){let{pubkey:t,secret:n,invoice:r}=e;const i={method:"pay_invoice",params:{invoice:r}},o=await is(n,t,JSON.stringify(i));return ka({kind:23194,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",t]]},n)}fa({},{makeNwcRequestEvent:()=>Vs,parseConnectionString:()=>Ks});var Gs,Ws={};fa(Ws,{getZapEndpoint:()=>Zs,makeZapReceipt:()=>Js,makeZapRequest:()=>Qs,useFetchImplementation:()=>Ys,validateZapRequest:()=>$s});try{Gs=fetch}catch(dY){}function Ys(e){Gs=e}async function Zs(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:e}=Pt.decode(n,1e3),r=Pt.fromWords(e);t=ga.decode(r)}else{if(!r)return null;{let[e,n]=r.split("@");t="https://".concat(n,"/.well-known/lnurlp/").concat(e)}}let i=await Gs(t),o=await i.json();if(o.allowsNostr&&o.nostrPubkey)return o.callback}catch(t){}return null}function Qs(e){let{profile:t,event:n,amount:r,relays:i,comment:o=""}=e;if(!r)throw new Error("amount not given");if(!t)throw new Error("profile not given");let a={kind:9734,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",t],["amount",r.toString()],["relays",...i]]};return n&&a.tags.push(["e",n]),a}function $s(e){let t;try{t=JSON.parse(e)}catch(o){return"Invalid zap request JSON."}if(!Ca(t))return"Zap request is not a valid Nostr event.";if(!Aa(t))return"Invalid signature on zap request.";let n=t.tags.find((e=>{let[t,n]=e;return"p"===t&&n}));if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find((e=>{let[t,n]=e;return"e"===t&&n}));if(r&&!r[1].match(/^[a-f0-9]{64}$/))return"Zap request 'e' tag is not valid hex.";let i=t.tags.find((e=>{let[t,n]=e;return"relays"===t&&n}));return i?null:"Zap request doesn't have a 'relays' tag."}function Js(e){let{zapRequest:t,preimage:n,bolt11:r,paidAt:i}=e,o=JSON.parse(t).tags.filter((e=>{let[t]=e;return"e"===t||"p"===t||"a"===t})),a={kind:9735,created_at:Math.round(i.getTime()/1e3),content:"",tags:[...o,["bolt11",r],["description",t]]};return n&&a.tags.push(["preimage",n]),a}fa({},{getToken:()=>el,unpackEventFromToken:()=>nl,validateEvent:()=>rl,validateToken:()=>tl});var Xs="Nostr ";async function el(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e||!t)throw new Error("Missing loginUrl or httpMethod");const i=function(){return{kind:arguments.length>0&&void 0!==arguments[0]?arguments[0]:255,content:"",tags:[],created_at:0}}(27235);i.tags=[["u",e],["method",t]],i.created_at=Math.round((new Date).getTime()/1e3);const o=await n(i);return(r?Xs:"")+bt.encode(ya.encode(JSON.stringify(o)))}async function tl(e,t,n){const r=await nl(e).catch((e=>{throw e})),i=await rl(r,t,n).catch((e=>{throw e}));return i}async function nl(e){if(!e)throw new Error("Missing token");e=e.replace(Xs,"");const t=ga.decode(bt.decode(e));if(!t||0===t.length||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}async function rl(e,t,n){if(!e)throw new Error("Invalid nostr event");if(!Aa(e))throw new Error("Invalid nostr event, signature invalid");if(27235!==e.kind)throw new Error("Invalid nostr event, kind invalid");if(!e.created_at)throw new Error("Invalid nostr event, created_at invalid");if(Math.round((new Date).getTime()/1e3)-e.created_at>60)throw new Error("Invalid nostr event, expired");const r=e.tags.find((e=>"u"===e[0]));if(1!==(null===r||void 0===r?void 0:r.length)&&(null===r||void 0===r?void 0:r[1])!==t)throw new Error("Invalid nostr event, url tag invalid");const i=e.tags.find((e=>"method"===e[0]));if(1!==(null===i||void 0===i?void 0:i.length)&&(null===i||void 0===i?void 0:i[1].toLowerCase())!==n.toLowerCase())throw new Error("Invalid nostr event, method tag invalid");return!0}function il(e,t){return il=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},il(e,t)}function ol(){ol=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,i){var o=RegExp(e,r);return t.set(o,i||t.get(e)),il(o,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){var i=r[n];if("number"==typeof i)t[n]=e[i];else{for(var o=0;void 0===e[i[o]]&&o+1<i.length;)o++;t[n]=e[i[o]]}return t}),Object.create(null))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&il(e,t)}(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=r(n,this);var i=n.indices;i&&(i.groups=r(i,this))}return n},n.prototype[Symbol.replace]=function(n,i){if("string"==typeof i){var o=t.get(this);return e[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)>/g,(function(e,t){var n=o[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof i){var a=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=c(e[e.length-1])&&(e=[].slice.call(e)).push(r(e,a)),i.apply(this,e)}))}return e[Symbol.replace].call(this,n,i)},ol.apply(this,arguments)}var al=__webpack_require__(3728),sl=__webpack_require__(255);function ll(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function cl(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(n,", not of length=").concat(e.length))}function ul(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");ll(e.outputLen),ll(e.blockLen)}function dl(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function hl(e,t){cl(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}const fl="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,pl=e=>e instanceof Uint8Array,gl=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),yl=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function ml(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}(e)),!pl(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}class vl{clone(){return this._cloneInto()}}function bl(e){const t=t=>e().update(ml(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function wl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(fl&&"function"===typeof fl.getRandomValues)return fl.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class xl extends vl{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=gl(this.buffer)}update(e){dl(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=ml(e)).length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);if(a!==r)n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=gl(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){dl(this),hl(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let u=o;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,a,r),e.setUint32(t+c,s,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const a=gl(e),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=s/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)a.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:a}=this;return e.length=r,e.pos=a,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const El=(e,t,n)=>e&t^~e&n,kl=(e,t,n)=>e&t^e&n^t&n,_l=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Sl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Cl=new Uint32Array(64);class Al extends xl{constructor(){super(64,32,8,!1),this.A=0|Sl[0],this.B=0|Sl[1],this.C=0|Sl[2],this.D=0|Sl[3],this.E=0|Sl[4],this.F=0|Sl[5],this.G=0|Sl[6],this.H=0|Sl[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:a,H:s}=this;return[e,t,n,r,i,o,a,s]}set(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let u=0;u<16;u++,t+=4)Cl[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=Cl[u-15],t=Cl[u-2],n=yl(e,7)^yl(e,18)^e>>>3,r=yl(t,17)^yl(t,19)^t>>>10;Cl[u]=r+Cl[u-7]+n+Cl[u-16]|0}let{A:n,B:r,C:i,D:o,E:a,F:s,G:l,H:c}=this;for(let u=0;u<64;u++){const e=c+(yl(a,6)^yl(a,11)^yl(a,25))+El(a,s,l)+_l[u]+Cl[u]|0,t=(yl(n,2)^yl(n,13)^yl(n,22))+kl(n,r,i)|0;c=l,l=s,s=a,a=o+e|0,o=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,i,o,a,s,l,c)}roundClean(){Cl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ol=bl((()=>new Al)),Nl=(BigInt(0),BigInt(1)),Pl=BigInt(2),jl=e=>e instanceof Uint8Array,Dl=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Rl(e){if(!jl(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Dl[e[n]];return t}function Tl(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":"0x".concat(e))}function Il(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,i=e.slice(t,t+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function Fl(e){return Tl(Rl(e))}function Ll(e){if(!jl(e))throw new Error("Uint8Array expected");return Tl(Rl(Uint8Array.from(e).reverse()))}function Bl(e,t){return Il(e.toString(16).padStart(2*t,"0"))}function Ml(e,t){return Bl(e,t).reverse()}function Ul(e,t,n){let r;if("string"===typeof t)try{r=Il(t)}catch(oR){throw new Error("".concat(e,' must be valid hex string, got "').concat(t,'". Cause: ').concat(oR))}else{if(!jl(t))throw new Error("".concat(e," must be hex string or Uint8Array"));r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error("".concat(e," expected ").concat(n," bytes, got ").concat(i));return r}function zl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!jl(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}const Hl=e=>(Pl<<BigInt(e-1))-Nl,ql=e=>new Uint8Array(e),Kl=e=>Uint8Array.from(e);function Vl(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=ql(e),i=ql(e),o=0;const a=()=>{r.fill(1),i.fill(0),o=0},s=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n(i,r,...t)},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ql();i=s(Kl([0]),e),r=s(),0!==e.length&&(i=s(Kl([1]),e),r=s())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=s();const t=r.slice();n.push(t),e+=r.length}return zl(...n)};return(e,t)=>{let n;for(a(),l(e);!(n=t(c()));)l();return a(),n}}const Gl={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function Wl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=Gl[n];if("function"!==typeof i)throw new Error('Invalid validator "'.concat(n,'", expected function'));const o=e[t];if((!r||void 0!==o)&&!i(o,e))throw new Error("Invalid param ".concat(String(t),"=").concat(o," (").concat(typeof o,"), expected ").concat(n))};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}const Yl=BigInt(0),Zl=BigInt(1),Ql=BigInt(2),$l=BigInt(3),Jl=BigInt(4),Xl=BigInt(5),ec=BigInt(8);BigInt(9),BigInt(16);function tc(e,t){const n=e%t;return n>=Yl?n:t+n}function nc(e,t,n){if(n<=Yl||t<Yl)throw new Error("Expected power/modulo > 0");if(n===Zl)return Yl;let r=Zl;for(;t>Yl;)t&Zl&&(r=r*e%n),e=e*e%n,t>>=Zl;return r}function rc(e,t,n){let r=e;for(;t-- >Yl;)r*=r,r%=n;return r}function ic(e,t){if(e===Yl||t<=Yl)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));let n=tc(e,t),r=t,i=Yl,o=Zl,a=Zl,s=Yl;for(;n!==Yl;){const e=r/n,t=r%n,l=i-a*e,c=o-s*e;r=n,n=t,i=a,o=s,a=l,s=c}if(r!==Zl)throw new Error("invert: does not exist");return tc(i,t)}function oc(e){if(e%Jl===$l){const t=(e+Zl)/Jl;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%ec===Xl){const t=(e-Xl)/ec;return function(e,n){const r=e.mul(n,Ql),i=e.pow(r,t),o=e.mul(n,i),a=e.mul(e.mul(o,Ql),i),s=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(s),n))throw new Error("Cannot find square root");return s}}return function(e){const t=(e-Zl)/Ql;let n,r,i;for(n=e-Zl,r=0;n%Ql===Yl;n/=Ql,r++);for(i=Ql;i<e&&nc(i,t,e)!==e-Zl;i++);if(1===r){const t=(e+Zl)/Jl;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const o=(n+Zl)/Ql;return function(e,a){if(e.pow(a,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let s=r,l=e.pow(e.mul(e.ONE,i),n),c=e.pow(a,o),u=e.pow(a,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(l,Zl<<BigInt(s-t-1));l=e.sqr(n),c=e.mul(c,n),u=e.mul(u,l),s=t}return c}}(e)}const ac=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sc(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function lc(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function cc(e){const t=lc(e);return t+Math.ceil(t/2)}class uc extends vl{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,ul(e);const n=ml(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return dl(this),this.iHash.update(e),this}digestInto(e){dl(this),cl(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const dc=(e,t,n)=>new uc(e,t).update(n).digest();dc.create=(e,t)=>new uc(e,t);const hc=BigInt(0),fc=BigInt(1);function pc(e){return function(e){const t=ac.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});Wl(e,t)}(e.Fp),Wl(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(f(f(f({},sc(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}const{Ph:gc,aT:yc}=n,mc={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=mc;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:gc(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=mc,n="string"===typeof e?yc(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=mc._parseInt(n.subarray(2)),{d:a,l:s}=mc._parseInt(o);if(s.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?"0".concat(t):t},r=t(n(e.s)),i=t(n(e.r)),o=r.length/2,a=i.length/2,s=n(o),l=n(a);return"30".concat(n(a+o+4),"02").concat(l).concat(i,"02").concat(s).concat(r)}},vc=BigInt(0),bc=BigInt(1),wc=(BigInt(2),BigInt(3));BigInt(4);function xc(e){const t=function(e){const t=pc(e);Wl(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze(f({},t))}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return zl(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:i}=t,o=n.sqr(e),a=n.mul(o,e);return n.add(n.add(a,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){return"bigint"===typeof e&&vc<e&&e<t.n}function s(e){if(!a(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:o}=t;if(n&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=Rl(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let a;try{a="bigint"===typeof e?e:Fl(Ul("private key",e,r))}catch(kU){throw new Error("private key must be ".concat(r," bytes, hex or bigint, not ").concat(typeof e))}return i&&(a=tc(a,o)),s(a),a}const c=new Map;function u(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(i(Ul("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),a=o(e);if(!n.eql(i,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:r,pz:i}=this,{px:o,py:a,pz:s}=e,l=n.eql(n.mul(t,s),n.mul(o,i)),c=n.eql(n.mul(r,s),n.mul(a,i));return l&&c}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,wc),{px:o,py:a,pz:s}=this;let l=n.ZERO,c=n.ZERO,u=n.ZERO,h=n.mul(o,o),f=n.mul(a,a),p=n.mul(s,s),g=n.mul(o,a);return g=n.add(g,g),u=n.mul(o,s),u=n.add(u,u),l=n.mul(e,u),c=n.mul(i,p),c=n.add(l,c),l=n.sub(f,c),c=n.add(f,c),c=n.mul(l,c),l=n.mul(g,l),u=n.mul(i,u),p=n.mul(e,p),g=n.sub(h,p),g=n.mul(e,g),g=n.add(g,u),u=n.add(h,h),h=n.add(u,h),h=n.add(h,p),h=n.mul(h,g),c=n.add(c,h),p=n.mul(a,s),p=n.add(p,p),h=n.mul(p,g),l=n.sub(l,h),u=n.mul(p,f),u=n.add(u,u),u=n.add(u,u),new d(l,c,u)}add(e){u(e);const{px:r,py:i,pz:o}=this,{px:a,py:s,pz:l}=e;let c=n.ZERO,h=n.ZERO,f=n.ZERO;const p=t.a,g=n.mul(t.b,wc);let y=n.mul(r,a),m=n.mul(i,s),v=n.mul(o,l),b=n.add(r,i),w=n.add(a,s);b=n.mul(b,w),w=n.add(y,m),b=n.sub(b,w),w=n.add(r,o);let x=n.add(a,l);return w=n.mul(w,x),x=n.add(y,v),w=n.sub(w,x),x=n.add(i,o),c=n.add(s,l),x=n.mul(x,c),c=n.add(m,v),x=n.sub(x,c),f=n.mul(p,w),c=n.mul(g,v),f=n.add(c,f),c=n.sub(m,f),f=n.add(m,f),h=n.mul(c,f),m=n.add(y,y),m=n.add(m,y),v=n.mul(p,v),w=n.mul(g,w),m=n.add(m,v),v=n.sub(y,v),v=n.mul(p,v),w=n.add(w,v),y=n.mul(m,w),h=n.add(h,y),y=n.mul(x,w),c=n.mul(b,c),c=n.sub(c,y),y=n.mul(b,m),f=n.mul(x,f),f=n.add(f,y),new d(c,h,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return p.wNAFCached(this,c,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}))}multiplyUnsafe(e){const r=d.ZERO;if(e===vc)return r;if(s(e),e===bc)return this;const{endo:i}=t;if(!i)return p.unsafeLadder(this,e);let{k1neg:o,k1:a,k2neg:l,k2:c}=i.splitScalar(e),u=r,h=r,f=this;for(;a>vc||c>vc;)a&bc&&(u=u.add(f)),c&bc&&(h=h.add(f)),f=f.double(),a>>=bc,c>>=bc;return o&&(u=u.negate()),l&&(h=h.negate()),h=new d(n.mul(h.px,i.beta),h.py,h.pz),u.add(h)}multiply(e){s(e);let r,i,o=e;const{endo:a}=t;if(a){const{k1neg:e,k1:t,k2neg:s,k2:l}=a.splitScalar(o);let{p:c,f:u}=this.wNAF(t),{p:h,f:f}=this.wNAF(l);c=p.constTimeNegate(e,c),h=p.constTimeNegate(s,h),h=new d(n.mul(h.px,a.beta),h.py,h.pz),r=c.add(h),i=u.add(f)}else{const{p:e,f:t}=this.wNAF(o);r=e,i=t}return d.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=d.BASE,i=(e,t)=>t!==vc&&t!==bc&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){const{px:t,py:r,pz:i}=this,o=this.is0();null==e&&(e=o?n.ONE:n.inv(i));const a=n.mul(t,e),s=n.mul(r,e),l=n.mul(i,e);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:a,y:s}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===bc)return!0;if(n)return n(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===bc?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),r(d,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Rl(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,p=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>hc;)n&fc&&(r=r.add(i)),i=i.double(),n>>=fc;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),o=[];let a=e,s=a;for(let r=0;r<n;r++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(t,i,o){const{windows:a,windowSize:s}=r(t);let l=e.ZERO,c=e.BASE;const u=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<a;e++){const t=e*s;let r=Number(o&u);o>>=h,r>s&&(r-=d,o+=fc);const a=t,f=t+Math.abs(r)-1,p=e%2!==0,g=r<0;0===r?c=c.add(n(p,i[a])):l=l.add(n(g,i[f]))}return{p:l,f:c}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,r(o))),this.wNAF(i,o,n)}}}(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:a}}function Ec(e){const t=function(e){const t=pc(e);return Wl(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(f({lowS:!0},t))}(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function a(e){return tc(e,r)}function s(e){return ic(e,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:d}=xc(f(f({},t),{},{toBytes(e,t,r){const i=t.toAffine(),o=n.toBytes(i.x),a=zl;return r?a(Uint8Array.from([t.hasEvenY()?2:3]),o):a(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],a=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r){return{x:n.fromBytes(a.subarray(0,n.BYTES)),y:n.fromBytes(a.subarray(n.BYTES,2*n.BYTES))}}throw new Error("Point of length ".concat(t," was invalid. Expected ").concat(i," compressed bytes or ").concat(o," uncompressed bytes"))}{const e=Fl(a);if(!function(e){return vc<e&&e<n.ORDER}(e))throw new Error("Point is not on curve");const t=u(e);let i=n.sqrt(t);return 1===(1&r)!==((i&bc)===bc)&&(i=n.neg(i)),{x:e,y:i}}}})),h=e=>Rl(Bl(e,t.nByteLength));function p(e){return e>r>>bc}const g=(e,t,n)=>Fl(e.slice(t,n));class y{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=Ul("compactSignature",e,2*n),new y(g(e,0,n),g(e,n,2*n))}static fromDER(e){const{r:t,s:n}=mc.toSig(Ul("DER",e));return new y(t,n)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:o}=this,c=w(Ul("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const u=2===o||3===o?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0===(1&o)?"02":"03",f=l.fromHex(d+h(u)),p=s(u),g=a(-c*p),y=a(i*p),m=l.BASE.multiplyAndAddUnsafe(f,g,y);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Il(this.toDERHex())}toDERHex(){return mc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Il(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const m={isValidPrivateKey(e){try{return c(e),!0}catch(kU){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const e=cc(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=lc(t),o=cc(t);if(r<16||r<o||r>1024)throw new Error("expected ".concat(o,"-1024 bytes of input, got ").concat(r));const a=tc(n?Fl(e):Ll(e),t-Zl)+Zl;return n?Ml(a,i):Bl(a,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function v(e){const t=e instanceof Uint8Array,n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof l}const b=t.bits2int||function(e){const n=Fl(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},w=t.bits2int_modN||function(e){return a(b(e))},x=Hl(t.nBitLength);function E(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(vc<=e&&e<x))throw new Error("bigint expected < 2^".concat(t.nBitLength));return Bl(e,t.nByteLength)}function k(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:u}=t;let{lowS:h,prehash:f,extraEntropy:g}=i;null==h&&(h=!0),e=Ul("msgHash",e),f&&(e=Ul("prehashed msgHash",o(e)));const m=w(e),v=c(r),x=[E(v),E(m)];if(null!=g){const e=!0===g?u(n.BYTES):g;x.push(Ul("extraEntropy",e))}const k=zl(...x),S=m;return{seed:k,k2sig:function(e){const t=b(e);if(!d(t))return;const n=s(t),r=l.BASE.multiply(t).toAffine(),i=a(r.x);if(i===vc)return;const o=a(n*a(S+i*v));if(o===vc)return;let c=(r.x===i?0:2)|Number(r.y&bc),u=o;return h&&p(o)&&(u=function(e){return p(e)?a(-e):e}(o),c^=1),new y(i,u,c)}}}const _={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(v(e))throw new Error("first arg must be private key");if(!v(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(c(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;const{seed:i,k2sig:o}=k(e,n,r),a=t;return Vl(a.hash.outputLen,a.nByteLength,a.hmac)(i,o)},verify:function(e,n,r){var i;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;const c=e;if(n=Ul("msgHash",n),r=Ul("publicKey",r),"strict"in o)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:d}=o;let h,f;try{if("string"===typeof c||c instanceof Uint8Array)try{h=y.fromDER(c)}catch(k){if(!(k instanceof mc.Err))throw k;h=y.fromCompact(c)}else{if("object"!==typeof c||"bigint"!==typeof c.r||"bigint"!==typeof c.s)throw new Error("PARSE");{const{r:e,s:t}=c;h=new y(e,t)}}f=l.fromHex(r)}catch(kU){if("PARSE"===kU.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&h.hasHighS())return!1;d&&(n=t.hash(n));const{r:p,s:g}=h,m=w(n),v=s(g),b=a(m*v),x=a(p*v),E=null===(i=l.BASE.multiplyAndAddUnsafe(f,b,x))||void 0===i?void 0:i.toAffine();return!!E&&a(E.x)===p},ProjectivePoint:l,Signature:y,utils:m}}function kc(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return dc(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!pl(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}(...r))},randomBytes:wl}}const _c=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Sc=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Cc=BigInt(1),Ac=BigInt(2),Oc=(e,t)=>(e+t/Ac)/t;function Nc(e){const t=_c,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),s=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,d=rc(u,n,t)*u%t,h=rc(d,n,t)*u%t,f=rc(h,Ac,t)*c%t,p=rc(f,i,t)*f%t,g=rc(p,o,t)*p%t,y=rc(g,s,t)*g%t,m=rc(y,l,t)*y%t,v=rc(m,s,t)*g%t,b=rc(v,n,t)*u%t,w=rc(b,a,t)*p%t,x=rc(w,r,t)*c%t,E=rc(x,Ac,t);if(!Pc.eql(Pc.sqr(E),e))throw new Error("Cannot find square root");return E}const Pc=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=Yl)throw new Error("Expected Field ORDER > 0, got ".concat(e));const{nBitLength:i,nByteLength:o}=sc(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=oc(e),s=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:Hl(i),ZERO:Yl,ONE:Zl,create:t=>tc(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got ".concat(typeof t));return Yl<=t&&t<e},is0:e=>e===Yl,isOdd:e=>(e&Zl)===Zl,neg:t=>tc(-t,e),eql:(e,t)=>e===t,sqr:t=>tc(t*t,e),add:(t,n)=>tc(t+n,e),sub:(t,n)=>tc(t-n,e),mul:(t,n)=>tc(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Yl)throw new Error("Expected power > 0");if(n===Yl)return e.ONE;if(n===Zl)return t;let r=e.ONE,i=t;for(;n>Yl;)n&Zl&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Zl;return r}(s,e,t),div:(t,n)=>tc(t*ic(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ic(t,e),sqrt:r.sqrt||(e=>a(s,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(s,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?Ml(e,o):Bl(e,o),fromBytes:e=>{if(e.length!==o)throw new Error("Fp.fromBytes: expected ".concat(o,", got ").concat(e.length));return n?Ll(e):Fl(e)}});return Object.freeze(s)}(_c,void 0,void 0,{sqrt:Nc}),jc=function(e,t){const n=t=>Ec(f(f({},e),kc(t)));return Object.freeze(f(f({},n(t)),{},{create:n}))}({a:BigInt(0),b:BigInt(7),Fp:Pc,n:Sc,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Sc,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Cc*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),s=Oc(o*e,t),l=Oc(-r*e,t);let c=tc(e-s*n-l*i,t),u=tc(-s*r-l*o,t);const d=c>a,h=u>a;if(d&&(c=t-c),h&&(u=t-u),c>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:c,k2neg:h,k2:u}}}},Ol),Dc=BigInt(0),Rc=e=>"bigint"===typeof e&&Dc<e&&e<_c,Tc={};function Ic(e){let t=Tc[e];if(void 0===t){const n=Ol(Uint8Array.from(e,(e=>e.charCodeAt(0))));t=zl(n,n),Tc[e]=t}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ol(zl(t,...r))}const Fc=e=>e.toRawBytes(!0).slice(1),Lc=e=>Bl(e,32),Bc=e=>tc(e,_c),Mc=e=>tc(e,Sc),Uc=jc.ProjectivePoint;function zc(e){let t=jc.utils.normPrivateKeyToScalar(e),n=Uc.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Mc(-t),bytes:Fc(n)}}function Hc(e){if(!Rc(e))throw new Error("bad x: need 0 < x < p");const t=Bc(e*e);let n=Nc(Bc(t*e+BigInt(7)));n%Ac!==Dc&&(n=Bc(-n));const r=new Uc(e,n,Cc);return r.assertValidity(),r}function qc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Mc(Fl(Ic("BIP0340/challenge",...t)))}function Kc(e){return zc(e).bytes}function Vc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wl(32);const r=Ul("message",e),{bytes:i,scalar:o}=zc(t),a=Ul("auxRand",n,32),s=Lc(o^Fl(Ic("BIP0340/aux",a))),l=Ic("BIP0340/nonce",s,i,r),c=Mc(Fl(l));if(c===Dc)throw new Error("sign failed: k is zero");const{bytes:u,scalar:d}=zc(c),h=qc(u,i,r),f=new Uint8Array(64);if(f.set(u,0),f.set(Lc(Mc(d+h*o)),32),!Gc(f,r,i))throw new Error("sign: Invalid signature produced");return f}function Gc(e,t,n){const r=Ul("signature",e,64),i=Ul("message",t),o=Ul("publicKey",n,32);try{const e=Hc(Fl(o)),t=Fl(r.subarray(0,32));if(!Rc(t))return!1;const n=Fl(r.subarray(32,64));if(!(e=>"bigint"===typeof e&&Dc<e&&e<Sc)(n))return!1;const a=qc(Lc(t),Fc(e),i),s=((e,t,n)=>Uc.BASE.multiplyAndAddUnsafe(e,t,n))(e,n,Mc(-a));return!(!s||!s.hasEvenY()||s.toAffine().x!==t)}catch(kU){return!1}}const Wc=(()=>({getPublicKey:Kc,sign:Vc,verify:Gc,utils:{randomPrivateKey:jc.utils.randomPrivateKey,lift_x:Hc,pointToBytes:Fc,numberToBytesBE:Bl,bytesToNumberBE:Fl,taggedHash:Ic,mod:tc}}))(),Yc="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Zc=e=>e instanceof Uint8Array,Qc=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),$c=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const Jc=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Xc(e){if(!Zc(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Jc[e[n]];return t}function eu(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,i=e.slice(t,t+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function tu(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}(e)),!Zc(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}function nu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!Zc(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}class ru{clone(){return this._cloneInto()}}function iu(e){const t=t=>e().update(tu(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function ou(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(Yc&&"function"===typeof Yc.getRandomValues)return Yc.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function au(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function su(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(n,", not of length=").concat(e.length))}const lu={number:au,bool:function(e){if("boolean"!==typeof e)throw new Error("Expected boolean, not ".concat(e))},bytes:su,hash:function(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");au(e.outputLen),au(e.blockLen)},exists:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){su(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}},cu=lu;class uu extends ru{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Qc(this.buffer)}update(e){cu.exists(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=tu(e)).length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);if(a!==r)n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Qc(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){cu.exists(this),cu.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let u=o;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,a,r),e.setUint32(t+c,s,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const a=Qc(e),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=s/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)a.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:a}=this;return e.length=r,e.pos=a,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const du=(e,t,n)=>e&t^~e&n,hu=(e,t,n)=>e&t^e&n^t&n,fu=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gu=new Uint32Array(64);class yu extends uu{constructor(){super(64,32,8,!1),this.A=0|pu[0],this.B=0|pu[1],this.C=0|pu[2],this.D=0|pu[3],this.E=0|pu[4],this.F=0|pu[5],this.G=0|pu[6],this.H=0|pu[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:a,H:s}=this;return[e,t,n,r,i,o,a,s]}set(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let u=0;u<16;u++,t+=4)gu[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=gu[u-15],t=gu[u-2],n=$c(e,7)^$c(e,18)^e>>>3,r=$c(t,17)^$c(t,19)^t>>>10;gu[u]=r+gu[u-7]+n+gu[u-16]|0}let{A:n,B:r,C:i,D:o,E:a,F:s,G:l,H:c}=this;for(let u=0;u<64;u++){const e=c+($c(a,6)^$c(a,11)^$c(a,25))+du(a,s,l)+fu[u]+gu[u]|0,t=($c(n,2)^$c(n,13)^$c(n,22))+hu(n,r,i)|0;c=l,l=s,s=a,a=o+e|0,o=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,i,o,a,s,l,c)}roundClean(){gu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class mu extends yu{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const vu=iu((()=>new yu));iu((()=>new mu));function bu(e){if(!Number.isSafeInteger(e))throw new Error("Wrong integer: ".concat(e))}function wu(){const e=(e,t)=>n=>e(t(n));for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=Array.from(n).reverse().reduce(((t,n)=>t?e(t,n.encode):n.encode),void 0),o=n.reduce(((t,n)=>t?e(t,n.decode):n.decode),void 0);return{encode:i,decode:o}}function xu(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!==typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(bu(t),t<0||t>=e.length)throw new Error("Digit index outside alphabet: ".concat(t," (alphabet: ").concat(e.length,")"));return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!==typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!==typeof t)throw new Error("alphabet.decode: not string element=".concat(t));const n=e.indexOf(t);if(-1===n)throw new Error('Unknown letter: "'.concat(t,'". Allowed: ').concat(e));return n}))}}}function Eu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!==typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!==typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!==typeof e)throw new Error("join.encode: non-string input=".concat(e));return t.join(e)},decode:t=>{if("string"!==typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function ku(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"=";if(bu(e),"string"!==typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!==typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!==typeof e)throw new Error("padding.encode: non-string input=".concat(e));for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!==typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!==typeof e)throw new Error("padding.decode: non-string input=".concat(e));let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function _u(e){if("function"!==typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function Su(e,t,n){if(t<2)throw new Error("convertRadix: wrong from=".concat(t,", base cannot be less than 2"));if(n<2)throw new Error("convertRadix: wrong to=".concat(n,", base cannot be less than 2"));if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],o=Array.from(e);for(o.forEach((e=>{if(bu(e),e<0||e>=t)throw new Error("Wrong integer: ".concat(e))}));;){let e=0,a=!0;for(let i=r;i<o.length;i++){const s=o[i],l=t*e+s;if(!Number.isSafeInteger(l)||t*e/t!==e||l-s!==t*e)throw new Error("convertRadix: carry overflow");if(e=l%n,o[i]=Math.floor(l/n),!Number.isSafeInteger(o[i])||o[i]*n+e!==l)throw new Error("convertRadix: carry overflow");a&&(o[i]?a=!1:r=i)}if(i.push(e),a)break}for(let a=0;a<e.length-1&&0===e[a];a++)i.push(0);return i.reverse()}const Cu=(e,t)=>t?Cu(t,e%t):e,Au=(e,t)=>e+(t-Cu(e,t));function Ou(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error("convertRadix2: wrong from=".concat(t));if(n<=0||n>32)throw new Error("convertRadix2: wrong to=".concat(n));if(Au(t,n)>32)throw new Error("convertRadix2: carry overflow from=".concat(t," to=").concat(n," carryBits=").concat(Au(t,n)));let i=0,o=0;const a=2**n-1,s=[];for(const l of e){if(bu(l),l>=2**t)throw new Error("convertRadix2: invalid data word=".concat(l," from=").concat(t));if(i=i<<t|l,o+t>32)throw new Error("convertRadix2: carry overflow pos=".concat(o," from=").concat(t));for(o+=t;o>=n;o-=n)s.push((i>>o-n&a)>>>0);i&=2**o-1}if(i=i<<n-o&a,!r&&o>=t)throw new Error("Excess padding");if(!r&&i)throw new Error("Non-zero padding: ".concat(i));return r&&o>0&&s.push(i>>>0),s}function Nu(e){return bu(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Su(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!==typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Su(t,e,256))}}}function Pu(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(bu(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Au(8,e)>32||Au(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Ou(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!==typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Ou(n,e,8,t))}}}function ju(e){if("function"!==typeof e)throw new Error("unsafeWrapper fn should be function");return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(null,n)}catch(oR){}}}const Du=wu(Pu(4),xu("0123456789ABCDEF"),Eu("")),Ru=wu(Pu(5),xu("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),ku(5),Eu("")),Tu=(wu(Pu(5),xu("0123456789ABCDEFGHIJKLMNOPQRSTUV"),ku(5),Eu("")),wu(Pu(5),xu("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Eu(""),_u((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),wu(Pu(6),xu("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),ku(6),Eu(""))),Iu=wu(Pu(6),xu("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),ku(6),Eu("")),Fu=e=>wu(Nu(58),xu(e),Eu("")),Lu=Fu("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Bu=(Fu("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),Fu("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),[0,2,3,5,6,7,9,10,11]),Mu={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=Lu.encode(r).padStart(Bu[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=Bu.indexOf(r.length),o=Lu.decode(r);for(let e=0;e<o.length-i;e++)if(0!==o[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-i)))}return Uint8Array.from(t)}},Uu=wu(xu("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Eu("")),zu=[996825010,642813549,513874426,1027748829,705979059];function Hu(e){const t=e>>25;let n=(33554431&e)<<5;for(let r=0;r<zu.length;r++)1===(t>>r&1)&&(n^=zu[r]);return n}function qu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=e.length;let i=1;for(let o=0;o<r;o++){const t=e.charCodeAt(o);if(t<33||t>126)throw new Error("Invalid prefix (".concat(e,")"));i=Hu(i)^t>>5}i=Hu(i);for(let o=0;o<r;o++)i=Hu(i)^31&e.charCodeAt(o);for(let o of t)i=Hu(i)^o;for(let o=0;o<6;o++)i=Hu(i);return i^=n,Uu.encode(Ou([i%2**30],30,5,!1))}function Ku(e){const t="bech32"===e?1:734539939,n=Pu(5),r=n.decode,i=n.encode,o=ju(r);function a(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;if("string"!==typeof e)throw new Error("bech32.decode input should be string, not ".concat(typeof e));if(e.length<8||!1!==n&&e.length>n)throw new TypeError("Wrong string length: ".concat(e.length," (").concat(e,"). Expected (8..").concat(n,")"));const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=(e=r).lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const o=e.slice(0,i),a=e.slice(i+1);if(a.length<6)throw new Error("Data must be at least 6 characters long");const s=Uu.decode(a).slice(0,-6),l=qu(o,s,t);if(!a.endsWith(l))throw new Error("Invalid checksum in ".concat(e,': expected "').concat(l,'"'));return{prefix:o,words:s}}return{encode:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:90;if("string"!==typeof e)throw new Error("bech32.encode prefix should be string, not ".concat(typeof e));if(!Array.isArray(n)||n.length&&"number"!==typeof n[0])throw new Error("bech32.encode words should be array of numbers, not ".concat(typeof n));const i=e.length+7+n.length;if(!1!==r&&i>r)throw new TypeError("Length ".concat(i," exceeds limit ").concat(r));return e=e.toLowerCase(),"".concat(e,"1").concat(Uu.encode(n)).concat(qu(e,n,t))},decode:a,decodeToBytes:function(e){const{prefix:t,words:n}=a(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:ju(a),fromWords:r,fromWordsUnsafe:o,toWords:i}}const Vu=Ku("bech32"),Gu=(Ku("bech32m"),{encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)}),Wu=wu(Pu(4),xu("0123456789abcdef"),Eu(""),_u((e=>{if("string"!==typeof e||e.length%2)throw new TypeError("hex.decode: expected string, got ".concat(typeof e," with length ").concat(e.length));return e.toLowerCase()}))),Yu={utf8:Gu,hex:Wu,base16:Du,base32:Ru,base64:Tu,base64url:Iu,base58:Lu,base58xmr:Mu};"Invalid encoding type. Available types: ".concat(Object.keys(Yu).join(", "));function Zu(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, not ".concat(e))}function Qu(e){if("boolean"!==typeof e)throw new Error("boolean expected, not ".concat(e))}function $u(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}function Ju(e){if(!$u(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length ".concat(n,", not of length=").concat(e.length))}function Xu(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ed(e,t){Ju(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}const td=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),nd=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),rd=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function id(e){if("string"===typeof e)e=function(e){if("string"!==typeof e)throw new Error("string expected, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!$u(e))throw new Error("Uint8Array expected, got ".concat(typeof e));e=e.slice()}return e}function od(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}const ad=(e,t)=>(Object.assign(t,e),t);function sd(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,a,r),e.setUint32(t+c,s,r)}const ld=16,cd=new Uint8Array(16),ud=nd(cd),dd=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255;class hd{constructor(e,t){this.blockLen=ld,this.outputLen=ld,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,Ju(e=id(e),16);const n=rd(e);let r=n.getUint32(0,!1),i=n.getUint32(4,!1),o=n.getUint32(8,!1),a=n.getUint32(12,!1);const s=[];for(let y=0;y<128;y++)s.push({s0:dd(r),s1:dd(i),s2:dd(o),s3:dd(a)}),({s0:r,s1:i,s2:o,s3:a}={s3:(u=o)<<31|(d=a)>>>1,s2:(c=i)<<31|u>>>1,s1:(l=r)<<31|c>>>1,s0:l>>>1^225<<24&-(1&d)});var l,c,u,d;const h=(e=>e>65536?8:e>1024?4:2)(t||1024);if(![1,2,4,8].includes(h))throw new Error("ghash: wrong window size=".concat(h,", should be 2, 4 or 8"));this.W=h;const f=128/h,p=this.windowSize=2**h,g=[];for(let y=0;y<f;y++)for(let e=0;e<p;e++){let t=0,n=0,r=0,i=0;for(let o=0;o<h;o++){if(!(e>>>h-o-1&1))continue;const{s0:a,s1:l,s2:c,s3:u}=s[h*y+o];t^=a,n^=l,r^=c,i^=u}g.push({s0:t,s1:n,s2:r,s3:i})}this.t=g}_updateBlock(e,t,n,r){e^=this.s0,t^=this.s1,n^=this.s2,r^=this.s3;const{W:i,t:o,windowSize:a}=this;let s=0,l=0,c=0,u=0;const d=(1<<i)-1;let h=0;for(const f of[e,t,n,r])for(let e=0;e<4;e++){const t=f>>>8*e&255;for(let e=8/i-1;e>=0;e--){const n=t>>>i*e&d,{s0:r,s1:f,s2:p,s3:g}=o[h*a+n];s^=r,l^=f,c^=p,u^=g,h+=1}}this.s0=s,this.s1=l,this.s2=c,this.s3=u}update(e){e=id(e),Xu(this);const t=nd(e),n=Math.floor(e.length/ld),r=e.length%ld;for(let i=0;i<n;i++)this._updateBlock(t[4*i+0],t[4*i+1],t[4*i+2],t[4*i+3]);return r&&(cd.set(e.subarray(n*ld)),this._updateBlock(ud[0],ud[1],ud[2],ud[3]),ud.fill(0)),this}destroy(){const{t:e}=this;for(const t of e)t.s0=0,t.s1=0,t.s2=0,t.s3=0}digestInto(e){Xu(this),ed(e,this),this.finished=!0;const{s0:t,s1:n,s2:r,s3:i}=this,o=nd(e);return o[0]=t,o[1]=n,o[2]=r,o[3]=i,e}digest(){const e=new Uint8Array(ld);return this.digestInto(e),this.destroy(),e}}class fd extends hd{constructor(e,t){const n=function(e){e.reverse();const t=1&e[15];let n=0;for(let r=0;r<e.length;r++){const t=e[r];e[r]=t>>>1|n,n=(1&t)<<7}return e[0]^=225&-t,e}((e=id(e)).slice());super(n,t),n.fill(0)}update(e){e=id(e),Xu(this);const t=nd(e),n=e.length%ld,r=Math.floor(e.length/ld);for(let i=0;i<r;i++)this._updateBlock(dd(t[4*i+3]),dd(t[4*i+2]),dd(t[4*i+1]),dd(t[4*i+0]));return n&&(cd.set(e.subarray(r*ld)),this._updateBlock(dd(ud[3]),dd(ud[2]),dd(ud[1]),dd(ud[0])),ud.fill(0)),this}digestInto(e){Xu(this),ed(e,this),this.finished=!0;const{s0:t,s1:n,s2:r,s3:i}=this,o=nd(e);return o[0]=t,o[1]=n,o[2]=r,o[3]=i,e.reverse()}}function pd(e){const t=(t,n)=>e(n,t.length).update(id(t)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(t,n)=>e(t,n),t}const gd=pd(((e,t)=>new hd(e,t))),yd=pd(((e,t)=>new fd(e,t))),md=16,vd=new Uint8Array(md);function bd(e){return e<<1^283&-(e>>7)}function wd(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(1&t),e=bd(e);return n}const xd=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=bd(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=255&(r^r>>4^r>>5^r>>6^r>>7^99)}return t})(),Ed=xd.map(((e,t)=>xd.indexOf(t))),kd=e=>e<<24|e>>>8,_d=e=>e<<8|e>>>24;function Sd(e,t){if(256!==e.length)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map(((n,r)=>t(e[r]))),r=n.map(_d),i=r.map(_d),o=i.map(_d),a=new Uint32Array(65536),s=new Uint32Array(65536),l=new Uint16Array(65536);for(let c=0;c<256;c++)for(let t=0;t<256;t++){const u=256*c+t;a[u]=n[c]^r[t],s[u]=i[c]^o[t],l[u]=e[c]<<8|e[t]}return{sbox:e,sbox2:l,T0:n,T1:r,T2:i,T3:o,T01:a,T23:s}}const Cd=Sd(xd,(e=>wd(e,3)<<24|e<<16|e<<8|wd(e,2))),Ad=Sd(Ed,(e=>wd(e,11)<<24|wd(e,13)<<16|wd(e,9)<<8|wd(e,14))),Od=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=bd(n))e[t]=n;return e})();function Nd(e){Ju(e);const t=e.length;if(![16,24,32].includes(t))throw new Error("aes: wrong key size: should be 16, 24 or 32, got: ".concat(t));const{sbox2:n}=Cd,r=nd(e),i=r.length,o=e=>Dd(n,e,e,e,e),a=new Uint32Array(t+28);a.set(r);for(let s=i;s<a.length;s++){let e=a[s-1];s%i===0?e=o(kd(e))^Od[s/i-1]:i>6&&s%i===4&&(e=o(e)),a[s]=a[s-i]^e}return a}function Pd(e){const t=Nd(e),n=t.slice(),r=t.length,{sbox2:i}=Cd,{T0:o,T1:a,T2:s,T3:l}=Ad;for(let c=0;c<r;c+=4)for(let e=0;e<4;e++)n[c+e]=t[r-c-4+e];t.fill(0);for(let c=4;c<r-4;c++){const e=n[c],t=Dd(i,e,e,e,e);n[c]=o[255&t]^a[t>>>8&255]^s[t>>>16&255]^l[t>>>24]}return n}function jd(e,t,n,r,i,o){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|o>>>24&255]}function Dd(e,t,n,r,i){return e[255&t|65280&n]|e[r>>>16&255|i>>>16&65280]<<16}function Rd(e,t,n,r,i){const{sbox2:o,T01:a,T23:s}=Cd;let l=0;t^=e[l++],n^=e[l++],r^=e[l++],i^=e[l++];const c=e.length/4-2;for(let u=0;u<c;u++){const o=e[l++]^jd(a,s,t,n,r,i),c=e[l++]^jd(a,s,n,r,i,t),u=e[l++]^jd(a,s,r,i,t,n),d=e[l++]^jd(a,s,i,t,n,r);t=o,n=c,r=u,i=d}return{s0:e[l++]^Dd(o,t,n,r,i),s1:e[l++]^Dd(o,n,r,i,t),s2:e[l++]^Dd(o,r,i,t,n),s3:e[l++]^Dd(o,i,t,n,r)}}function Td(e,t,n,r,i){const{sbox2:o,T01:a,T23:s}=Ad;let l=0;t^=e[l++],n^=e[l++],r^=e[l++],i^=e[l++];const c=e.length/4-2;for(let u=0;u<c;u++){const o=e[l++]^jd(a,s,t,i,r,n),c=e[l++]^jd(a,s,n,t,i,r),u=e[l++]^jd(a,s,r,n,t,i),d=e[l++]^jd(a,s,i,r,n,t);t=o,n=c,r=u,i=d}return{s0:e[l++]^Dd(o,t,i,r,n),s1:e[l++]^Dd(o,n,t,i,r),s2:e[l++]^Dd(o,r,n,t,i),s3:e[l++]^Dd(o,i,r,n,t)}}function Id(e,t){if(!t)return new Uint8Array(e);if(Ju(t),t.length<e)throw new Error("aes: wrong destination length, expected at least ".concat(e,", got: ").concat(t.length));return t}function Fd(e,t,n,r){Ju(t,md),Ju(n);const i=n.length;r=Id(i,r);const o=t,a=nd(o);let{s0:s,s1:l,s2:c,s3:u}=Rd(e,a[0],a[1],a[2],a[3]);const d=nd(n),h=nd(r);for(let p=0;p+4<=d.length;p+=4){h[p+0]=d[p+0]^s,h[p+1]=d[p+1]^l,h[p+2]=d[p+2]^c,h[p+3]=d[p+3]^u;let t=1;for(let e=o.length-1;e>=0;e--)t=t+(255&o[e])|0,o[e]=255&t,t>>>=8;({s0:s,s1:l,s2:c,s3:u}=Rd(e,a[0],a[1],a[2],a[3]))}const f=md*Math.floor(d.length/4);if(f<i){const e=new Uint32Array([s,l,c,u]),t=td(e);for(let o=f,a=0;o<i;o++,a++)r[o]=n[o]^t[a]}return r}function Ld(e,t,n,r,i){Ju(n,md),Ju(r),i=Id(r.length,i);const o=n,a=nd(o),s=rd(o),l=nd(r),c=nd(i),u=t?0:12,d=r.length;let h=s.getUint32(u,t),{s0:f,s1:p,s2:g,s3:y}=Rd(e,a[0],a[1],a[2],a[3]);for(let v=0;v+4<=l.length;v+=4)c[v+0]=l[v+0]^f,c[v+1]=l[v+1]^p,c[v+2]=l[v+2]^g,c[v+3]=l[v+3]^y,h=h+1>>>0,s.setUint32(u,h,t),({s0:f,s1:p,s2:g,s3:y}=Rd(e,a[0],a[1],a[2],a[3]));const m=md*Math.floor(l.length/4);if(m<d){const e=new Uint32Array([f,p,g,y]),t=td(e);for(let n=m,o=0;n<d;n++,o++)i[n]=r[n]^t[o]}return i}ad({blockSize:16,nonceLength:16},(function(e,t){function n(n,r){const i=Nd(e),o=t.slice(),a=Fd(i,o,n,r);return i.fill(0),o.fill(0),a}return Ju(e),Ju(t,md),{encrypt:(e,t)=>n(e,t),decrypt:(e,t)=>n(e,t)}}));function Bd(e){if(Ju(e),e.length%md!==0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ".concat(md))}function Md(e,t,n){let r=e.length;const i=r%md;if(!t&&0!==i)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const o=nd(e);if(t){let e=md-i;e||(e=md),r+=e}const a=Id(r,n);return{b:o,o:nd(a),out:a}}function Ud(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error("aes/pcks5: wrong padding byte: ".concat(r));const i=e.subarray(0,-r);for(let o=0;o<r;o++)if(e[n-o-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function zd(e){const t=new Uint8Array(16),n=nd(t);t.set(e);const r=md-e.length;for(let i=md-r;i<md;i++)t[i]=r;return n}ad({blockSize:16},(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ju(e);const n=!t.disablePadding;return{encrypt:(t,r)=>{Ju(t);const{b:i,o:o,out:a}=Md(t,n,r),s=Nd(e);let l=0;for(;l+4<=i.length;){const{s0:e,s1:t,s2:n,s3:r}=Rd(s,i[l+0],i[l+1],i[l+2],i[l+3]);o[l++]=e,o[l++]=t,o[l++]=n,o[l++]=r}if(n){const e=zd(t.subarray(4*l)),{s0:n,s1:r,s2:i,s3:a}=Rd(s,e[0],e[1],e[2],e[3]);o[l++]=n,o[l++]=r,o[l++]=i,o[l++]=a}return s.fill(0),a},decrypt:(t,r)=>{Bd(t);const i=Pd(e),o=Id(t.length,r),a=nd(t),s=nd(o);for(let e=0;e+4<=a.length;){const{s0:t,s1:n,s2:r,s3:o}=Td(i,a[e+0],a[e+1],a[e+2],a[e+3]);s[e++]=t,s[e++]=n,s[e++]=r,s[e++]=o}return i.fill(0),Ud(o,n)}}}));const Hd=ad({blockSize:16,nonceLength:16},(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ju(e),Ju(t,16);const r=!n.disablePadding;return{encrypt:(n,i)=>{const o=Nd(e),{b:a,o:s,out:l}=Md(n,r,i),c=nd(t);let u=c[0],d=c[1],h=c[2],f=c[3],p=0;for(;p+4<=a.length;)u^=a[p+0],d^=a[p+1],h^=a[p+2],f^=a[p+3],({s0:u,s1:d,s2:h,s3:f}=Rd(o,u,d,h,f)),s[p++]=u,s[p++]=d,s[p++]=h,s[p++]=f;if(r){const e=zd(n.subarray(4*p));u^=e[0],d^=e[1],h^=e[2],f^=e[3],({s0:u,s1:d,s2:h,s3:f}=Rd(o,u,d,h,f)),s[p++]=u,s[p++]=d,s[p++]=h,s[p++]=f}return o.fill(0),l},decrypt:(n,i)=>{Bd(n);const o=Pd(e),a=nd(t),s=Id(n.length,i),l=nd(n),c=nd(s);let u=a[0],d=a[1],h=a[2],f=a[3];for(let e=0;e+4<=l.length;){const t=u,n=d,r=h,i=f;u=l[e+0],d=l[e+1],h=l[e+2],f=l[e+3];const{s0:a,s1:s,s2:p,s3:g}=Td(o,u,d,h,f);c[e++]=a^t,c[e++]=s^n,c[e++]=p^r,c[e++]=g^i}return o.fill(0),Ud(s,r)}}}));ad({blockSize:16,nonceLength:16},(function(e,t){function n(n,r,i){const o=Nd(e),a=n.length;i=Id(a,i);const s=nd(n),l=nd(i),c=r?l:s,u=nd(t);let d=u[0],h=u[1],f=u[2],p=u[3];for(let e=0;e+4<=s.length;){const{s0:t,s1:n,s2:r,s3:i}=Rd(o,d,h,f,p);l[e+0]=s[e+0]^t,l[e+1]=s[e+1]^n,l[e+2]=s[e+2]^r,l[e+3]=s[e+3]^i,d=c[e++],h=c[e++],f=c[e++],p=c[e++]}const g=md*Math.floor(s.length/4);if(g<a){({s0:d,s1:h,s2:f,s3:p}=Rd(o,d,h,f,p));const e=td(new Uint32Array([d,h,f,p]));for(let t=g,r=0;t<a;t++,r++)i[t]=n[t]^e[r];e.fill(0)}return o.fill(0),i}return Ju(e),Ju(t,16),{encrypt:(e,t)=>n(e,!0,t),decrypt:(e,t)=>n(e,!1,t)}}));function qd(e,t,n,r,i){const o=e.create(n,r.length+((null===i||void 0===i?void 0:i.length)||0));i&&o.update(i),o.update(r);const a=new Uint8Array(16),s=rd(a);return i&&sd(s,0,BigInt(8*i.length),t),sd(s,8,BigInt(8*r.length),t),o.update(a),o.digest()}ad({blockSize:16,nonceLength:12,tagLength:16},(function(e,t,n){if(Ju(t),0===t.length)throw new Error("aes/gcm: empty nonce");const r=16;function i(e,t,r){const i=qd(gd,!1,e,r,n);for(let n=0;n<t.length;n++)i[n]^=t[n];return i}function o(){const n=Nd(e),r=vd.slice(),i=vd.slice();if(Ld(n,!1,i,i,r),12===t.length)i.set(t);else{const e=vd.slice();sd(rd(e),8,BigInt(8*t.length),!1),gd.create(r).update(t).update(e).digestInto(i)}return{xk:n,authKey:r,counter:i,tagMask:Ld(n,!1,i,vd)}}return{encrypt:e=>{Ju(e);const{xk:t,authKey:n,counter:a,tagMask:s}=o(),l=new Uint8Array(e.length+r);Ld(t,!1,a,e,l);const c=i(n,s,l.subarray(0,l.length-r));return l.set(c,e.length),t.fill(0),l},decrypt:e=>{if(Ju(e),e.length<r)throw new Error("aes/gcm: ciphertext less than tagLen (".concat(r,")"));const{xk:t,authKey:n,counter:a,tagMask:s}=o(),l=e.subarray(0,-16),c=e.subarray(-16);if(!od(i(n,s,l),c))throw new Error("aes/gcm: invalid ghash tag");const u=Ld(t,!1,a,l);return n.fill(0),s.fill(0),t.fill(0),u}}}));const Kd=(e,t,n)=>r=>{if(!Number.isSafeInteger(r)||t>r||r>n)throw new Error("".concat(e,": invalid value=").concat(r,", must be [").concat(t,"..").concat(n,"]"))};ad({blockSize:16,nonceLength:12,tagLength:16},(function(e,t,n){const r=Kd("AAD",0,2**36),i=Kd("plaintext",0,2**36),o=Kd("nonce",12,12),a=Kd("ciphertext",16,2**36+16);function s(){const n=e.length;if(16!==n&&24!==n&&32!==n)throw new Error("key length must be 16, 24 or 32 bytes, got: ".concat(n," bytes"));const r=Nd(e),i=new Uint8Array(n),o=new Uint8Array(16),a=nd(t);let s=0,l=a[0],c=a[1],u=a[2],d=0;for(const e of[o,i].map(nd)){const t=nd(e);for(let e=0;e<t.length;e+=2){const{s0:n,s1:i}=Rd(r,s,l,c,u);t[e+0]=n,t[e+1]=i,s=++d}}return r.fill(0),{authKey:o,encKey:Nd(i)}}function l(e,r,i){const o=qd(yd,!0,r,i,n);for(let n=0;n<12;n++)o[n]^=t[n];o[15]&=127;const a=nd(o);let s=a[0],l=a[1],c=a[2],u=a[3];return({s0:s,s1:l,s2:c,s3:u}=Rd(e,s,l,c,u)),a[0]=s,a[1]=l,a[2]=c,a[3]=u,o}function c(e,t,n){let r=t.slice();return r[15]|=128,Ld(e,!0,r,n)}return Ju(t),o(t.length),n&&(Ju(n),r(n.length)),{encrypt:e=>{Ju(e),i(e.length);const{encKey:t,authKey:n}=s(),r=l(t,n,e),o=new Uint8Array(e.length+16);return o.set(r,e.length),o.set(c(t,r,e)),t.fill(0),n.fill(0),o},decrypt:e=>{Ju(e),a(e.length);const t=e.subarray(-16),{encKey:n,authKey:r}=s(),i=c(n,t,e.subarray(0,-16)),o=l(n,r,i);if(n.fill(0),r.fill(0),!od(t,o))throw new Error("invalid polyval tag");return i}}}));const Vd=(e,t)=>255&e[t++]|(255&e[t++])<<8;class Gd{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,Ju(e=id(e),32);const t=Vd(e,0),n=Vd(e,2),r=Vd(e,4),i=Vd(e,6),o=Vd(e,8),a=Vd(e,10),s=Vd(e,12),l=Vd(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|n<<3),this.r[2]=7939&(n>>>10|r<<6),this.r[3]=8191&(r>>>7|i<<9),this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,this.r[6]=8191&(o>>>14|a<<2),this.r[7]=8065&(a>>>11|s<<5),this.r[8]=8191&(s>>>8|l<<8),this.r[9]=l>>>5&127;for(let c=0;c<8;c++)this.pad[c]=Vd(e,16+2*c)}process(e,t){const n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?0:2048,{h:r,r:i}=this,o=i[0],a=i[1],s=i[2],l=i[3],c=i[4],u=i[5],d=i[6],h=i[7],f=i[8],p=i[9],g=Vd(e,t+0),y=Vd(e,t+2),m=Vd(e,t+4),v=Vd(e,t+6),b=Vd(e,t+8),w=Vd(e,t+10),x=Vd(e,t+12),E=Vd(e,t+14);let k=r[0]+(8191&g),_=r[1]+(8191&(g>>>13|y<<3)),S=r[2]+(8191&(y>>>10|m<<6)),C=r[3]+(8191&(m>>>7|v<<9)),A=r[4]+(8191&(v>>>4|b<<12)),O=r[5]+(b>>>1&8191),N=r[6]+(8191&(b>>>14|w<<2)),P=r[7]+(8191&(w>>>11|x<<5)),j=r[8]+(8191&(x>>>8|E<<8)),D=r[9]+(E>>>5|n),R=0,T=R+k*o+_*(5*p)+S*(5*f)+C*(5*h)+A*(5*d);R=T>>>13,T&=8191,T+=O*(5*u)+N*(5*c)+P*(5*l)+j*(5*s)+D*(5*a),R+=T>>>13,T&=8191;let I=R+k*a+_*o+S*(5*p)+C*(5*f)+A*(5*h);R=I>>>13,I&=8191,I+=O*(5*d)+N*(5*u)+P*(5*c)+j*(5*l)+D*(5*s),R+=I>>>13,I&=8191;let F=R+k*s+_*a+S*o+C*(5*p)+A*(5*f);R=F>>>13,F&=8191,F+=O*(5*h)+N*(5*d)+P*(5*u)+j*(5*c)+D*(5*l),R+=F>>>13,F&=8191;let L=R+k*l+_*s+S*a+C*o+A*(5*p);R=L>>>13,L&=8191,L+=O*(5*f)+N*(5*h)+P*(5*d)+j*(5*u)+D*(5*c),R+=L>>>13,L&=8191;let B=R+k*c+_*l+S*s+C*a+A*o;R=B>>>13,B&=8191,B+=O*(5*p)+N*(5*f)+P*(5*h)+j*(5*d)+D*(5*u),R+=B>>>13,B&=8191;let M=R+k*u+_*c+S*l+C*s+A*a;R=M>>>13,M&=8191,M+=O*o+N*(5*p)+P*(5*f)+j*(5*h)+D*(5*d),R+=M>>>13,M&=8191;let U=R+k*d+_*u+S*c+C*l+A*s;R=U>>>13,U&=8191,U+=O*a+N*o+P*(5*p)+j*(5*f)+D*(5*h),R+=U>>>13,U&=8191;let z=R+k*h+_*d+S*u+C*c+A*l;R=z>>>13,z&=8191,z+=O*s+N*a+P*o+j*(5*p)+D*(5*f),R+=z>>>13,z&=8191;let H=R+k*f+_*h+S*d+C*u+A*c;R=H>>>13,H&=8191,H+=O*l+N*s+P*a+j*o+D*(5*p),R+=H>>>13,H&=8191;let q=R+k*p+_*f+S*h+C*d+A*u;R=q>>>13,q&=8191,q+=O*c+N*l+P*s+j*a+D*o,R+=q>>>13,q&=8191,R=(R<<2)+R|0,R=R+T|0,T=8191&R,R>>>=13,I+=R,r[0]=T,r[1]=I,r[2]=F,r[3]=L,r[4]=B,r[5]=M,r[6]=U,r[7]=z,r[8]=H,r[9]=q}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=r,r=e[a]>>>13,e[a]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+r,r=n[a]>>>13,n[a]&=8191;n[9]-=8192;let i=(1^r)-1;for(let a=0;a<10;a++)n[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|n[a];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let o=e[0]+t[0];e[0]=65535&o;for(let a=1;a<8;a++)o=(e[a]+t[a]|0)+(o>>>16)|0,e[a]=65535&o}update(e){Xu(this);const{buffer:t,blockLen:n}=this,r=(e=id(e)).length;for(let i=0;i<r;){const o=Math.min(n-this.pos,r-i);if(o!==n)t.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===n&&(this.process(t,0,!1),this.pos=0);else for(;n<=r-i;i+=n)this.process(e,i)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){Xu(this),ed(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:r}=this;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=n[o]>>>0,e[i++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}const Wd=function(e){const t=(t,n)=>e(n).update(id(t)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}((e=>new Gd(e))),Yd=e=>Uint8Array.from(e.split("").map((e=>e.charCodeAt(0)))),Zd=Yd("expand 16-byte k"),Qd=Yd("expand 32-byte k"),$d=nd(Zd),Jd=nd(Qd);Jd.slice();function Xd(e,t){return e<<t|e>>>32-t}function eh(e){return e.byteOffset%4===0}const th=2**32-1,nh=new Uint32Array;function rh(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:o,rounds:a}=function(e,t){if(null==t||"object"!==typeof t)throw new Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!==typeof e)throw new Error("core must be a function");return Zu(i),Zu(a),Qu(o),Qu(n),function(t,s,l,c){let u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;Ju(t),Ju(s),Ju(l);const d=l.length;if(c||(c=new Uint8Array(d)),Ju(c),Zu(u),u<0||u>=th)throw new Error("arx: counter overflow");if(c.length<d)throw new Error("arx: output (".concat(c.length,") is shorter than data (").concat(d,")"));const h=[];let f,p,g=t.length;if(32===g)f=t.slice(),h.push(f),p=Jd;else{if(16!==g||!n)throw new Error("arx: invalid 32-byte key, got length=".concat(g));f=new Uint8Array(32),f.set(t),f.set(t,16),p=$d,h.push(f)}eh(s)||(s=s.slice(),h.push(s));const y=nd(f);if(r){if(24!==s.length)throw new Error("arx: extended nonce must be 24 bytes");r(p,y,nd(s.subarray(0,16)),y),s=s.subarray(16)}const m=16-i;if(m!==s.length)throw new Error("arx: nonce must be ".concat(m," or 16 bytes"));if(12!==m){const e=new Uint8Array(12);e.set(s,o?0:12-s.length),s=e,h.push(s)}const v=nd(s);for(!function(e,t,n,r,i,o,a,s){const l=i.length,c=new Uint8Array(64),u=nd(c),d=eh(i)&&eh(o),h=d?nd(i):nh,f=d?nd(o):nh;for(let p=0;p<l;a++){if(e(t,n,r,u,a,s),a>=th)throw new Error("arx: counter overflow");const g=Math.min(64,l-p);if(d&&64===g){const e=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let t,n=0;n<16;n++)t=e+n,f[t]=h[t]^u[n];p+=64}else{for(let e,t=0;t<g;t++)e=p+t,o[e]=i[e]^c[t];p+=g}}}(e,p,y,v,l,c,u,a);h.length>0;)h.pop().fill(0);return c}}function ih(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:20,a=e[0],s=e[1],l=e[2],c=e[3],u=t[0],d=t[1],h=t[2],f=t[3],p=t[4],g=t[5],y=t[6],m=t[7],v=i,b=n[0],w=n[1],x=n[2],E=a,k=s,_=l,S=c,C=u,A=d,O=h,N=f,P=p,j=g,D=y,R=m,T=v,I=b,F=w,L=x;for(let M=0;M<o;M+=2)E=E+C|0,T=Xd(T^E,16),P=P+T|0,C=Xd(C^P,12),E=E+C|0,T=Xd(T^E,8),P=P+T|0,C=Xd(C^P,7),k=k+A|0,I=Xd(I^k,16),j=j+I|0,A=Xd(A^j,12),k=k+A|0,I=Xd(I^k,8),j=j+I|0,A=Xd(A^j,7),_=_+O|0,F=Xd(F^_,16),D=D+F|0,O=Xd(O^D,12),_=_+O|0,F=Xd(F^_,8),D=D+F|0,O=Xd(O^D,7),S=S+N|0,L=Xd(L^S,16),R=R+L|0,N=Xd(N^R,12),S=S+N|0,L=Xd(L^S,8),R=R+L|0,N=Xd(N^R,7),E=E+A|0,L=Xd(L^E,16),D=D+L|0,A=Xd(A^D,12),E=E+A|0,L=Xd(L^E,8),D=D+L|0,A=Xd(A^D,7),k=k+O|0,T=Xd(T^k,16),R=R+T|0,O=Xd(O^R,12),k=k+O|0,T=Xd(T^k,8),R=R+T|0,O=Xd(O^R,7),_=_+N|0,I=Xd(I^_,16),P=P+I|0,N=Xd(N^P,12),_=_+N|0,I=Xd(I^_,8),P=P+I|0,N=Xd(N^P,7),S=S+C|0,F=Xd(F^S,16),j=j+F|0,C=Xd(C^j,12),S=S+C|0,F=Xd(F^S,8),j=j+F|0,C=Xd(C^j,7);let B=0;r[B++]=a+E|0,r[B++]=s+k|0,r[B++]=l+_|0,r[B++]=c+S|0,r[B++]=u+C|0,r[B++]=d+A|0,r[B++]=h+O|0,r[B++]=f+N|0,r[B++]=p+P|0,r[B++]=g+j|0,r[B++]=y+D|0,r[B++]=m+R|0,r[B++]=v+T|0,r[B++]=b+I|0,r[B++]=w+F|0,r[B++]=x+L|0}const oh=rh(ih,{counterRight:!1,counterLength:4,allowShortKeys:!1}),ah=rh(ih,{counterRight:!1,counterLength:8,extendNonceFn:function(e,t,n,r){let i=e[0],o=e[1],a=e[2],s=e[3],l=t[0],c=t[1],u=t[2],d=t[3],h=t[4],f=t[5],p=t[6],g=t[7],y=n[0],m=n[1],v=n[2],b=n[3];for(let x=0;x<20;x+=2)i=i+l|0,y=Xd(y^i,16),h=h+y|0,l=Xd(l^h,12),i=i+l|0,y=Xd(y^i,8),h=h+y|0,l=Xd(l^h,7),o=o+c|0,m=Xd(m^o,16),f=f+m|0,c=Xd(c^f,12),o=o+c|0,m=Xd(m^o,8),f=f+m|0,c=Xd(c^f,7),a=a+u|0,v=Xd(v^a,16),p=p+v|0,u=Xd(u^p,12),a=a+u|0,v=Xd(v^a,8),p=p+v|0,u=Xd(u^p,7),s=s+d|0,b=Xd(b^s,16),g=g+b|0,d=Xd(d^g,12),s=s+d|0,b=Xd(b^s,8),g=g+b|0,d=Xd(d^g,7),i=i+c|0,b=Xd(b^i,16),p=p+b|0,c=Xd(c^p,12),i=i+c|0,b=Xd(b^i,8),p=p+b|0,c=Xd(c^p,7),o=o+u|0,y=Xd(y^o,16),g=g+y|0,u=Xd(u^g,12),o=o+u|0,y=Xd(y^o,8),g=g+y|0,u=Xd(u^g,7),a=a+d|0,m=Xd(m^a,16),h=h+m|0,d=Xd(d^h,12),a=a+d|0,m=Xd(m^a,8),h=h+m|0,d=Xd(d^h,7),s=s+l|0,v=Xd(v^s,16),f=f+v|0,l=Xd(l^f,12),s=s+l|0,v=Xd(v^s,8),f=f+v|0,l=Xd(l^f,7);let w=0;r[w++]=i,r[w++]=o,r[w++]=a,r[w++]=s,r[w++]=y,r[w++]=m,r[w++]=v,r[w++]=b},allowShortKeys:!1}),sh=new Uint8Array(16),lh=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(sh.subarray(n))},ch=new Uint8Array(32);function uh(e,t,n,r,i){const o=e(t,n,ch),a=Wd.create(o);i&&lh(a,i),lh(a,r);const s=new Uint8Array(16),l=rd(s);sd(l,0,BigInt(i?i.length:0),!0),sd(l,8,BigInt(r.length),!0),a.update(s);const c=a.digest();return o.fill(0),c}const dh=e=>(t,n,r)=>{const i=16;return Ju(t,32),Ju(n),{encrypt:(o,a)=>{const s=o.length,l=s+i;a?Ju(a,l):a=new Uint8Array(l),e(t,n,o,a,1);const c=uh(e,t,n,a.subarray(0,-16),r);return a.set(c,s),a},decrypt:(o,a)=>{const s=o.length,l=s-i;if(s<i)throw new Error("encrypted data must be at least ".concat(i," bytes"));a?Ju(a,l):a=new Uint8Array(l);const c=o.subarray(0,-16);if(!od(o.subarray(-16),uh(e,t,n,c,r)))throw new Error("invalid tag");return e(t,n,c,a,1),a}}};dh(oh),dh(ah);class hh extends ru{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,cu.hash(e);const n=tu(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return cu.exists(this),this.iHash.update(e),this}digestInto(e){cu.exists(this),cu.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const fh=(e,t,n)=>new hh(e,t).update(n).digest();function ph(e,t,n){return cu.hash(e),void 0===n&&(n=new Uint8Array(e.outputLen)),fh(e,tu(n),tu(t))}fh.create=(e,t)=>new hh(e,t);const gh=new Uint8Array([0]),yh=new Uint8Array;function mh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32;if(cu.hash(e),cu.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);void 0===n&&(n=yh);const o=new Uint8Array(i*e.outputLen),a=fh.create(e,t),s=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let c=0;c<i;c++)gh[0]=c+1,s.update(0===c?yh:l).update(n).update(gh).digestInto(l),o.set(l,e.outputLen*c),a._cloneInto(s);return a.destroy(),s.destroy(),l.fill(0),gh.fill(0),o.slice(0,r)}var vh=Object.defineProperty,bh=(e,t)=>{for(var n in t)vh(e,n,{get:t[n],enumerable:!0})},wh=Symbol("verified");function xh(e){if(!(e instanceof Object))return!1;if("number"!==typeof e.kind)return!1;if("string"!==typeof e.content)return!1;if("number"!==typeof e.created_at)return!1;if("string"!==typeof e.pubkey)return!1;if(!e.pubkey.match(/^[a-f0-9]{64}$/))return!1;if(!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let e=0;e<n.length;e++)if("object"===typeof n[e])return!1}return!0}bh({},{Queue:()=>Nh,QueueNode:()=>Oh,binarySearch:()=>Ah,insertEventIntoAscendingList:()=>Ch,insertEventIntoDescendingList:()=>Sh,normalizeURL:()=>_h,utf8Decoder:()=>Eh,utf8Encoder:()=>kh});var Eh=new TextDecoder("utf-8"),kh=new TextEncoder;function _h(e){-1===e.indexOf("://")&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),("80"===t.port&&"ws:"===t.protocol||"443"===t.port&&"wss:"===t.protocol)&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function Sh(e,t){const[n,r]=Ah(e,(e=>t.id===e.id?0:t.created_at===e.created_at?-1:e.created_at-t.created_at));return r||e.splice(n,0,t),e}function Ch(e,t){const[n,r]=Ah(e,(e=>t.id===e.id?0:t.created_at===e.created_at?-1:t.created_at-e.created_at));return r||e.splice(n,0,t),e}function Ah(e,t){let n=0,r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),o=t(e[i]);if(0===o)return[i,!0];o<0?r=i-1:n=i+1}return[n,!1]}var Oh=class{constructor(e){d(this,"value",void 0),d(this,"next",null),d(this,"prev",null),this.value=e}},Nh=class{constructor(){d(this,"first",void 0),d(this,"last",void 0),this.first=null,this.last=null}enqueue(e){const t=new Oh(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const e=this.first;return this.first=null,this.last=null,e.value}const e=this.first;return this.first=e.next,e.value}};function Ph(e){return Xc(vu(kh.encode(function(e){if(!xh(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}(e))))}var jh=new class{generateSecretKey(){return Wc.utils.randomPrivateKey()}getPublicKey(e){return Xc(Wc.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=Xc(Wc.getPublicKey(t)),n.id=Ph(n),n.sig=Xc(Wc.sign(Ph(n),t)),n[wh]=!0,n}verifyEvent(e){if("boolean"===typeof e[wh])return e[wh];const t=Ph(e);if(t!==e.id)return e[wh]=!1,!1;try{const n=Wc.verify(e.sig,t,e.pubkey);return e[wh]=n,n}catch(n){return e[wh]=!1,!1}}},Dh=jh.generateSecretKey,Rh=jh.getPublicKey,Th=jh.finalizeEvent,Ih=jh.verifyEvent;function Fh(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function Lh(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function Bh(e){return 2e4<=e&&e<3e4}function Mh(e){return 3e4<=e&&e<4e4}function Uh(e){return Fh(e)?"regular":Lh(e)?"replaceable":Bh(e)?"ephemeral":Mh(e)?"parameterized":"unknown"}function zh(e,t){const n=t instanceof Array?t:[t];return xh(e)&&n.includes(e.kind)||!1}bh({},{Application:()=>ep,BadgeAward:()=>Qh,BadgeDefinition:()=>Wf,BlockedRelaysList:()=>Of,BookmarkList:()=>Sf,Bookmarksets:()=>Kf,Calendar:()=>sp,CalendarEventRSVP:()=>lp,ChannelCreation:()=>ef,ChannelHideMessage:()=>rf,ChannelMessage:()=>nf,ChannelMetadata:()=>tf,ChannelMuteUser:()=>of,ClassifiedListing:()=>rp,ClientAuth:()=>Ff,CommunitiesList:()=>Cf,CommunityDefinition:()=>dp,CommunityPostApproval:()=>pf,Contacts:()=>Vh,CreateOrUpdateProduct:()=>Qf,CreateOrUpdateStall:()=>Zf,Curationsets:()=>Vf,Date:()=>op,DirectMessageRelaysList:()=>Df,DraftClassifiedListing:()=>ip,DraftLong:()=>Jf,Emojisets:()=>Xf,EncryptedDirectMessage:()=>Gh,EventDeletion:()=>Wh,FileMetadata:()=>lf,FileServerPreference:()=>Rf,Followsets:()=>zf,GenericRepost:()=>Xh,Genericlists:()=>Hf,GiftWrap:()=>sf,HTTPAuth:()=>Uf,Handlerinformation:()=>up,Handlerrecommendation:()=>cp,Highlights:()=>xf,InterestsList:()=>Pf,Interestsets:()=>Yf,JobFeedback:()=>mf,JobRequest:()=>gf,JobResult:()=>yf,Label:()=>ff,LightningPubRPC:()=>If,LiveChatMessage:()=>cf,LiveEvent:()=>tp,LongFormArticle:()=>$f,Metadata:()=>Hh,Mutelist:()=>Ef,NWCWalletInfo:()=>Tf,NWCWalletRequest:()=>Lf,NWCWalletResponse:()=>Bf,NostrConnect:()=>Mf,OpenTimestamps:()=>af,Pinlist:()=>kf,PrivateDirectMessage:()=>Jh,ProblemTracker:()=>uf,ProfileBadges:()=>Gf,PublicChatsList:()=>Af,Reaction:()=>Zh,RecommendRelay:()=>Kh,RelayList:()=>_f,Relaysets:()=>qf,Report:()=>df,Reporting:()=>hf,Repost:()=>Yh,Seal:()=>$h,SearchRelaysList:()=>Nf,ShortTextNote:()=>qh,Time:()=>ap,UserEmojiList:()=>jf,UserStatuses:()=>np,Zap:()=>wf,ZapGoal:()=>vf,ZapRequest:()=>bf,classifyKind:()=>Uh,isEphemeralKind:()=>Bh,isKind:()=>zh,isParameterizedReplaceableKind:()=>Mh,isRegularKind:()=>Fh,isReplaceableKind:()=>Lh});var Hh=0,qh=1,Kh=2,Vh=3,Gh=4,Wh=5,Yh=6,Zh=7,Qh=8,$h=13,Jh=14,Xh=16,ef=40,tf=41,nf=42,rf=43,of=44,af=1040,sf=1059,lf=1063,cf=1311,uf=1971,df=1984,hf=1984,ff=1985,pf=4550,gf=5999,yf=6999,mf=7e3,vf=9041,bf=9734,wf=9735,xf=9802,Ef=1e4,kf=10001,_f=10002,Sf=10003,Cf=10004,Af=10005,Of=10006,Nf=10007,Pf=10015,jf=10030,Df=10050,Rf=10096,Tf=13194,If=21e3,Ff=22242,Lf=23194,Bf=23195,Mf=24133,Uf=27235,zf=3e4,Hf=30001,qf=30002,Kf=30003,Vf=30004,Gf=30008,Wf=30009,Yf=30015,Zf=30017,Qf=30018,$f=30023,Jf=30024,Xf=30030,ep=30078,tp=30311,np=30315,rp=30402,ip=30403,op=31922,ap=31923,sp=31924,lp=31925,cp=31989,up=31990,dp=34550;function hp(e,t){if(e.ids&&-1===e.ids.indexOf(t.id))return!1;if(e.kinds&&-1===e.kinds.indexOf(t.kind))return!1;if(e.authors&&-1===e.authors.indexOf(t.pubkey))return!1;for(let n in e)if("#"===n[0]){let r=n.slice(1),i=e["#".concat(r)];if(i&&!t.tags.find((e=>{let[t,r]=e;return t===n.slice(1)&&-1!==i.indexOf(r)})))return!1}return!(e.since&&t.created_at<e.since)&&!(e.until&&t.created_at>e.until)}function fp(e,t){for(let n=0;n<e.length;n++)if(hp(e[n],t))return!0;return!1}function pp(e,t){let n=t.length+3,r=e.indexOf('"'.concat(t,'":'))+n,i=e.slice(r).indexOf('"')+r+1;return e.slice(i,i+64)}function gp(e,t){let n=t.length,r=e.indexOf('"'.concat(t,'":'))+n+3,i=e.slice(r),o=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,o),10)}function yp(e){let t=e.slice(0,22).indexOf('"EVENT"');if(-1===t)return null;let n=e.slice(t+7+1).indexOf('"');if(-1===n)return null;let r=t+7+1+n,i=e.slice(r+1,80).indexOf('"');if(-1===i)return null;let o=r+1+i;return e.slice(r+1,o)}function mp(e,t){return t===pp(e,"id")}function vp(e,t){return t===pp(e,"pubkey")}function bp(e,t){return t===gp(e,"kind")}bh({},{getHex64:()=>pp,getInt:()=>gp,getSubscriptionId:()=>yp,matchEventId:()=>mp,matchEventKind:()=>bp,matchEventPubkey:()=>vp});function wp(e,t){return{kind:Ff,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}bh({},{makeAuthEvent:()=>wp});try{WebSocket}catch(cY){}try{WebSocket}catch(uY){}var xp={};bh(xp,{BECH32_REGEX:()=>_p,Bech32MaxSize:()=>kp,NostrTypeGuard:()=>Ep,decode:()=>Sp,encodeBytes:()=>jp,naddrEncode:()=>Tp,neventEncode:()=>Rp,noteEncode:()=>Np,nprofileEncode:()=>Dp,npubEncode:()=>Op,nsecEncode:()=>Ap});var Ep={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},kp=5e3,_p=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function Sp(e){let{prefix:t,words:n}=Vu.decode(e,kp),r=new Uint8Array(Vu.fromWords(n));switch(t){case"nprofile":{var i;let e=Cp(r);if(null===(i=e[0])||void 0===i||!i[0])throw new Error("missing TLV 0 for nprofile");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Xc(e[0][0]),relays:e[1]?e[1].map((e=>Eh.decode(e))):[]}}}case"nevent":{var o,a,s;let e=Cp(r);if(null===(o=e[0])||void 0===o||!o[0])throw new Error("missing TLV 0 for nevent");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");if(e[2]&&32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(e[3]&&4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Xc(e[0][0]),relays:e[1]?e[1].map((e=>Eh.decode(e))):[],author:null!==(a=e[2])&&void 0!==a&&a[0]?Xc(e[2][0]):void 0,kind:null!==(s=e[3])&&void 0!==s&&s[0]?parseInt(Xc(e[3][0]),16):void 0}}}case"naddr":{var l,c,u;let e=Cp(r);if(null===(l=e[0])||void 0===l||!l[0])throw new Error("missing TLV 0 for naddr");if(null===(c=e[2])||void 0===c||!c[0])throw new Error("missing TLV 2 for naddr");if(32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(null===(u=e[3])||void 0===u||!u[0])throw new Error("missing TLV 3 for naddr");if(4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Eh.decode(e[0][0]),pubkey:Xc(e[2][0]),kind:parseInt(Xc(e[3][0]),16),relays:e[1]?e[1].map((e=>Eh.decode(e))):[]}}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:Xc(r)};default:throw new Error("unknown prefix ".concat(t))}}function Cp(e){let t={},n=e;for(;n.length>0;){let e=n[0],r=n[1],i=n.slice(2,2+r);if(n=n.slice(2+r),i.length<r)throw new Error("not enough data to read on TLV ".concat(e));t[e]=t[e]||[],t[e].push(i)}return t}function Ap(e){return jp("nsec",e)}function Op(e){return jp("npub",eu(e))}function Np(e){return jp("note",eu(e))}function Pp(e,t){let n=Vu.toWords(t);return Vu.encode(e,n,kp)}function jp(e,t){return Pp(e,t)}function Dp(e){return Pp("nprofile",Ip({0:[eu(e.pubkey)],1:(e.relays||[]).map((e=>kh.encode(e)))}))}function Rp(e){let t;return void 0!==e.kind&&(t=function(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=255&e,t}(e.kind)),Pp("nevent",Ip({0:[eu(e.id)],1:(e.relays||[]).map((e=>kh.encode(e))),2:e.author?[eu(e.author)]:[],3:t?[new Uint8Array(t)]:[]}))}function Tp(e){let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e.kind,!1),Pp("naddr",Ip({0:[kh.encode(e.identifier)],1:(e.relays||[]).map((e=>kh.encode(e))),2:[eu(e.pubkey)],3:[new Uint8Array(t)]}))}function Ip(e){let t=[];return Object.entries(e).reverse().forEach((e=>{let[n,r]=e;r.forEach((e=>{let r=new Uint8Array(e.length+2);r.set([parseInt(n)],0),r.set([e.length],1),r.set(e,2),t.push(r)}))})),nu(...t)}var Fp={};async function Lp(e,t,n){const r=e instanceof Uint8Array?Xc(e):e,i=Mp(jc.getSharedSecret(r,"02"+t));let o=Uint8Array.from(ou(16)),a=kh.encode(n),s=Hd(i,o).encrypt(a),l=Tu.encode(new Uint8Array(s)),c=Tu.encode(new Uint8Array(o.buffer));return"".concat(l,"?iv=").concat(c)}async function Bp(e,t,n){const r=e instanceof Uint8Array?Xc(e):e;let[i,o]=n.split("?iv="),a=Mp(jc.getSharedSecret(r,"02"+t)),s=Tu.decode(o),l=Tu.decode(i),c=Hd(a,s).decrypt(l);return Eh.decode(c)}function Mp(e){return e.slice(1,33)}bh(Fp,{decrypt:()=>Bp,encrypt:()=>Lp});bh({},{NIP05_REGEX:()=>zp,isNip05:()=>Hp,isValid:()=>Gp,queryProfile:()=>Vp,searchDomain:()=>Kp,useFetchImplementation:()=>qp});var Up,zp=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,Hp=e=>zp.test(e||"");try{Up=fetch}catch(hY){}function qp(e){Up=e}async function Kp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{const n="https://".concat(e,"/.well-known/nostr.json?name=").concat(t),r=await Up(n,{redirect:"manual"});if(200!==r.status)throw Error("Wrong response code");return(await r.json()).names}catch(hY){return{}}}async function Vp(e){const t=e.match(zp);if(!t)return null;const[,n="_",r]=t;try{var i;const e="https://".concat(r,"/.well-known/nostr.json?name=").concat(n),t=await Up(e,{redirect:"manual"});if(200!==t.status)throw Error("Wrong response code");const o=await t.json(),a=o.names[n];return a?{pubkey:a,relays:null===(i=o.relays)||void 0===i?void 0:i[a]}:null}catch(o){return null}}async function Gp(e,t){const n=await Vp(t);return!!n&&n.pubkey===e}function Wp(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let n,r;for(let i=e.tags.length-1;i>=0;i--){const o=e.tags[i];if("e"===o[0]&&o[1]){const[e,i,a,s,l]=o,c={id:i,relays:a?[a]:[],author:l};if("root"===s){t.root=c;continue}if("reply"===s){t.reply=c;continue}if("mention"===s){t.mentions.push(c);continue}n?r=c:n=c,t.mentions.push(c)}else{if("q"===o[0]&&o[1]){const[e,n,r]=o;t.quotes.push({id:n,relays:r?[r]:[]})}"p"===o[0]&&o[1]&&t.profiles.push({pubkey:o[1],relays:o[2]?[o[2]]:[]})}}return t.root||(t.root=r||n||t.reply),t.reply||(t.reply=n||t.root),[t.reply,t.root].forEach((e=>{if(!e)return;let n=t.mentions.indexOf(e);if(-1!==n&&t.mentions.splice(n,1),e.author){let n=t.profiles.find((t=>t.pubkey===e.author));n&&n.relays&&(e.relays||(e.relays=[]),n.relays.forEach((t=>{var n;-1===(null===(n=e.relays)||void 0===n?void 0:n.indexOf(t))&&e.relays.push(t)})),n.relays=e.relays)}})),t.mentions.forEach((e=>{if(e.author){let n=t.profiles.find((t=>t.pubkey===e.author));n&&n.relays&&(e.relays||(e.relays=[]),n.relays.forEach((t=>{-1===e.relays.indexOf(t)&&e.relays.push(t)})),n.relays=e.relays)}})),t}bh({},{parse:()=>Wp});bh({},{fetchRelayInformation:()=>Zp,useFetchImplementation:()=>Yp});try{fetch}catch(dY){}function Yp(e){0}async function Zp(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}function Qp(e){let t=0;for(let n=0;n<64;n+=8){const r=parseInt(e.substring(n,n+8),16);if(0!==r){t+=Math.clz32(r);break}t+=32}return t}function $p(e,t){let n=0;const r=e,i=["nonce",n.toString(),t.toString()];for(r.tags.push(i);;){const e=Math.floor((new Date).getTime()/1e3);if(e!==r.created_at&&(n=0,r.created_at=e),i[1]=(++n).toString(),r.id=Jp(r),Qp(r.id)>=t)break}return r}function Jp(e){return Xc(vu(kh.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}bh({},{fastEventHash:()=>Jp,getPow:()=>Qp,minePow:()=>$p});function Xp(e,t,n,r){var i;return Th({kind:Yh,tags:[...null!==(i=e.tags)&&void 0!==i?i:[],["e",t.id,n],["p",t.pubkey]],content:""===e.content?"":JSON.stringify(t),created_at:e.created_at},r)}function eg(e){var t,n;if(e.kind!==Yh)return;let r,i;for(let o=e.tags.length-1;o>=0&&(void 0===r||void 0===i);o--){const t=e.tags[o];t.length>=2&&("e"===t[0]&&void 0===r?r=t:"p"===t[0]&&void 0===i&&(i=t))}return void 0!==r?{id:r[1],relays:[r[2],null===(t=i)||void 0===t?void 0:t[2]].filter((e=>"string"===typeof e)),author:null===(n=i)||void 0===n?void 0:n[1]}:void 0}function tg(e){let{skipVerification:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=eg(e);if(void 0===n||""===e.content)return;let r;try{r=JSON.parse(e.content)}catch(kU){return}return r.id===n.id&&(t||Ih(r))?r:void 0}bh({},{finishRepostEvent:()=>Xp,getRepostedEvent:()=>tg,getRepostedEventPointer:()=>eg});bh({},{NOSTR_URI_REGEX:()=>ng,parse:()=>ig,test:()=>rg});var ng=new RegExp("nostr:(".concat(_p.source,")"));function rg(e){return"string"===typeof e&&new RegExp("^".concat(ng.source,"$")).test(e)}function ig(e){const t=e.match(new RegExp("^".concat(ng.source,"$")));if(!t)throw new Error("Invalid Nostr URI: ".concat(e));return{uri:t[0],value:t[1],decoded:Sp(t[1])}}function og(e,t,n){var r,i;const o=t.tags.filter((e=>e.length>=2&&("e"===e[0]||"p"===e[0])));return Th(f(f({},e),{},{kind:Zh,tags:[...null!==(r=e.tags)&&void 0!==r?r:[],...o,["e",t.id],["p",t.pubkey]],content:null!==(i=e.content)&&void 0!==i?i:"+"}),n)}function ag(e){if(e.kind!==Zh)return;let t,n;for(let r=e.tags.length-1;r>=0&&(void 0===t||void 0===n);r--){const i=e.tags[r];i.length>=2&&("e"===i[0]&&void 0===t?t=i:"p"===i[0]&&void 0===n&&(n=i))}return void 0!==t&&void 0!==n?{id:t[1],relays:[t[2],n[2]].filter((e=>void 0!==e)),author:n[1]}:void 0}bh({},{finishReactionEvent:()=>og,getReactedEventPointer:()=>ag});bh({},{matchAll:()=>lg,regex:()=>sg,replaceAll:()=>cg});var sg=()=>new RegExp("\\b".concat(ng.source,"\\b"),"g");function*lg(e){const t=e.matchAll(sg());for(const r of t)try{const[e,t]=r;yield{uri:e,value:t,decoded:Sp(t),start:r.index,end:r.index+e.length}}catch(n){}}function cg(e,t){return e.replaceAll(sg(),((e,n)=>t({uri:e,value:n,decoded:Sp(n)})))}bh({},{channelCreateEvent:()=>ug,channelHideMessageEvent:()=>fg,channelMessageEvent:()=>hg,channelMetadataEvent:()=>dg,channelMuteUserEvent:()=>pg});var ug=(e,t)=>{var n;let r;if("object"===typeof e.content)r=JSON.stringify(e.content);else{if("string"!==typeof e.content)return;r=e.content}return Th({kind:ef,tags:[...null!==(n=e.tags)&&void 0!==n?n:[]],content:r,created_at:e.created_at},t)},dg=(e,t)=>{var n;let r;if("object"===typeof e.content)r=JSON.stringify(e.content);else{if("string"!==typeof e.content)return;r=e.content}return Th({kind:tf,tags:[["e",e.channel_create_event_id],...null!==(n=e.tags)&&void 0!==n?n:[]],content:r,created_at:e.created_at},t)},hg=(e,t)=>{var n;const r=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&r.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),Th({kind:nf,tags:[...r,...null!==(n=e.tags)&&void 0!==n?n:[]],content:e.content,created_at:e.created_at},t)},fg=(e,t)=>{var n;let r;if("object"===typeof e.content)r=JSON.stringify(e.content);else{if("string"!==typeof e.content)return;r=e.content}return Th({kind:rf,tags:[["e",e.channel_message_event_id],...null!==(n=e.tags)&&void 0!==n?n:[]],content:r,created_at:e.created_at},t)},pg=(e,t)=>{var n;let r;if("object"===typeof e.content)r=JSON.stringify(e.content);else{if("string"!==typeof e.content)return;r=e.content}return Th({kind:of,tags:[["p",e.pubkey_to_mute],...null!==(n=e.tags)&&void 0!==n?n:[]],content:r,created_at:e.created_at},t)};bh({},{EMOJI_SHORTCODE_REGEX:()=>gg,matchAll:()=>mg,regex:()=>yg,replaceAll:()=>vg});var gg=/:(\w+):/,yg=()=>new RegExp("\\B".concat(gg.source,"\\B"),"g");function*mg(e){const t=e.matchAll(yg());for(const r of t)try{const[e,t]=r;yield{shortcode:e,name:t,start:r.index,end:r.index+e.length}}catch(n){}}function vg(e,t){return e.replaceAll(yg(),((e,n)=>t({shortcode:e,name:n})))}var bg;bh({},{useFetchImplementation:()=>wg,validateGithub:()=>xg});try{bg=fetch}catch(fY){}function wg(e){bg=e}async function xg(e,t,n){try{return await(await bg("https://gist.github.com/".concat(t,"/").concat(n,"/raw"))).text()==="Verifying that I control the following Nostr public key: ".concat(e)}catch(hY){return!1}}var Eg={};bh(Eg,{decrypt:()=>jg,encrypt:()=>Pg,getConversationKey:()=>Sg,v2:()=>Dg});var kg=1,_g=65535;function Sg(e,t){const n=jc.getSharedSecret(e,"02"+t).subarray(1,33);return ph(vu,n,"nip44-v2")}function Cg(e,t){const n=mh(vu,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function Ag(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function Og(e){const t=kh.encode(e),n=t.length,r=function(e){if(!Number.isSafeInteger(e)||e<kg||e>_g)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}(n);return nu(r,t,new Uint8Array(Ag(n)-n))}function Ng(e,t,n){if(32!==n.length)throw new Error("AAD associated data must be 32 bytes");const r=nu(n,t);return fh(vu,e,r)}function Pg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ou(32);const{chacha_key:r,chacha_nonce:i,hmac_key:o}=Cg(t,n),a=Og(e),s=oh(r,i,a),l=Ng(o,s,n);return Tu.encode(nu(new Uint8Array([2]),n,s,l))}function jg(e,t){const{nonce:n,ciphertext:r,mac:i}=function(e){if("string"!==typeof e)throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if("#"===e[0])throw new Error("unknown encryption version");let n;try{n=Tu.decode(e)}catch(kU){throw new Error("invalid base64: "+kU.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const i=n[0];if(2!==i)throw new Error("unknown encryption version "+i);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}(e),{chacha_key:o,chacha_nonce:a,hmac_key:s}=Cg(t,n);if(!od(Ng(s,r,n),i))throw new Error("invalid MAC");return function(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<kg||t>_g||n.length!==t||e.length!==2+Ag(t))throw new Error("invalid padding");return Eh.decode(n)}(oh(o,a,r))}var Dg={utils:{getConversationKey:Sg,calcPaddedLen:Ag},encrypt:Pg,decrypt:jg};function Rg(e){const{pathname:t,searchParams:n}=new URL(e),r=t,i=n.get("relay"),o=n.get("secret");if(!r||!i||!o)throw new Error("invalid connection string");return{pubkey:r,relay:i,secret:o}}async function Tg(e,t,n){const r={method:"pay_invoice",params:{invoice:n}},i=await Lp(t,e,JSON.stringify(r)),o={kind:Lf,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e]]};return Th(o,t)}bh({},{makeNwcRequestEvent:()=>Tg,parseConnectionString:()=>Rg});var Ig,Fg={};bh(Fg,{getZapEndpoint:()=>Bg,makeZapReceipt:()=>zg,makeZapRequest:()=>Mg,useFetchImplementation:()=>Lg,validateZapRequest:()=>Ug});try{Ig=fetch}catch(pY){}function Lg(e){Ig=e}async function Bg(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:e}=Vu.decode(n,1e3),r=Vu.fromWords(e);t=Eh.decode(r)}else{if(!r)return null;{let[e,n]=r.split("@");t=new URL("/.well-known/lnurlp/".concat(e),"https://".concat(n)).toString()}}let i=await Ig(t),o=await i.json();if(o.allowsNostr&&o.nostrPubkey)return o.callback}catch(t){}return null}function Mg(e){let{profile:t,event:n,amount:r,relays:i,comment:o=""}=e;if(!r)throw new Error("amount not given");if(!t)throw new Error("profile not given");let a={kind:9734,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",t],["amount",r.toString()],["relays",...i]]};return n&&a.tags.push(["e",n]),a}function Ug(e){let t;try{t=JSON.parse(e)}catch(o){return"Invalid zap request JSON."}if(!xh(t))return"Zap request is not a valid Nostr event.";if(!Ih(t))return"Invalid signature on zap request.";let n=t.tags.find((e=>{let[t,n]=e;return"p"===t&&n}));if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find((e=>{let[t,n]=e;return"e"===t&&n}));if(r&&!r[1].match(/^[a-f0-9]{64}$/))return"Zap request 'e' tag is not valid hex.";let i=t.tags.find((e=>{let[t,n]=e;return"relays"===t&&n}));return i?null:"Zap request doesn't have a 'relays' tag."}function zg(e){let{zapRequest:t,preimage:n,bolt11:r,paidAt:i}=e,o=JSON.parse(t),a=o.tags.filter((e=>{let[t]=e;return"e"===t||"p"===t||"a"===t})),s={kind:9735,created_at:Math.round(i.getTime()/1e3),content:"",tags:[...a,["P",o.pubkey],["bolt11",r],["description",t]]};return n&&s.tags.push(["preimage",n]),s}bh({},{createRumor:()=>Wg,createSeal:()=>Yg,createWrap:()=>Zg,unwrapEvent:()=>Jg,unwrapManyEvents:()=>Xg,wrapEvent:()=>Qg,wrapManyEvents:()=>$g});var Hg=()=>Math.round(Date.now()/1e3),qg=()=>Math.round(Hg()-172800*Math.random()),Kg=(e,t)=>Sg(e,t),Vg=(e,t,n)=>Pg(JSON.stringify(e),Kg(t,n)),Gg=(e,t)=>JSON.parse(jg(e.content,Kg(t,e.pubkey)));function Wg(e,t){const n=f(f({created_at:Hg(),content:"",tags:[]},e),{},{pubkey:Rh(t)});return n.id=Ph(n),n}function Yg(e,t,n){return Th({kind:$h,content:Vg(e,t,n),created_at:qg(),tags:[]},t)}function Zg(e,t){const n=Dh();return Th({kind:sf,content:Vg(e,n,t),created_at:qg(),tags:[["p",t]]},n)}function Qg(e,t,n){return Zg(Yg(Wg(e,t),t,n),n)}function $g(e,t,n){if(!n||0===n.length)throw new Error("At least one recipient is required.");const r=Rh(t),i=[Qg(e,t,r)];return n.forEach((n=>{i.push(Qg(e,t,n))})),i}function Jg(e,t){const n=Gg(e,t);return Gg(n,t)}function Xg(e,t){let n=[];return e.forEach((e=>{n.push(Jg(e,t))})),n.sort(((e,t)=>e.created_at-t.created_at)),n}bh({},{getToken:()=>ty,hashPayload:()=>ly,unpackEventFromToken:()=>ry,validateEvent:()=>uy,validateEventKind:()=>oy,validateEventMethodTag:()=>sy,validateEventPayloadTag:()=>cy,validateEventTimestamp:()=>iy,validateEventUrlTag:()=>ay,validateToken:()=>ny});var ey="Nostr ";async function ty(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;const o={kind:Uf,tags:[["u",e],["method",t]],created_at:Math.round((new Date).getTime()/1e3),content:""};i&&o.tags.push(["payload",ly(i)]);const a=await n(o);return(r?ey:"")+Tu.encode(kh.encode(JSON.stringify(a)))}async function ny(e,t,n){const r=await ry(e).catch((e=>{throw e})),i=await uy(r,t,n).catch((e=>{throw e}));return i}async function ry(e){if(!e)throw new Error("Missing token");e=e.replace(ey,"");const t=Eh.decode(Tu.decode(e));if(!t||0===t.length||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function iy(e){return!!e.created_at&&Math.round((new Date).getTime()/1e3)-e.created_at<60}function oy(e){return e.kind===Uf}function ay(e,t){const n=e.tags.find((e=>"u"===e[0]));return!!n&&(n.length>0&&n[1]===t)}function sy(e,t){const n=e.tags.find((e=>"method"===e[0]));return!!n&&(n.length>0&&n[1].toLowerCase()===t.toLowerCase())}function ly(e){return Xc(vu(kh.encode(JSON.stringify(e))))}function cy(e,t){const n=e.tags.find((e=>"payload"===e[0]));if(!n)return!1;const r=ly(t);return n.length>0&&n[1]===r}async function uy(e,t,n,r){if(!Ih(e))throw new Error("Invalid nostr event, signature invalid");if(!oy(e))throw new Error("Invalid nostr event, kind invalid");if(!iy(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!ay(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!sy(e,n))throw new Error("Invalid nostr event, method tag invalid");if(Boolean(r)&&"object"===typeof r&&Object.keys(r).length>0&&!cy(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}function dy(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function hy(e){if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function fy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const py="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function gy(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function yy(e,t){return e<<32-t|e>>>t}const my=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function vy(e){hy(e);let t="";for(let n=0;n<e.length;n++)t+=my[e[n]];return t}const by=48,wy=57,xy=65,Ey=70,ky=97,_y=102;function Sy(e){return e>=by&&e<=wy?e-by:e>=xy&&e<=Ey?e-(xy-10):e>=ky&&e<=_y?e-(ky-10):void 0}function Cy(e){return"string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),hy(e),e}class Ay{clone(){return this._cloneInto()}}function Oy(e){const t=t=>e().update(Cy(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Ny(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(py&&"function"===typeof py.getRandomValues)return py.getRandomValues(new Uint8Array(e));if(py&&"function"===typeof py.randomBytes)return py.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function Py(e,t,n){return e&t^~e&n}function jy(e,t,n){return e&t^e&n^t&n}class Dy extends Ay{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=gy(this.buffer)}update(e){fy(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=Cy(e)).length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);if(a!==r)n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=gy(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){fy(this),function(e,t){hy(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let u=o;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,a,r),e.setUint32(t+c,s,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const a=gy(e),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=s/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)a.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:a}=this;return e.length=r,e.pos=a,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const Ry=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ty=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Iy=new Uint32Array(64);class Fy extends Dy{constructor(){super(64,32,8,!1),this.A=0|Ty[0],this.B=0|Ty[1],this.C=0|Ty[2],this.D=0|Ty[3],this.E=0|Ty[4],this.F=0|Ty[5],this.G=0|Ty[6],this.H=0|Ty[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:a,H:s}=this;return[e,t,n,r,i,o,a,s]}set(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let u=0;u<16;u++,t+=4)Iy[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=Iy[u-15],t=Iy[u-2],n=yy(e,7)^yy(e,18)^e>>>3,r=yy(t,17)^yy(t,19)^t>>>10;Iy[u]=r+Iy[u-7]+n+Iy[u-16]|0}let{A:n,B:r,C:i,D:o,E:a,F:s,G:l,H:c}=this;for(let u=0;u<64;u++){const e=c+(yy(a,6)^yy(a,11)^yy(a,25))+Py(a,s,l)+Ry[u]+Iy[u]|0,t=(yy(n,2)^yy(n,13)^yy(n,22))+jy(n,r,i)|0;c=l,l=s,s=a,a=o+e|0,o=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,i,o,a,s,l,c)}roundClean(){Iy.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ly=Oy((()=>new Fy));class By extends Ay{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");dy(e.outputLen),dy(e.blockLen)}(e);const n=Cy(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return fy(this),this.iHash.update(e),this}digestInto(e){fy(this),hy(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const My=(e,t,n)=>new By(e,t).update(n).digest();My.create=(e,t)=>new By(e,t);const Uy=BigInt(0),zy=BigInt(1),Hy=BigInt(2);function qy(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Ky(e){if(!qy(e))throw new Error("Uint8Array expected")}function Vy(e,t){if("boolean"!==typeof t)throw new Error(e+" boolean expected, got "+t)}const Gy=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Wy(e){Ky(e);let t="";for(let n=0;n<e.length;n++)t+=Gy[e[n]];return t}function Yy(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function Zy(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?Uy:BigInt("0x"+e)}const Qy={_0:48,_9:57,A:65,F:70,a:97,f:102};function $y(e){return e>=Qy._0&&e<=Qy._9?e-Qy._0:e>=Qy.A&&e<=Qy.F?e-(Qy.A-10):e>=Qy.a&&e<=Qy.f?e-(Qy.a-10):void 0}function Jy(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const t=$y(e.charCodeAt(o)),n=$y(e.charCodeAt(o+1));if(void 0===t||void 0===n){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}r[i]=16*t+n}return r}function Xy(e){return Zy(Wy(e))}function em(e){return Ky(e),Zy(Wy(Uint8Array.from(e).reverse()))}function tm(e,t){return Jy(e.toString(16).padStart(2*t,"0"))}function nm(e,t){return tm(e,t).reverse()}function rm(e,t,n){let r;if("string"===typeof t)try{r=Jy(t)}catch(oR){throw new Error(e+" must be hex string or Uint8Array, cause: "+oR)}else{if(!qy(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function im(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];Ky(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}const om=e=>"bigint"===typeof e&&Uy<=e;function am(e,t,n){return om(e)&&om(t)&&om(n)&&t<=e&&e<n}function sm(e,t,n,r){if(!am(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function lm(e){let t;for(t=0;e>Uy;e>>=zy,t+=1);return t}const cm=e=>(Hy<<BigInt(e-1))-zy,um=e=>new Uint8Array(e),dm=e=>Uint8Array.from(e);function hm(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=um(e),i=um(e),o=0;const a=()=>{r.fill(1),i.fill(0),o=0},s=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n(i,r,...t)},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:um();i=s(dm([0]),e),r=s(),0!==e.length&&(i=s(dm([1]),e),r=s())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=s();const t=r.slice();n.push(t),e+=r.length}return im(...n)};return(e,t)=>{let n;for(a(),l(e);!(n=t(c()));)l();return a(),n}}const fm={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||qy(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function pm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=fm[n];if("function"!==typeof i)throw new Error("invalid validator function");const o=e[t];if((!r||void 0!==o)&&!i(o,e))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+o)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}function gm(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];const s=e(n,...o);return t.set(n,s),s}}const ym=BigInt(0),mm=BigInt(1),vm=BigInt(2),bm=BigInt(3),wm=BigInt(4),xm=BigInt(5),Em=BigInt(8);function km(e,t){const n=e%t;return n>=ym?n:t+n}function _m(e,t,n){if(t<ym)throw new Error("invalid exponent, negatives unsupported");if(n<=ym)throw new Error("invalid modulus");if(n===mm)return ym;let r=mm;for(;t>ym;)t&mm&&(r=r*e%n),e=e*e%n,t>>=mm;return r}function Sm(e,t,n){let r=e;for(;t-- >ym;)r*=r,r%=n;return r}function Cm(e,t){if(e===ym)throw new Error("invert: expected non-zero number");if(t<=ym)throw new Error("invert: expected positive modulus, got "+t);let n=km(e,t),r=t,i=ym,o=mm,a=mm,s=ym;for(;n!==ym;){const e=r/n,t=r%n,l=i-a*e,c=o-s*e;r=n,n=t,i=a,o=s,a=l,s=c}if(r!==mm)throw new Error("invert: does not exist");return km(i,t)}function Am(e){if(e%wm===bm){const t=(e+mm)/wm;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%Em===xm){const t=(e-xm)/Em;return function(e,n){const r=e.mul(n,vm),i=e.pow(r,t),o=e.mul(n,i),a=e.mul(e.mul(o,vm),i),s=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(s),n))throw new Error("Cannot find square root");return s}}return function(e){const t=(e-mm)/vm;let n,r,i;for(n=e-mm,r=0;n%vm===ym;n/=vm,r++);for(i=vm;i<e&&_m(i,t,e)!==e-mm;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===r){const t=(e+mm)/wm;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const o=(n+mm)/vm;return function(e,a){if(e.pow(a,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let s=r,l=e.pow(e.mul(e.ONE,i),n),c=e.pow(a,o),u=e.pow(a,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(l,mm<<BigInt(s-t-1));l=e.sqr(n),c=e.mul(c,n),u=e.mul(u,l),s=t}return c}}(e)}const Om=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Nm(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Pm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=ym)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:o}=Nm(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const s=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:o,MASK:cm(i),ZERO:ym,ONE:mm,create:t=>km(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return ym<=t&&t<e},is0:e=>e===ym,isOdd:e=>(e&mm)===mm,neg:t=>km(-t,e),eql:(e,t)=>e===t,sqr:t=>km(t*t,e),add:(t,n)=>km(t+n,e),sub:(t,n)=>km(t-n,e),mul:(t,n)=>km(t*n,e),pow:(e,t)=>function(e,t,n){if(n<ym)throw new Error("invalid exponent, negatives unsupported");if(n===ym)return e.ONE;if(n===mm)return t;let r=e.ONE,i=t;for(;n>ym;)n&mm&&(r=e.mul(r,i)),i=e.sqr(i),n>>=mm;return r}(s,e,t),div:(t,n)=>km(t*Cm(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Cm(t,e),sqrt:r.sqrt||(t=>(a||(a=Am(e)),a(s,t))),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(s,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?nm(e,o):tm(e,o),fromBytes:e=>{if(e.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+e.length);return n?em(e):Xy(e)}});return Object.freeze(s)}function jm(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Dm(e){const t=jm(e);return t+Math.ceil(t/2)}const Rm=BigInt(0),Tm=BigInt(1);function Im(e,t){const n=t.negate();return e?n:t}function Fm(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Lm(e,t){Fm(e,t);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}function Bm(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)}))}function Mm(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)}))}const Um=new WeakMap,zm=new WeakMap;function Hm(e){return zm.get(e)||1}function qm(e){return function(e){const t=Om.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});pm(e,t)}(e.Fp),pm(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(f(f(f({},Nm(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}function Km(e){void 0!==e.lowS&&Vy("lowS",e.lowS),void 0!==e.prehash&&Vy("prehash",e.prehash)}const{Ph:Vm,aT:Gm}=r;class Wm extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}const Ym={Err:Wm,_tlv:{encode:(e,t)=>{const{Err:n}=Ym;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Yy(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Yy(i.length/2|128):"";return Yy(e)+o+i+t},decode(e,t){const{Err:n}=Ym;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let o=0;if(!!(128&i)){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const a=t.subarray(r,r+e);if(a.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===a[0])throw new n("tlv.decode(long): zero leftmost byte");for(const t of a)o=o<<8|t;if(r+=e,o<128)throw new n("tlv.decode(long): not minimal encoding")}else o=i;const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Ym;if(e<Zm)throw new t("integer: negative integers are not allowed");let n=Yy(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ym;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Vm(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ym,i="string"===typeof e?Gm(e):e;Ky(i);const{v:o,l:a}=r.decode(48,i);if(a.length)throw new t("invalid signature: left bytes after parsing");const{v:s,l:l}=r.decode(2,o),{v:c,l:u}=r.decode(2,l);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(s),s:n.decode(c)}},hexFromSig(e){const{_tlv:t,_int:n}=Ym,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},Zm=BigInt(0),Qm=BigInt(1),$m=(BigInt(2),BigInt(3));BigInt(4);function Jm(e){const t=function(e){const t=qm(e);pm(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze(f({},t))}(e),{Fp:n}=t,r=Pm(t.n,t.nBitLength),i=t.toBytes||((e,t,r)=>{const i=t.toAffine();return im(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),o=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function a(e){const{a:r,b:i}=t,o=n.sqr(e),a=n.mul(o,e);return n.add(n.add(a,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function s(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:o}=t;if(n&&"bigint"!==typeof e){if(qy(e)&&(e=Wy(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*r,"0")}let a;try{a="bigint"===typeof e?e:Xy(rm("private key",e,r))}catch(kU){throw new Error("invalid private key, expected hex or "+r+" bytes, got "+typeof e)}return i&&(a=km(a,o)),sm("private key",a,Qm,o),a}function l(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}const c=gm(((e,t)=>{const{px:r,py:i,pz:o}=e;if(n.eql(o,n.ONE))return{x:r,y:i};const a=e.is0();null==t&&(t=a?n.ONE:n.inv(o));const s=n.mul(r,t),l=n.mul(i,t),c=n.mul(o,t);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:s,y:l}})),u=gm((e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not FE");const o=n.sqr(i),s=a(r);if(!n.eql(o,s))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(o(rm("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(s(e))}static msm(e,t){return function(e,t,n,r){if(Bm(n,e),Mm(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,o=lm(BigInt(n.length)),a=o>12?o-3:o>4?o-2:o?2:1,s=(1<<a)-1,l=new Array(s+1).fill(i);let c=i;for(let u=Math.floor((t.BITS-1)/a)*a;u>=0;u-=a){l.fill(i);for(let t=0;t<r.length;t++){const e=r[t],i=Number(e>>BigInt(u)&BigInt(s));l[i]=l[i].add(n[t])}let e=i;for(let t=l.length-1,n=i;t>0;t--)n=n.add(l[t]),e=e.add(n);if(c=c.add(e),0!==u)for(let t=0;t<a;t++)c=c.double()}return c}(d,r,e,t)}_setWindowSize(e){p.setWindowSize(this,e)}assertValidity(){u(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){l(e);const{px:t,py:r,pz:i}=this,{px:o,py:a,pz:s}=e,c=n.eql(n.mul(t,s),n.mul(o,i)),u=n.eql(n.mul(r,s),n.mul(a,i));return c&&u}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,$m),{px:o,py:a,pz:s}=this;let l=n.ZERO,c=n.ZERO,u=n.ZERO,h=n.mul(o,o),f=n.mul(a,a),p=n.mul(s,s),g=n.mul(o,a);return g=n.add(g,g),u=n.mul(o,s),u=n.add(u,u),l=n.mul(e,u),c=n.mul(i,p),c=n.add(l,c),l=n.sub(f,c),c=n.add(f,c),c=n.mul(l,c),l=n.mul(g,l),u=n.mul(i,u),p=n.mul(e,p),g=n.sub(h,p),g=n.mul(e,g),g=n.add(g,u),u=n.add(h,h),h=n.add(u,h),h=n.add(h,p),h=n.mul(h,g),c=n.add(c,h),p=n.mul(a,s),p=n.add(p,p),h=n.mul(p,g),l=n.sub(l,h),u=n.mul(p,f),u=n.add(u,u),u=n.add(u,u),new d(l,c,u)}add(e){l(e);const{px:r,py:i,pz:o}=this,{px:a,py:s,pz:c}=e;let u=n.ZERO,h=n.ZERO,f=n.ZERO;const p=t.a,g=n.mul(t.b,$m);let y=n.mul(r,a),m=n.mul(i,s),v=n.mul(o,c),b=n.add(r,i),w=n.add(a,s);b=n.mul(b,w),w=n.add(y,m),b=n.sub(b,w),w=n.add(r,o);let x=n.add(a,c);return w=n.mul(w,x),x=n.add(y,v),w=n.sub(w,x),x=n.add(i,o),u=n.add(s,c),x=n.mul(x,u),u=n.add(m,v),x=n.sub(x,u),f=n.mul(p,w),u=n.mul(g,v),f=n.add(u,f),u=n.sub(m,f),f=n.add(m,f),h=n.mul(u,f),m=n.add(y,y),m=n.add(m,y),v=n.mul(p,v),w=n.mul(g,w),m=n.add(m,v),v=n.sub(y,v),v=n.mul(p,v),w=n.add(w,v),y=n.mul(m,w),h=n.add(h,y),y=n.mul(x,w),u=n.mul(b,u),u=n.sub(u,y),y=n.mul(b,m),f=n.mul(x,f),f=n.add(f,y),new d(u,h,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return p.wNAFCached(this,e,d.normalizeZ)}multiplyUnsafe(e){const{endo:r,n:i}=t;sm("scalar",e,Zm,i);const o=d.ZERO;if(e===Zm)return o;if(this.is0()||e===Qm)return this;if(!r||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,e,d.normalizeZ);let{k1neg:a,k1:s,k2neg:l,k2:c}=r.splitScalar(e),u=o,h=o,f=this;for(;s>Zm||c>Zm;)s&Qm&&(u=u.add(f)),c&Qm&&(h=h.add(f)),f=f.double(),s>>=Qm,c>>=Qm;return a&&(u=u.negate()),l&&(h=h.negate()),h=new d(n.mul(h.px,r.beta),h.py,h.pz),u.add(h)}multiply(e){const{endo:r,n:i}=t;let o,a;if(sm("scalar",e,Qm,i),r){const{k1neg:t,k1:i,k2neg:s,k2:l}=r.splitScalar(e);let{p:c,f:u}=this.wNAF(i),{p:h,f:f}=this.wNAF(l);c=p.constTimeNegate(t,c),h=p.constTimeNegate(s,h),h=new d(n.mul(h.px,r.beta),h.py,h.pz),o=c.add(h),a=u.add(f)}else{const{p:t,f:n}=this.wNAF(e);o=t,a=n}return d.normalizeZ([o,a])[0]}multiplyAndAddUnsafe(e,t,n){const r=d.BASE,i=(e,t)=>t!==Zm&&t!==Qm&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){return c(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Qm)return!0;if(n)return n(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Qm?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Vy("isCompressed",e),this.assertValidity(),i(d,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Vy("isCompressed",e),Wy(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,p=function(e,t){return{constTimeNegate:Im,hasPrecomputes:e=>1!==Hm(e),unsafeLadder(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ZERO,i=t;for(;n>Rm;)n&Tm&&(r=r.add(i)),i=i.double(),n>>=Tm;return r},precomputeWindow(e,n){const{windows:r,windowSize:i}=Lm(n,t),o=[];let a=e,s=a;for(let t=0;t<r;t++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(n,r,i){const{windows:o,windowSize:a}=Lm(n,t);let s=e.ZERO,l=e.BASE;const c=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let e=0;e<o;e++){const t=e*a;let n=Number(i&c);i>>=d,n>a&&(n-=u,i+=Tm);const o=t,h=t+Math.abs(n)-1,f=e%2!==0,p=n<0;0===n?l=l.add(Im(f,r[o])):s=s.add(Im(p,r[h]))}return{p:s,f:l}},wNAFUnsafe(n,r,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.ZERO;const{windows:a,windowSize:s}=Lm(n,t),l=BigInt(2**n-1),c=2**n,u=BigInt(n);for(let e=0;e<a;e++){const t=e*s;if(i===Rm)break;let n=Number(i&l);if(i>>=u,n>s&&(n-=c,i+=Tm),0===n)continue;let a=r[t+Math.abs(n)-1];n<0&&(a=a.negate()),o=o.add(a)}return o},getPrecomputes(e,t,n){let r=Um.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&Um.set(t,n(r))),r},wNAFCached(e,t,n){const r=Hm(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=Hm(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,n){Fm(n,t),zm.set(e,n),Um.delete(e)}}}(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:s,weierstrassEquation:a,isWithinCurveOrder:function(e){return am(e,Qm,t.n)}}}function Xm(e){const t=function(e){const t=qm(e);return pm(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(f({lowS:!0},t))}(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function a(e){return km(e,r)}function s(e){return Cm(e,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:d}=Jm(f(f({},t),{},{toBytes(e,t,r){const i=t.toAffine(),o=n.toBytes(i.x),a=im;return Vy("isCompressed",r),r?a(Uint8Array.from([t.hasEvenY()?2:3]),o):a(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],a=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r){return{x:n.fromBytes(a.subarray(0,n.BYTES)),y:n.fromBytes(a.subarray(n.BYTES,2*n.BYTES))}}throw new Error("invalid Point, expected length of "+i+", or uncompressed "+o+", got "+t)}{const e=Xy(a);if(!am(e,Qm,n.ORDER))throw new Error("Point is not on curve");const t=u(e);let i;try{i=n.sqrt(t)}catch(s){const e=s instanceof Error?": "+s.message:"";throw new Error("Point is not on curve"+e)}return 1===(1&r)!==((i&Qm)===Qm)&&(i=n.neg(i)),{x:e,y:i}}}})),h=e=>Wy(tm(e,t.nByteLength));function p(e){return e>r>>Qm}const g=(e,t,n)=>Xy(e.slice(t,n));class y{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=rm("compactSignature",e,2*n),new y(g(e,0,n),g(e,n,2*n))}static fromDER(e){const{r:t,s:n}=Ym.toSig(rm("DER",e));return new y(t,n)}assertValidity(){sm("r",this.r,Qm,r),sm("s",this.s,Qm,r)}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:o}=this,c=w(rm("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const u=2===o||3===o?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0===(1&o)?"02":"03",f=l.fromHex(d+h(u)),p=s(u),g=a(-c*p),y=a(i*p),m=l.BASE.multiplyAndAddUnsafe(f,g,y);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Jy(this.toDERHex())}toDERHex(){return Ym.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Jy(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const m={isValidPrivateKey(e){try{return c(e),!0}catch(kU){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const e=Dm(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=jm(t),o=Dm(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const a=km(n?em(e):Xy(e),t-mm)+mm;return n?nm(a,i):tm(a,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function v(e){const t=qy(e),n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof l}const b=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const n=Xy(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},w=t.bits2int_modN||function(e){return a(b(e))},x=cm(t.nBitLength);function E(e){return sm("num < 2^"+t.nBitLength,e,Zm,x),tm(e,t.nByteLength)}function k(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:u}=t;let{lowS:h,prehash:f,extraEntropy:g}=i;null==h&&(h=!0),e=rm("msgHash",e),Km(i),f&&(e=rm("prehashed msgHash",o(e)));const m=w(e),v=c(r),x=[E(v),E(m)];if(null!=g&&!1!==g){const e=!0===g?u(n.BYTES):g;x.push(rm("extraEntropy",e))}const k=im(...x),S=m;return{seed:k,k2sig:function(e){const t=b(e);if(!d(t))return;const n=s(t),r=l.BASE.multiply(t).toAffine(),i=a(r.x);if(i===Zm)return;const o=a(n*a(S+i*v));if(o===Zm)return;let c=(r.x===i?0:2)|Number(r.y&Qm),u=o;return h&&p(o)&&(u=function(e){return p(e)?a(-e):e}(o),c^=1),new y(i,u,c)}}}const _={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(v(e))throw new Error("first arg must be private key");if(!v(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(c(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;const{seed:i,k2sig:o}=k(e,n,r),a=t;return hm(a.hash.outputLen,a.nByteLength,a.hmac)(i,o)},verify:function(e,n,r){var i;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;const c=e;n=rm("msgHash",n),r=rm("publicKey",r);const{lowS:u,prehash:d,format:h}=o;if(Km(o),"strict"in o)throw new Error("options.strict was renamed to lowS");if(void 0!==h&&"compact"!==h&&"der"!==h)throw new Error("format must be compact or der");const f="string"===typeof c||qy(c),p=!f&&!h&&"object"===typeof c&&null!==c&&"bigint"===typeof c.r&&"bigint"===typeof c.s;if(!f&&!p)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let g,m;try{if(p&&(g=new y(c.r,c.s)),f){try{"compact"!==h&&(g=y.fromDER(c))}catch(A){if(!(A instanceof Ym.Err))throw A}g||"der"===h||(g=y.fromCompact(c))}m=l.fromHex(r)}catch(kU){return!1}if(!g)return!1;if(u&&g.hasHighS())return!1;d&&(n=t.hash(n));const{r:v,s:b}=g,x=w(n),E=s(b),k=a(x*E),_=a(v*E),C=null===(i=l.BASE.multiplyAndAddUnsafe(m,k,_))||void 0===i?void 0:i.toAffine();return!!C&&a(C.x)===v},ProjectivePoint:l,Signature:y,utils:m}}function ev(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return My(e,t,function(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];hy(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}(...r))},randomBytes:Ny}}const tv=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),nv=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),rv=BigInt(1),iv=BigInt(2),ov=(e,t)=>(e+t/iv)/t;function av(e){const t=tv,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),s=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,d=Sm(u,n,t)*u%t,h=Sm(d,n,t)*u%t,f=Sm(h,iv,t)*c%t,p=Sm(f,i,t)*f%t,g=Sm(p,o,t)*p%t,y=Sm(g,s,t)*g%t,m=Sm(y,l,t)*y%t,v=Sm(m,s,t)*g%t,b=Sm(v,n,t)*u%t,w=Sm(b,a,t)*p%t,x=Sm(w,r,t)*c%t,E=Sm(x,iv,t);if(!sv.eql(sv.sqr(E),e))throw new Error("Cannot find square root");return E}const sv=Pm(tv,void 0,void 0,{sqrt:av}),lv=function(e,t){const n=t=>Xm(f(f({},e),ev(t)));return f(f({},n(t)),{},{create:n})}({a:BigInt(0),b:BigInt(7),Fp:sv,n:nv,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=nv,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-rv*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),s=ov(o*e,t),l=ov(-r*e,t);let c=km(e-s*n-l*i,t),u=km(-s*r-l*o,t);const d=c>a,h=u>a;if(d&&(c=t-c),h&&(u=t-u),c>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:c,k2neg:h,k2:u}}}},Ly),cv=BigInt(0),uv={};function dv(e){let t=uv[e];if(void 0===t){const n=Ly(Uint8Array.from(e,(e=>e.charCodeAt(0))));t=im(n,n),uv[e]=t}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ly(im(t,...r))}const hv=e=>e.toRawBytes(!0).slice(1),fv=e=>tm(e,32),pv=e=>km(e,tv),gv=e=>km(e,nv),yv=lv.ProjectivePoint;function mv(e){let t=lv.utils.normPrivateKeyToScalar(e),n=yv.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:gv(-t),bytes:hv(n)}}function vv(e){sm("x",e,rv,tv);const t=pv(e*e);let n=av(pv(t*e+BigInt(7)));n%iv!==cv&&(n=pv(-n));const r=new yv(e,n,rv);return r.assertValidity(),r}const bv=Xy;function wv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gv(bv(dv("BIP0340/challenge",...t)))}function xv(e){return mv(e).bytes}function Ev(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ny(32);const r=rm("message",e),{bytes:i,scalar:o}=mv(t),a=rm("auxRand",n,32),s=fv(o^bv(dv("BIP0340/aux",a))),l=dv("BIP0340/nonce",s,i,r),c=gv(bv(l));if(c===cv)throw new Error("sign failed: k is zero");const{bytes:u,scalar:d}=mv(c),h=wv(u,i,r),f=new Uint8Array(64);if(f.set(u,0),f.set(fv(gv(d+h*o)),32),!kv(f,r,i))throw new Error("sign: Invalid signature produced");return f}function kv(e,t,n){const r=rm("signature",e,64),i=rm("message",t),o=rm("publicKey",n,32);try{const e=vv(bv(o)),t=bv(r.subarray(0,32));if(!am(t,rv,tv))return!1;const n=bv(r.subarray(32,64));if(!am(n,rv,nv))return!1;const a=wv(fv(t),hv(e),i),s=((e,t,n)=>yv.BASE.multiplyAndAddUnsafe(e,t,n))(e,n,gv(-a));return!(!s||!s.hasEvenY()||s.toAffine().x!==t)}catch(kU){return!1}}const _v=(()=>({getPublicKey:xv,sign:Ev,verify:kv,utils:{randomPrivateKey:lv.utils.randomPrivateKey,lift_x:vv,pointToBytes:hv,numberToBytesBE:tm,bytesToNumberBE:Xy,taggedHash:dv,mod:km}}))();var Sv=__webpack_require__(9968);function Cv(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Av(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every((e=>"string"===typeof e)):t.every((e=>Number.isSafeInteger(e)))))}function Ov(e){if("function"!==typeof e)throw new Error("function expected");return!0}function Nv(e,t){if("string"!==typeof t)throw new Error("".concat(e,": string expected"));return!0}function Pv(e){if(!Number.isSafeInteger(e))throw new Error("invalid integer: ".concat(e))}function jv(e){if(!Array.isArray(e))throw new Error("array expected")}function Dv(e,t){if(!Av(!0,t))throw new Error("".concat(e,": array of strings expected"))}function Rv(e,t){if(!Av(!1,t))throw new Error("".concat(e,": array of numbers expected"))}function Tv(){const e=e=>e,t=(e,t)=>n=>e(t(n));for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const o=r.map((e=>e.encode)).reduceRight(t,e),a=r.map((e=>e.decode)).reduce(t,e);return{encode:o,decode:a}}function Iv(e){const t="string"===typeof e?e.split(""):e,n=t.length;Dv("alphabet",t);const r=new Map(t.map(((e,t)=>[e,t])));return{encode:r=>(jv(r),r.map((r=>{if(!Number.isSafeInteger(r)||r<0||r>=n)throw new Error('alphabet.encode: digit index outside alphabet "'.concat(r,'". Allowed: ').concat(e));return t[r]}))),decode:t=>(jv(t),t.map((t=>{Nv("alphabet.decode",t);const n=r.get(t);if(void 0===n)throw new Error('Unknown letter: "'.concat(t,'". Allowed: ').concat(e));return n})))}}function Fv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Nv("join",e),{encode:t=>(Dv("join.decode",t),t.join(e)),decode:t=>(Nv("join.decode",t),t.split(e))}}function Lv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"=";return Pv(e),Nv("padding",t),{encode(n){for(Dv("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){Dv("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--){if((r-1)*e%8===0)throw new Error("padding: invalid, string has too much padding")}return n.slice(0,r)}}}function Bv(e){return Ov(e),{encode:e=>e,decode:t=>e(t)}}function Mv(e,t,n){if(t<2)throw new Error("convertRadix: invalid from=".concat(t,", base cannot be less than 2"));if(n<2)throw new Error("convertRadix: invalid to=".concat(n,", base cannot be less than 2"));if(jv(e),!e.length)return[];let r=0;const i=[],o=Array.from(e,(e=>{if(Pv(e),e<0||e>=t)throw new Error("invalid integer: ".concat(e));return e})),a=o.length;for(;;){let e=0,s=!0;for(let i=r;i<a;i++){const a=o[i],l=t*e,c=l+a;if(!Number.isSafeInteger(c)||l/t!==e||c-a!==l)throw new Error("convertRadix: carry overflow");const u=c/n;e=c%n;const d=Math.floor(u);if(o[i]=d,!Number.isSafeInteger(d)||d*n+e!==c)throw new Error("convertRadix: carry overflow");s&&(d?s=!1:r=i)}if(i.push(e),s)break}for(let s=0;s<e.length-1&&0===e[s];s++)i.push(0);return i.reverse()}const Uv=(e,t)=>0===t?e:Uv(t,e%t),zv=(e,t)=>e+(t-Uv(e,t)),Hv=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function qv(e,t,n,r){if(jv(e),t<=0||t>32)throw new Error("convertRadix2: wrong from=".concat(t));if(n<=0||n>32)throw new Error("convertRadix2: wrong to=".concat(n));if(zv(t,n)>32)throw new Error("convertRadix2: carry overflow from=".concat(t," to=").concat(n," carryBits=").concat(zv(t,n)));let i=0,o=0;const a=Hv[t],s=Hv[n]-1,l=[];for(const c of e){if(Pv(c),c>=a)throw new Error("convertRadix2: invalid data word=".concat(c," from=").concat(t));if(i=i<<t|c,o+t>32)throw new Error("convertRadix2: carry overflow pos=".concat(o," from=").concat(t));for(o+=t;o>=n;o-=n)l.push((i>>o-n&s)>>>0);const e=Hv[o];if(void 0===e)throw new Error("invalid carry");i&=e-1}if(i=i<<n-o&s,!r&&o>=t)throw new Error("Excess padding");if(!r&&i>0)throw new Error("Non-zero padding: ".concat(i));return r&&o>0&&l.push(i>>>0),l}function Kv(e){Pv(e);return{encode:t=>{if(!Cv(t))throw new Error("radix.encode input should be Uint8Array");return Mv(Array.from(t),256,e)},decode:t=>(Rv("radix.decode",t),Uint8Array.from(Mv(t,e,256)))}}function Vv(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Pv(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(zv(8,e)>32||zv(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!Cv(n))throw new Error("radix2.encode input should be Uint8Array");return qv(Array.from(n),8,e,!t)},decode:n=>(Rv("radix2.decode",n),Uint8Array.from(qv(n,e,8,t)))}}function Gv(e){return Ov(e),function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(null,n)}catch(oR){}}}Tv(Vv(4),Iv("0123456789ABCDEF"),Fv("")),Tv(Vv(5),Iv("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Lv(5),Fv("")),Tv(Vv(5),Iv("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Fv("")),Tv(Vv(5),Iv("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Lv(5),Fv("")),Tv(Vv(5),Iv("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Fv("")),Tv(Vv(5),Iv("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Fv(""),Bv((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),Tv(Vv(6),Iv("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Lv(6),Fv("")),Tv(Vv(6),Iv("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Fv("")),Tv(Vv(6),Iv("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Lv(6),Fv("")),Tv(Vv(6),Iv("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Fv(""));const Wv=e=>Tv(Kv(58),Iv(e),Fv("")),Yv=(Wv("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Wv("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),Wv("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),Tv(Iv("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Fv(""))),Zv=[996825010,642813549,513874426,1027748829,705979059];function Qv(e){const t=e>>25;let n=(33554431&e)<<5;for(let r=0;r<Zv.length;r++)1===(t>>r&1)&&(n^=Zv[r]);return n}function $v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=e.length;let i=1;for(let o=0;o<r;o++){const t=e.charCodeAt(o);if(t<33||t>126)throw new Error("Invalid prefix (".concat(e,")"));i=Qv(i)^t>>5}i=Qv(i);for(let o=0;o<r;o++)i=Qv(i)^31&e.charCodeAt(o);for(let o of t)i=Qv(i)^o;for(let o=0;o<6;o++)i=Qv(i);return i^=n,Yv.encode(qv([i%Hv[30]],30,5,!1))}function Jv(e){const t="bech32"===e?1:734539939,n=Vv(5),r=n.decode,i=n.encode,o=Gv(r);function a(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:90;Nv("bech32.encode prefix",e),Cv(n)&&(n=Array.from(n)),Rv("bech32.encode",n);const i=e.length;if(0===i)throw new TypeError("Invalid prefix length ".concat(i));const o=i+7+n.length;if(!1!==r&&o>r)throw new TypeError("Length ".concat(o," exceeds limit ").concat(r));const a=e.toLowerCase(),s=$v(a,n,t);return"".concat(a,"1").concat(Yv.encode(n)).concat(s)}function s(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;Nv("bech32.decode input",e);const r=e.length;if(r<8||!1!==n&&r>n)throw new TypeError("invalid string length: ".concat(r," (").concat(e,"). Expected (8..").concat(n,")"));const i=e.toLowerCase();if(e!==i&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=i.lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const a=i.slice(0,o),s=i.slice(o+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const l=Yv.decode(s).slice(0,-6),c=$v(a,l,t);if(!s.endsWith(c))throw new Error("Invalid checksum in ".concat(e,': expected "').concat(c,'"'));return{prefix:a,words:l}}return{encode:a,decode:s,encodeFromBytes:function(e,t){return a(e,i(t))},decodeToBytes:function(e){const{prefix:t,words:n}=s(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:Gv(s),fromWords:r,fromWordsUnsafe:o,toWords:i}}const Xv=Jv("bech32");Jv("bech32m"),Tv(Vv(4),Iv("0123456789abcdef"),Fv(""),Bv((e=>{if("string"!==typeof e||e.length%2!==0)throw new TypeError("hex.decode: expected string, got ".concat(typeof e," with length ").concat(e.length));return e.toLowerCase()})));var eb,tb,nb,rb,ib,ob,ab,sb,lb,cb;__webpack_require__(2559);function ub(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"write";if(!e.outboxTracker)return;const r=e.outboxTracker.data.get(t);return r?"write"===n?r.writeRelays:r.readRelays:void 0}function db(e,t,n){let{count:r,preferredRelays:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};null!==r&&void 0!==r||(r=2),null!==i&&void 0!==i||(i=new Set);const o=e.pool,a=o.connectedRelays();a.forEach((e=>{i.add(e.url)}));const s=new Map,{pubkeysToRelays:l,authorsMissingRelays:c}=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"read";const r=new Map,i=new Set;return t.forEach((t=>{const o=ub(e,t,n);o&&o.size>0?(o.forEach((e=>{(r.get(e)||new Set).add(t)})),r.set(t,o)):i.add(t)})),{pubkeysToRelays:r,authorsMissingRelays:i}}(e,t,n),u=function(e,t){const n=new Map;t.forEach((t=>{const r=ub(e,t);r&&r.forEach((e=>{const t=n.get(e)||0;n.set(e,t+1)}))}));const r=Array.from(n.entries()).sort(((e,t)=>t[1]-e[1]));return r.map((e=>e[0]))}(e,t),d=(e,t)=>{const n=s.get(t)||[];n.push(e),s.set(t,n)};for(const[h,f]of l.entries()){let e=r;for(const t of a)f.has(t.url)&&(d(h,t.url),e--);for(const t of f)s.has(t)&&(d(h,t),e--);if(!(e<=0))for(const t of u){if(e<=0)break;f.has(t)&&(d(h,t),e--)}}for(const h of c)o.permanentAndConnectedRelays().forEach((e=>{const t=s.get(e.url)||[];t.push(h),s.set(e.url,t)}));return s}function hb(e){try{return fb(e)}catch(cY){return}}function fb(e){let t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=f({defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0},t),"string"!==typeof t.defaultProtocol||t.defaultProtocol.endsWith(":")||(t.defaultProtocol="".concat(t.defaultProtocol,":"));if(e=e.trim(),/^data:/i.test(e))return vb(e,t);if(mb(e))return e;const n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));const r=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");t.forceHttp&&"https:"===r.protocol&&(r.protocol="http:");t.forceHttps&&"http:"===r.protocol&&(r.protocol="https:");t.stripAuthentication&&(r.username="",r.password="");t.stripHash?r.hash="":t.stripTextFragment&&(r.hash=r.hash.replace(/#?:~:text.*?$/i,""));if(r.pathname){const e=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g;let t=0,n="";for(;;){const i=e.exec(r.pathname);if(!i)break;const o=i[0],a=i.index;n+=r.pathname.slice(t,a).replace(/\/{2,}/g,"/"),n+=o,t=a+o.length}n+=r.pathname.slice(t,r.pathname.length).replace(/\/{2,}/g,"/"),r.pathname=n}if(r.pathname)try{r.pathname=decodeURI(r.pathname)}catch(fY){}!0===t.removeDirectoryIndex&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]);if(Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let e=r.pathname.split("/");const n=e[e.length-1];gb(n,t.removeDirectoryIndex)&&(e=e.slice(0,-1),r.pathname=e.slice(1).join("/")+"/")}r.hostname&&(r.hostname=r.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(r.hostname)&&(r.hostname=r.hostname.replace(/^www\./,"")));if(Array.isArray(t.removeQueryParameters))for(const o of[...r.searchParams.keys()])gb(o,t.removeQueryParameters)&&r.searchParams.delete(o);Array.isArray(t.keepQueryParameters)||!0!==t.removeQueryParameters||(r.search="");if(Array.isArray(t.keepQueryParameters)&&t.keepQueryParameters.length>0)for(const o of[...r.searchParams.keys()])gb(o,t.keepQueryParameters)||r.searchParams.delete(o);if(t.sortQueryParameters){r.searchParams.sort();try{r.search=decodeURIComponent(r.search)}catch(pY){}}t.removeTrailingSlash&&(r.pathname=r.pathname.replace(/\/$/,""));t.removeExplicitPort&&r.port&&(r.port="");const i=e;e=r.toString(),t.removeSingleSlash||"/"!==r.pathname||i.endsWith("/")||""!==r.hash||(e=e.replace(/\/$/,""));(t.removeTrailingSlash||"/"===r.pathname)&&""===r.hash&&t.removeSingleSlash&&(e=e.replace(/\/$/,""));n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//"));t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,""));return e}(e.toLowerCase(),{stripAuthentication:!1,stripWWW:!1,stripHash:!0});return t.endsWith("/")||(t+="/"),t}function pb(e){const t=new Set;for(const n of e)try{t.add(fb(n))}catch(uY){}return Array.from(t)}var gb=(e,t)=>t.some((t=>t instanceof RegExp?t.test(e):t===e)),yb=new Set(["https:","http:","file:"]),mb=e=>{try{const{protocol:t}=new URL(e);return t.endsWith(":")&&!t.includes(".")&&!yb.has(t)}catch(dY){return!1}},vb=(e,t)=>{var n,r,i,o,a,s,l,c;let{stripHash:u}=t;const d=ol(/^data:([^,]*?),([^#]*?)(?:#(.*))?$/,{type:1,data:2,hash:3}).exec(e);if(!d)throw new Error("Invalid URL: ".concat(e));let h=null!==(n=null===(r=d.groups)||void 0===r?void 0:r.type)&&void 0!==n?n:"",f=null!==(i=null===(o=d.groups)||void 0===o?void 0:o.data)&&void 0!==i?i:"",p=null!==(a=null===(s=d.groups)||void 0===s?void 0:s.hash)&&void 0!==a?a:"";const g=h.split(";");p=u?"":p;let y=!1;"base64"===g[g.length-1]&&(g.pop(),y=!0);const m=null!==(l=null===(c=g.shift())||void 0===c?void 0:c.toLowerCase())&&void 0!==l?l:"",v=[...g.map((e=>{let[t,n=""]=e.split("=").map((e=>e.trim()));return"charset"===t&&(n=n.toLowerCase(),"us-ascii"===n)?"":"".concat(t).concat(n?"=".concat(n):"")})).filter(Boolean)];return y&&v.push("base64"),(v.length>0||m&&"text/plain"!==m)&&v.unshift(m),"data:".concat(v.join(";"),",").concat(y?f.trim():f).concat(p?"#".concat(p):"")};var bb=class extends Error{constructor(e,t,n,r){super(e),d(this,"errors",void 0),d(this,"publishedToRelays",void 0),d(this,"intendedRelaySet",void 0),this.errors=t,this.publishedToRelays=n,this.intendedRelaySet=r}get relayErrors(){const e=[];for(const[t,n]of this.errors)e.push("".concat(t.url,": ").concat(n));return e.join("\n")}},wb=class e{constructor(e,t,n){d(this,"relays",void 0),d(this,"debug",void 0),d(this,"ndk",void 0),d(this,"pool",void 0),this.relays=e,this.ndk=t,this.pool=null!==n&&void 0!==n?n:t.pool,this.debug=t.debug.extend("relayset")}addRelay(e){this.relays.add(e)}get relayUrls(){return Array.from(this.relays).map((e=>e.url))}static fromRelayUrls(t,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0;if(i=null!==i&&void 0!==i?i:n.pool,!i)throw new Error("No pool provided");const o=new Set;for(const e of t){const a=i.relays.get(fb(e));if(a)a.status<5&&r&&a.connect(),o.add(a);else{const r=new rw(fb(e),null===n||void 0===n?void 0:n.relayAuthDefaultPolicy,n);i.useTemporaryRelay(r,void 0,"requested from fromRelayUrls "+t),o.add(r)}}return new e(new Set(o),n,i)}async publish(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=new Set,i=new Map,o=e.isEphemeral();e.publishStatus="pending";const a=Array.from(this.relays).map((n=>new Promise((a=>{n.publish(e,t).then((e=>{r.add(n),a()})).catch((e=>{o||i.set(n,e),a()}))}))));if(await Promise.all(a),r.size<n){if(!o){const t=new bb("Not enough relays received the event",i,r,this);throw e.publishStatus="error",e.publishError=t,this.ndk.emit("event:publish-failed",e,t,this.relayUrls),t}}else e.emit("published",{relaySet:this,publishedToRelays:r});return r}get size(){return this.relays.size}},xb=sl("ndk:outbox:calculate");async function Eb(e,t){var n;const r=new Set,i=await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"write";if(e.outboxTracker)return e.outboxTracker.data.has(t)||await e.outboxTracker.trackUsers([t]),ub(e,t,n)}(e,t.pubkey);i&&i.forEach((t=>{var n;const i=null===(n=e.pool)||void 0===n?void 0:n.getRelay(t);i&&r.add(i)}));let o=t.tags.filter((e=>["a","e"].includes(e[0]))).map((e=>e[2])).filter((e=>e&&e.startsWith("wss://"))).filter((e=>{try{return new URL(e),!0}catch(t){return!1}})).map((e=>fb(e)));o=Array.from(new Set(o)).slice(0,5),o.forEach((t=>{var n;const i=null===(n=e.pool)||void 0===n?void 0:n.getRelay(t,!0,!0);i&&(xb("Adding relay hint %s",t),r.add(i))}));const a=t.getMatchingTags("p").map((e=>e[1]));if(a.length<5){Array.from(db(e,a,"read",{preferredRelays:new Set(i)}).keys()).forEach((t=>{var n;const i=null===(n=e.pool)||void 0===n?void 0:n.getRelay(t,!1,!0);i&&(xb("Adding p-tagged relay %s",t),r.add(i))}))}else xb("Too many p-tags to consider %d",a.length);return null===(n=e.pool)||void 0===n||n.permanentAndConnectedRelays().forEach((e=>r.add(e))),new wb(r,e)}function kb(e,t,n){const r=new Map,i=new Set;if(t.forEach((e=>{e.authors&&e.authors.forEach((e=>i.add(e)))})),i.size>0){const n=function(e,t){return db(e,t,"write",{count:arguments.length>2&&void 0!==arguments[2]?arguments[2]:2})}(e,Array.from(i));for(const e of n.keys())r.set(e,[]);for(const e of t)if(e.authors)for(const[t,i]of n.entries()){const n=e.authors.filter((e=>i.includes(e)));r.set(t,[...r.get(t),f(f({},e),{},{authors:n})])}else for(const t of n.keys())r.set(t,[...r.get(t),e])}else e.explicitRelayUrls&&e.explicitRelayUrls.forEach((e=>{r.set(e,t)}));return 0===r.size&&n.permanentAndConnectedRelays().slice(0,5).forEach((e=>{r.set(e.url,t)})),r}function _b(e,t,n){return kb(e,t,n)}async function Sb(e){return""}function Cb(){if(void 0===this.kind)throw new Error("Kind not set");return[0,3].includes(this.kind)||this.kind>=1e4&&this.kind<2e4||this.kind>=3e4&&this.kind<4e4}function Ab(){if(void 0===this.kind)throw new Error("Kind not set");return this.kind>=2e4&&this.kind<3e4}function Ob(){if(void 0===this.kind)throw new Error("Kind not set");return this.kind>=3e4&&this.kind<4e4}var Nb="nip44";async function Pb(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nb;if(!this.ndk)throw new Error("No NDK instance found!");if(t||(await this.ndk.assertSigner(),t=this.ndk.signer),!e){const t=this.getMatchingTags("p");if(1!==t.length)throw new Error("No recipient could be determined and no explicit recipient was provided");e=this.ndk.getUser({pubkey:t[0][1]})}this.content=await(null===(n=t)||void 0===n?void 0:n.encrypt(e,this.content,r))}async function jb(e,t,n){var r;if(!this.ndk)throw new Error("No NDK instance found!");t||(await this.ndk.assertSigner(),t=this.ndk.signer),e||(e=this.author),n||(n=this.content.match(/\?iv=/)?"nip04":"nip44"),this.content=await(null===(r=t)||void 0===r?void 0:r.decrypt(e,this.content,n))}function Db(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=[];return this.onRelays.length>0?t=this.onRelays.map((e=>e.url)):this.relay&&(t=[this.relay.url]),t.length>e&&(t=t.slice(0,e)),this.isParamReplaceable()?xp.naddrEncode({kind:this.kind,pubkey:this.pubkey,identifier:this.replaceableDTag(),relays:t}):t.length>0?xp.neventEncode({id:this.tagId(),relays:t,author:this.pubkey}):xp.noteEncode(this.tagId())}async function Rb(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;if(!t&&e){if(!this.ndk)throw new Error("No NDK instance found");this.ndk.assertSigner(),t=this.ndk.signer}const n=new $b(this.ndk,{kind:Tb(this)});return n.content=JSON.stringify(this.rawEvent()),n.tag(this),1!==this.kind&&n.tags.push(["k","".concat(this.kind)]),t&&await n.sign(t),e&&await n.publish(),n}function Tb(e){return 1===e.kind?6:16}var Ib;function Fb(e){return e.getMatchingTags("e").some((e=>e[3]))}function Lb(e,t){null!==t&&void 0!==t||(t=e.tagType());const n=e.tags.find((e=>"root"===e[3]));if(!n){if(Fb(e))return;const n=e.getMatchingTags(t);if(n.length<3)return n[0]}return n}function Bb(e,t){null!==t&&void 0!==t||(t=e.tagType());let n=e.tags.find((e=>"reply"===e[3]));if(n)return n;if(n||(n=e.tags.find((e=>"root"===e[3]))),!n){if(Fb(e))return;const n=e.getMatchingTags(t);if(1===n.length)return n[0];if(2===n.length)return n[1]}}async function Mb(e,t){if(!this.ndk)throw new Error("NDK instance not found");const n=this.getMatchingTags(e,t);if(0===n.length)return;const[r,i,o]=n[0];return await this.ndk.fetchEvent(i,{},undefined)}async function Ub(e){if(!this.ndk)throw new Error("NDK instance not found");const t=Lb(this);if(t)return this.ndk.fetchEventFromTag(t,this,e)}async function zb(e){if(!this.ndk)throw new Error("NDK instance not found");const t=Bb(this);if(t)return this.ndk.fetchEventFromTag(t,this,e)}function Hb(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[0,this.pubkey,this.created_at,this.kind,this.tags,this.content];return e&&n.push(this.sig),t&&n.push(this.id),JSON.stringify(n)}function qb(e){const t=JSON.parse(e),n={pubkey:t[1],created_at:t[2],kind:t[3],tags:t[4],content:t[5]};return t.length>=7&&(n.sig=t[6]),t.length>=8&&(n.id=t[7]),n}var Kb={};var Vb=/^[a-f0-9]{64}$/;function Gb(){if("number"!==typeof this.kind)return!1;if("string"!==typeof this.content)return!1;if("number"!==typeof this.created_at)return!1;if("string"!==typeof this.pubkey)return!1;if(!this.pubkey.match(Vb))return!1;if(!Array.isArray(this.tags))return!1;for(let e=0;e<this.tags.length;e++){const t=this.tags[e];if(!Array.isArray(t))return!1;for(let e=0;e<t.length;e++)if("object"===typeof t[e])return!1}return!0}var Wb=new Sv.LRUCache({maxSize:1e3,entryExpirationTimeInMS:6e4});function Yb(e){if("boolean"===typeof this.signatureVerified)return this.signatureVerified;const t=Wb.get(this.id);if(null!==t)return this.signatureVerified=!!t;try{var n;if(null===(n=this.ndk)||void 0===n||!n.asyncSigVerification){const e=Ly((new TextEncoder).encode(this.serialize())),t=_v.verify(this.sig,e,this.pubkey);return t?Wb.set(this.id,this.sig):Wb.set(this.id,!1),this.signatureVerified=t}(async function(e){return new Promise((t=>{const n=e.serialize();let r=!1;Kb[e.id]||(Kb[e.id]={event:e,resolves:[]},r=!0),Kb[e.id].resolves.push(t),r&&Ib.postMessage({serialized:n,id:e.id,sig:e.sig,pubkey:e.pubkey})}))})(this).then((t=>{e&&(this.signatureVerified=t,t&&Wb.set(this.id,this.sig)),t||(this.ndk.emit("event:invalid-sig",this),Wb.set(this.id,!1))}))}catch(r){return this.signatureVerified=!1}}function Zb(){return e=this.serialize(),vy(Ly((new TextEncoder).encode(e)));var e}var Qb=[3],$b=class e extends al.EventEmitter{get onRelays(){let e=[];return this.ndk?e=this.ndk.subManager.seenEvents.get(this.id)||[]:this.relay&&e.push(this.relay),e}constructor(t,n){if(super(),d(this,"ndk",void 0),d(this,"created_at",void 0),d(this,"content",""),d(this,"tags",[]),d(this,"kind",void 0),d(this,"id",""),d(this,"sig",void 0),d(this,"pubkey",""),d(this,"signatureVerified",void 0),d(this,"_author",void 0),d(this,"relay",void 0),d(this,"publishStatus","success"),d(this,"publishError",void 0),d(this,"serialize",Hb.bind(this)),d(this,"getEventHash",Zb.bind(this)),d(this,"validate",Gb.bind(this)),d(this,"verifySignature",Yb.bind(this)),d(this,"isReplaceable",Cb.bind(this)),d(this,"isEphemeral",Ab.bind(this)),d(this,"isParamReplaceable",Ob.bind(this)),d(this,"encode",Db.bind(this)),d(this,"encrypt",Pb.bind(this)),d(this,"decrypt",jb.bind(this)),d(this,"fetchTaggedEvent",Mb.bind(this)),d(this,"fetchRootEvent",Ub.bind(this)),d(this,"fetchReplyEvent",zb.bind(this)),d(this,"repost",Rb.bind(this)),this.ndk=t,this.created_at=null===n||void 0===n?void 0:n.created_at,this.content=(null===n||void 0===n?void 0:n.content)||"",this.tags=(null===n||void 0===n?void 0:n.tags)||[],this.id=(null===n||void 0===n?void 0:n.id)||"",this.sig=null===n||void 0===n?void 0:n.sig,this.pubkey=(null===n||void 0===n?void 0:n.pubkey)||"",this.kind=null===n||void 0===n?void 0:n.kind,n instanceof e){var r;if(this.relay)this.relay=n.relay,null===(r=this.ndk)||void 0===r||r.subManager.seenEvent(n.id,this.relay);this.publishStatus=n.publishStatus,this.publishError=n.publishError}}static deserialize(t,n){return new e(t,qb(n))}rawEvent(){return{created_at:this.created_at,content:this.content,tags:this.tags,kind:this.kind,pubkey:this.pubkey,id:this.id,sig:this.sig}}set author(e){var t,n;this.pubkey=e.pubkey,this._author=e,null!==(n=(t=this._author).ndk)&&void 0!==n||(t.ndk=this.ndk)}get author(){if(this._author)return this._author;if(!this.ndk)throw new Error("No NDK instance found");const e=this.ndk.getUser({pubkey:this.pubkey});return this._author=e,e}tagExternal(e,t,n){let r=["i"],i=["k"];switch(t){case"url":const n=new URL(e);n.hash="",r.push(n.toString()),i.push("".concat(n.protocol,"//").concat(n.host));break;case"hashtag":r.push("#".concat(e.toLowerCase())),i.push("#");break;case"geohash":r.push("geo:".concat(e.toLowerCase())),i.push("geo");break;case"isbn":r.push("isbn:".concat(e.replace(/-/g,""))),i.push("isbn");break;case"podcast:guid":r.push("podcast:guid:".concat(e)),i.push("podcast:guid");break;case"podcast:item:guid":r.push("podcast:item:guid:".concat(e)),i.push("podcast:item:guid");break;case"podcast:publisher:guid":r.push("podcast:publisher:guid:".concat(e)),i.push("podcast:publisher:guid");break;case"isan":r.push("isan:".concat(e.split("-").slice(0,4).join("-"))),i.push("isan");break;case"doi":r.push("doi:".concat(e.toLowerCase())),i.push("doi");break;default:throw new Error("Unsupported NIP-73 entity type: ".concat(t))}n&&r.push(n),this.tags.push(r),this.tags.push(i)}tag(t,n,r,i){let o=[];if(void 0!==t.fetchProfile){null!==i&&void 0!==i||(i="p");const e=[i,t.pubkey];n&&e.push("",n),o.push(e)}else if(t instanceof e){const e=t;null!==r&&void 0!==r||(r=(null===e||void 0===e?void 0:e.pubkey)===this.pubkey),o=e.referenceTags(n,r,i);for(const t of e.getMatchingTags("p"))t[1]!==this.pubkey&&(this.tags.find((e=>"p"===e[0]&&e[1]===t[1]))||this.tags.push(["p",t[1]]))}else{if(!Array.isArray(t))throw new Error("Invalid argument",t);o=[t]}this.tags=function(e,t){const n=new Map,r=(e,t)=>e.every(((e,n)=>e===t[n]));return e.concat(t).forEach((e=>{for(const[t,i]of n)if(r(i,e)||r(e,i))return void(e.length>=i.length&&n.set(t,e));n.set((e=>e.join(","))(e),e)})),Array.from(n.values())}(this.tags,o)}async toNostrEvent(e){if(!e&&""===this.pubkey){var t;const e=await(null===(t=this.ndk)||void 0===t||null===(t=t.signer)||void 0===t?void 0:t.user());this.pubkey=(null===e||void 0===e?void 0:e.pubkey)||""}this.created_at||(this.created_at=Math.floor(Date.now()/1e3));const{content:n,tags:r}=await this.generateTags();this.content=n||"",this.tags=r;try{this.id=this.getEventHash()}catch(oR){}return this.rawEvent()}getMatchingTags(e,t){const n=this.tags.filter((t=>t[0]===e));return void 0===t?n:n.filter((e=>e[3]===t))}hasTag(e,t){return this.tags.some((n=>n[0]===e&&(!t||n[3]===t)))}tagValue(e){const t=this.getMatchingTags(e);if(0!==t.length)return t[0][1]}get alt(){return this.tagValue("alt")}set alt(e){this.removeTag("alt"),e&&this.tags.push(["alt",e])}get dTag(){return this.tagValue("d")}set dTag(e){this.removeTag("d"),e&&this.tags.push(["d",e])}removeTag(e){const t=Array.isArray(e)?e:[e];this.tags=this.tags.filter((e=>!t.includes(e[0])))}async sign(e){var t;e?this.author=await e.user():(null===(t=this.ndk)||void 0===t||t.assertSigner(),e=this.ndk.signer);const n=await this.toNostrEvent();return this.sig=await e.sign(n),this.sig}async publishReplaceable(e,t,n){return this.id="",this.created_at=Math.floor(Date.now()/1e3),this.sig="",this.publish(e,t,n)}async publish(e,t,n){var r,i,o;if(this.sig||await this.sign(),!this.ndk)throw new Error("NDKEvent must be associated with an NDK instance to publish");if(e||(e=this.ndk.devWriteRelaySet||await Eb(this.ndk,this)),5===this.kind&&null!==(r=this.ndk.cacheAdapter)&&void 0!==r&&r.deleteEventIds){const e=this.getMatchingTags("e").map((e=>e[1]));this.ndk.cacheAdapter.deleteEventIds(e)}const a=this.rawEvent();if(null!==(i=this.ndk.cacheAdapter)&&void 0!==i&&i.addUnpublishedEvent)try{this.ndk.cacheAdapter.addUnpublishedEvent(this,e.relayUrls)}catch(oR){console.error("Error adding unpublished event to cache",oR)}5===this.kind&&null!==(o=this.ndk.cacheAdapter)&&void 0!==o&&o.deleteEventIds&&this.ndk.cacheAdapter.deleteEventIds(this.getMatchingTags("e").map((e=>e[1]))),this.ndk.subManager.dispatchEvent(a,void 0,!0);const s=await e.publish(this,t,n);return s.forEach((e=>{var t;return null===(t=this.ndk)||void 0===t?void 0:t.subManager.seenEvent(this.id,e)})),s}async generateTags(){let e=[];const t=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=[],r=e=>{t.find((t=>["q",e[0]].includes(t[0])&&t[1]===e[1]))||t.push(e)};return e=e.replace(/(@|nostr:)(npub|nprofile|note|nevent|naddr)[a-zA-Z0-9]+/g,(e=>{try{const t=e.split(/(@|nostr:)/)[2],{type:i,data:o}=xp.decode(t);let a;switch(i){case"npub":a=["p",o];break;case"nprofile":a=["p",o.pubkey];break;case"note":n.push(new Promise((async e=>{r(["e",o,await Sb(),"mention"]),e()})));break;case"nevent":n.push(new Promise((async e=>{const{id:t,author:n}=o;let{relays:i}=o;i&&0!==i.length||(i=[await Sb()]),r(["e",t,i[0],"mention"]),n&&r(["p",n]),e()})));break;case"naddr":n.push(new Promise((async e=>{var t;const n=[o.kind,o.pubkey,o.identifier].join(":");let i=null!==(t=o.relays)&&void 0!==t?t:[];0===i.length&&(i=[await Sb()]),r(["a",n,i[0],"mention"]),r(["p",o.pubkey]),e()})));break;default:return e}return a&&r(a),"nostr:".concat(t)}catch(kU){return e}})),await Promise.all(n),e=e.replace(/(?<=\s|^)(#[^\s!@#$%^&*()=+./,[{\]};:'"?><]+)/g,((e,n)=>{const r=["t",n.slice(1)];return t.find((e=>e[0]===r[0]&&e[1]===r[1]))||t.push(r),e})),{content:e,tags:t}}(this.content,this.tags),n=t.content;if(e=t.tags,this.kind&&this.isParamReplaceable()){if(!this.getMatchingTags("d")[0]){const t=this.tagValue("title");let n=[...Array(t?6:16)].map((()=>Math.random().toString(36)[2])).join("");t&&t.length>0&&(n=t.replace(/[^a-z0-9]+/gi,"-").replace(/^-|-$/g,"")+"-"+n),e.push(["d",n])}}if(this.shouldAddClientTag){var r;const t=["client",null!==(r=this.ndk.clientName)&&void 0!==r?r:""];this.ndk.clientNip89&&t.push(this.ndk.clientNip89),e.push(t)}else e=e.filter((e=>"client"!==e[0]));return{content:n||"",tags:e}}get shouldAddClientTag(){var e,t;return!!(null!==(e=this.ndk)&&void 0!==e&&e.clientName||null!==(t=this.ndk)&&void 0!==t&&t.clientNip89)&&(!Qb.includes(this.kind)&&(!this.isEphemeral()&&!this.hasTag("client")))}muted(){var e,t;const n=null===(e=this.ndk)||void 0===e?void 0:e.mutedIds.get(this.pubkey);if(n&&"p"===n)return"author";const r=this.tagReference(),i=null===(t=this.ndk)||void 0===t?void 0:t.mutedIds.get(r[1]);return i&&i===r[0]?"event":null}replaceableDTag(){if(this.kind&&this.kind>=3e4&&this.kind<=4e4){const e=this.getMatchingTags("d")[0];return e?e[1]:""}throw new Error("Event is not a parameterized replaceable event")}deduplicationKey(){return 0===this.kind||3===this.kind||this.kind&&this.kind>=1e4&&this.kind<2e4?"".concat(this.kind,":").concat(this.pubkey):this.tagId()}tagId(){return this.isParamReplaceable()?this.tagAddress():this.id}tagAddress(){if(!this.isParamReplaceable())throw new Error("This must only be called on replaceable events");const e=this.replaceableDTag();return"".concat(this.kind,":").concat(this.pubkey,":").concat(e)}tagType(){return this.isParamReplaceable()?"a":"e"}tagReference(e){let t;return t=this.isParamReplaceable()?["a",this.tagAddress()]:["e",this.tagId()],this.relay?t.push(this.relay.url):t.push(""),t.push(null!==e&&void 0!==e?e:""),this.isParamReplaceable()||t.push(this.pubkey),t}referenceTags(e,t,n){let r=[];return r=this.isParamReplaceable()?[[null!==n&&void 0!==n?n:"a",this.tagAddress()],[null!==n&&void 0!==n?n:"e",this.id]]:[[null!==n&&void 0!==n?n:"e",this.id]],r=r.map((t=>{var n,r,i;if("e"===t[0]||e)t.push(null!==(r=null===(i=this.relay)||void 0===i?void 0:i.url)&&void 0!==r?r:"");else if(null!==(n=this.relay)&&void 0!==n&&n.url){var o;t.push(null===(o=this.relay)||void 0===o?void 0:o.url)}return t})),r.forEach((t=>{"e"===t[0]?(t.push(null!==e&&void 0!==e?e:""),t.push(this.pubkey)):e&&t.push(e)})),r=[...r,...this.getMatchingTags("h")],t||r.push(...this.author.referenceTags()),r}filter(){return this.isParamReplaceable()?{"#a":[this.tagId()]}:{"#e":[this.tagId()]}}async delete(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.ndk)throw new Error("No NDK instance found");this.ndk.assertSigner();const r=new e(this.ndk,{kind:5,content:t||""});return r.tag(this,void 0,!0),r.tags.push(["k",this.kind.toString()]),n&&(this.emit("deleted"),await r.publish()),r}async react(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.ndk)throw new Error("No NDK instance found");this.ndk.assertSigner();const r=new e(this.ndk,{kind:7,content:t});return r.tag(this),n?await r.publish():await r.sign(),r}get isValid(){return this.validate()}reply(){const t=new e(this.ndk);if(1===this.kind){t.kind=1;this.hasTag("e")?t.tags=[...t.tags,...this.getMatchingTags("e"),...this.getMatchingTags("p"),...this.getMatchingTags("a"),...this.referenceTags("reply")]:t.tag(this,"root")}else{t.kind=1111;const e=["A","E","I","P"],n=this.tags.filter((t=>e.includes(t[0])));if(n.length>0){const e=this.tagValue("K");t.tags.push(...n),e&&t.tags.push(["K",e]);const[r,i,o,...a]=this.tagReference(),s=[r,i,...a];t.tags.push(s)}else{const[e,n,r,i]=this.tagReference(),o=[e,n,null!==i&&void 0!==i?i:""];"e"===e&&o.push(this.pubkey),t.tags.push(o);const a=[...o];a[0]=a[0].toUpperCase(),t.tags.push(a),t.tags.push(["K",this.kind.toString()]),t.tags.push(["P",this.pubkey])}t.tags.push(["k",this.kind.toString()]),t.tags.push(...this.getMatchingTags("p")),t.tags.push(["p",this.pubkey])}return t}},Jb=class{constructor(e,t){d(this,"ndkRelay",void 0),d(this,"ws",void 0),d(this,"_status",void 0),d(this,"timeoutMs",void 0),d(this,"connectedAt",void 0),d(this,"_connectionStats",{attempts:0,success:0,durations:[]}),d(this,"debug",void 0),d(this,"netDebug",void 0),d(this,"connectTimeout",void 0),d(this,"reconnectTimeout",void 0),d(this,"ndk",void 0),d(this,"openSubs",new Map),d(this,"openCountRequests",new Map),d(this,"openEventPublishes",new Map),d(this,"serial",0),d(this,"baseEoseTimeout",4400),d(this,"updateConnectionStats",{connected:()=>{this._connectionStats.success++,this._connectionStats.connectedAt=Date.now()},disconnected:()=>{this._connectionStats.connectedAt&&(this._connectionStats.durations.push(Date.now()-this._connectionStats.connectedAt),this._connectionStats.durations.length>100&&this._connectionStats.durations.shift()),this._connectionStats.connectedAt=void 0},attempt:()=>{this._connectionStats.attempts++,this._connectionStats.connectedAt=Date.now()}}),this.ndkRelay=e,this._status=1;const n=Math.floor(1e3*Math.random());this.debug=this.ndkRelay.debug.extend("connectivity"+n),this.ndk=t}async connect(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(2!==this._status&&1!==this._status||this.reconnectTimeout)this.debug("Relay requested to be connected but was in state %s or it had a reconnect timeout",this._status);else{this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0),null!==e&&void 0!==e||(e=this.timeoutMs),!this.timeoutMs&&e&&(this.timeoutMs=e),this.timeoutMs&&(this.connectTimeout=setTimeout((()=>this.onConnectionError(t)),this.timeoutMs));try{this.updateConnectionStats.attempt(),1===this._status?this._status=4:this._status=2,this.ws=new WebSocket(this.ndkRelay.url),this.ws.onopen=this.onConnect.bind(this),this.ws.onclose=this.onDisconnect.bind(this),this.ws.onmessage=this.onMessage.bind(this),this.ws.onerror=this.onError.bind(this)}catch(oR){throw this.debug("Failed to connect to ".concat(this.ndkRelay.url),oR),this._status=1,t?this.handleReconnection():this.ndkRelay.emit("delayed-connect",1728e5),oR}}}disconnect(){this._status=0;try{var e;null===(e=this.ws)||void 0===e||e.close()}catch(oR){this.debug("Failed to disconnect",oR),this._status=1}}onConnectionError(e){this.debug("Error connecting to ".concat(this.ndkRelay.url),this.timeoutMs),e&&!this.reconnectTimeout&&this.handleReconnection()}onConnect(){var e;null===(e=this.netDebug)||void 0===e||e.call(this,"connected",this.ndkRelay),this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0),this.updateConnectionStats.connected(),this._status=5,this.ndkRelay.emit("connect"),this.ndkRelay.emit("ready")}onDisconnect(){var e;null===(e=this.netDebug)||void 0===e||e.call(this,"disconnected",this.ndkRelay),this.updateConnectionStats.disconnected(),5===this._status&&this.handleReconnection(),this._status=1,this.ndkRelay.emit("disconnect")}onMessage(e){var t;null===(t=this.netDebug)||void 0===t||t.call(this,e.data,this.ndkRelay,"recv");try{const t=JSON.parse(e.data),[n,r,...i]=t;switch(n){case"EVENT":{const e=this.openSubs.get(r),n=t[2];return e?void e.onevent(n):void this.debug("Received event for unknown subscription ".concat(r))}case"COUNT":{const e=t[2],n=this.openCountRequests.get(r);return void(n&&(n.resolve(e.count),this.openCountRequests.delete(r)))}case"EOSE":{const e=this.openSubs.get(r);if(!e)return;return void e.oneose(r)}case"OK":{const e=t[2],n=t[3],i=this.openEventPublishes.get(r),o=null===i||void 0===i?void 0:i.pop();return i&&o?(e?o.resolve(n):o.reject(new Error(n)),void(0===i.length?this.openEventPublishes.delete(r):this.openEventPublishes.set(r,i))):void this.debug("Received OK for unknown event publish",r)}case"CLOSED":{const e=this.openSubs.get(r);if(!e)return;return void e.onclosed(t[2])}case"NOTICE":return void this.onNotice(t[1]);case"AUTH":return void this.onAuthRequested(t[1])}}catch(kU){return void this.debug("Error parsing message from ".concat(this.ndkRelay.url,": ").concat(kU.message),null===kU||void 0===kU?void 0:kU.stack)}}async onAuthRequested(e){var t,n;const r=null!==(t=this.ndkRelay.authPolicy)&&void 0!==t?t:null===(n=this.ndk)||void 0===n?void 0:n.relayAuthDefaultPolicy;if(this.debug("Relay requested authentication",{havePolicy:!!r}),7!==this._status)if(this._status=6,r){if(this._status>=5){let t;this._status=7;try{t=await r(this.ndkRelay,e)}catch(oR){this.debug("Authentication policy threw an error",oR),t=!1}if(this.debug("Authentication policy returned",!!t),t instanceof $b||!0===t){t instanceof $b&&await this.auth(t);const n=async()=>{if(this._status>=5&&this._status<8){const t=new $b(this.ndk);t.kind=22242,t.tags=[["relay",this.ndkRelay.url],["challenge",e]],await t.sign(),this.auth(t).then((()=>{this._status=8,this.ndkRelay.emit("authed"),this.debug("Authentication successful")})).catch((e=>{this._status=6,this.ndkRelay.emit("auth:failed",e),this.debug("Authentication failed",e)}))}else this.debug("Authentication failed, it changed status, status is %d",this._status)};var i,o;if(!0===t)if(null!==(i=this.ndk)&&void 0!==i&&i.signer)n().catch((e=>{console.error("Error authenticating",e)}));else this.debug("No signer available for authentication localhost"),null===(o=this.ndk)||void 0===o||o.once("signer:ready",n);this._status=5,this.ndkRelay.emit("authed")}}}else this.ndkRelay.emit("auth",e);else this.debug("Already authenticating, ignoring")}onError(e){this.debug("WebSocket error on ".concat(this.ndkRelay.url,":"),e)}get status(){return this._status}isAvailable(){return 5===this._status}isFlapping(){const e=this._connectionStats.durations;if(e.length%3!==0)return!1;const t=e.reduce(((e,t)=>e+t),0),n=t/e.length,r=e.map((e=>Math.pow(e-n,2))).reduce(((e,t)=>e+t),0)/e.length;return Math.sqrt(r)<1e3}async onNotice(e){this.ndkRelay.emit("notice",e)}handleReconnection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.reconnectTimeout)return;if(this.isFlapping())return this.ndkRelay.emit("flapping",this._connectionStats),void(this._status=3);const t=this.connectedAt?Math.max(0,6e4-(Date.now()-this.connectedAt)):5e3*(this._connectionStats.attempts+1);this.reconnectTimeout=setTimeout((()=>{this.reconnectTimeout=void 0,this._status=2,this.connect().catch((t=>{e<5?setTimeout((()=>{this.handleReconnection(e+1)}),1e3*(e+1)^4):this.debug("Reconnect failed")}))}),t),this.ndkRelay.emit("delayed-connect",t),this.debug("Reconnecting in",t),this._connectionStats.nextReconnectAt=Date.now()+t}async send(e){var t,n,r;this._status>=5&&(null===(t=this.ws)||void 0===t?void 0:t.readyState)===WebSocket.OPEN?(null===(n=this.ws)||void 0===n||n.send(e),null===(r=this.netDebug)||void 0===r||r.call(this,e,this.ndkRelay,"send")):this.debug("Not connected to ".concat(this.ndkRelay.url," (%d), not sending message ").concat(e),this._status)}async auth(e){const t=new Promise(((t,n)=>{var r;const i=null!==(r=this.openEventPublishes.get(e.id))&&void 0!==r?r:[];i.push({resolve:t,reject:n}),this.openEventPublishes.set(e.id,i)}));return this.send('["AUTH",'+JSON.stringify(e.rawEvent())+"]"),t}async publish(e){const t=new Promise(((t,n)=>{var r;const i=null!==(r=this.openEventPublishes.get(e.id))&&void 0!==r?r:[];i.length>0&&console.warn("Duplicate event publishing detected, you are publishing event "+e.id+" twice"),i.push({resolve:t,reject:n}),this.openEventPublishes.set(e.id,i)}));return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(null===t||void 0===t?void 0:t.id)||"count:"+this.serial,r=new Promise(((e,t)=>{this.openCountRequests.set(n,{resolve:e,reject:t})}));return this.send('["COUNT","'+n+'",'+JSON.stringify(e).substring(1)),r}close(e,t){this.send('["CLOSE","'+e+'"]');const n=this.openSubs.get(e);this.openSubs.delete(e),n&&n.onclose(t)}req(e){this.send('["REQ","'+e.subId+'",'+JSON.stringify(e.executeFilters).substring(1)),this.openSubs.set(e.subId,e)}get connectionStats(){return this._connectionStats}get url(){return this.ndkRelay.url}get connected(){var e;return this._status>=5&&(null===(e=this.ws)||void 0===e?void 0:e.readyState)===WebSocket.OPEN}},Xb=class{constructor(e){d(this,"ndkRelay",void 0),d(this,"debug",void 0),this.ndkRelay=e,this.debug=e.debug.extend("publisher")}async publish(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2500;const r=()=>new Promise(((t,n)=>{try{this.publishEvent(e).then((n=>{this.ndkRelay.emit("published",e),e.emit("relay:published",this.ndkRelay),t(!0)})).catch(n)}catch(r){n(r)}})),i=new Promise(((e,r)=>{t=setTimeout((()=>{t=void 0,r(new Error("Timeout: "+n+"ms"))}),n)})),o=()=>{r().then((e=>a(e))).catch((e=>s(e)))};let a,s;const l=t=>{throw this.ndkRelay.debug("Publish failed",t,e.id),this.ndkRelay.emit("publish:failed",e,t),e.emit("relay:publish:failed",this.ndkRelay,t),t},c=()=>{t&&clearTimeout(t),this.ndkRelay.removeListener("connect",o)};return this.ndkRelay.status>=5?Promise.race([r(),i]).catch(l).finally(c):(this.ndkRelay.status<=1?(console.warn("Relay is disconnected, trying to connect to publish an event",this.ndkRelay.url),this.ndkRelay.connect()):console.warn("Relay not connected, waiting for connection to publish an event",this.ndkRelay.url),Promise.race([new Promise(((e,t)=>{a=e,s=t,this.ndkRelay.once("connect",o)})),i]).catch(l).finally(c))}async publishEvent(e){return this.ndkRelay.connectivity.publish(e.rawEvent())}};function ew(e){const t=[],n={};return e.filter((e=>!!e.limit)).forEach((e=>t.push(e))),e=e.filter((e=>!e.limit)),0===e.length?t:(e.forEach((e=>{Object.entries(e).forEach((e=>{let[t,r]=e;Array.isArray(r)?void 0===n[t]?n[t]=[...r]:n[t]=Array.from(new Set([...n[t],...r])):n[t]=r}))})),[...t,n])}var tw=class{constructor(e,t,n){d(this,"fingerprint",void 0),d(this,"items",new Map),d(this,"topSubManager",void 0),d(this,"debug",void 0),d(this,"status",0),d(this,"onClose",void 0),d(this,"relay",void 0),d(this,"eosed",!1),d(this,"executionTimer",void 0),d(this,"fireTime",void 0),d(this,"delayType",void 0),d(this,"executeFilters",void 0),d(this,"id",Math.random().toString(36).substring(7)),d(this,"_subId",void 0),d(this,"subIdParts",new Set),d(this,"executeOnRelayReady",(()=>{if(2===this.status){if(0===this.items.size)return this.debug("No items to execute; this relay was probably too slow to respond and the caller gave up",{status:this.status,fingerprint:this.fingerprint,items:this.items,itemsSize:this.items.size,id:this.id,subId:this.subId}),void this.cleanup();this.debug("Executing on relay ready",{status:this.status,fingerprint:this.fingerprint,items:this.items,itemsSize:this.items.size}),this.status=1,this.execute()}})),d(this,"reExecuteAfterAuth",(()=>{const e=this.subId;this.debug("Re-executing after auth",this.items.size),this.eosed?this.relay.close(this.subId):this.debug("We are abandoning an opened subscription, once it EOSE's, the handler will close it",{oldSubId:e}),this._subId=void 0,this.status=1,this.execute(),this.debug("Re-executed after auth %s \ud83d\udc49 %s",e,this.subId)}).bind(this)),this.relay=e,this.topSubManager=n,this.debug=e.debug.extend("subscription-"+this.id),this.fingerprint=t||Math.random().toString(36).substring(7)}get subId(){return this._subId||(this._subId=this.fingerprint.slice(0,15)),this._subId}addSubIdPart(e){this.subIdParts.add(e)}addItem(e,t){if(this.debug("Adding item",{filters:t,internalId:e.internalId,status:this.status,fingerprint:this.fingerprint,id:this.subId,items:this.items,itemsSize:this.items.size}),!this.items.has(e.internalId))switch(e.on("close",this.removeItem.bind(this,e)),this.items.set(e.internalId,{subscription:e,filters:t}),3!==this.status&&e.subId&&(!this._subId||this._subId.length<48)&&(0!==this.status&&1!==this.status||this.addSubIdPart(e.subId)),this.status){case 0:case 1:this.evaluateExecutionPlan(e);break;case 3:console.log("BUG: This should not happen: This subscription needs to catch up with a subscription that was already running",t);break;case 4:throw this.debug("Subscription is closed, cannot add new items %o (%o)",e,t),new Error("Cannot add new items to a closed subscription")}}removeItem(e){if(this.items.delete(e.internalId),0===this.items.size){if(!this.eosed)return;this.close(),this.cleanup()}}close(){if(4===this.status)return;const e=this.status;if(this.status=4,3===e)try{this.relay.close(this.subId)}catch(oR){this.debug("Error closing subscription",oR,this)}else this.debug("Subscription wanted to close but it wasn't running, this is probably ok",{subId:this.subId,prevStatus:e,sub:this});this.cleanup()}cleanup(){this.executionTimer&&clearTimeout(this.executionTimer),this.relay.off("ready",this.executeOnRelayReady),this.relay.off("authed",this.reExecuteAfterAuth),this.onClose&&this.onClose(this)}evaluateExecutionPlan(e){if(!e.isGroupable())return this.status=1,void this.execute();if(e.filters.find((e=>!!e.limit))&&(this.executeFilters=this.compileFilters(),this.executeFilters.length>=10))return this.status=1,void this.execute();const t=e.groupableDelay,n=e.groupableDelayType;if(!t)throw new Error("Cannot group a subscription without a delay");if(0===this.status)this.schedule(t,n);else{const e=this.delayType,r=this.fireTime-Date.now();if("at-least"===e&&"at-least"===n)r<t&&(this.executionTimer&&clearTimeout(this.executionTimer),this.schedule(t,n));else if("at-least"===e&&"at-most"===n)r>t&&(this.executionTimer&&clearTimeout(this.executionTimer),this.schedule(t,n));else if("at-most"===e&&"at-most"===n)r>t&&(this.executionTimer&&clearTimeout(this.executionTimer),this.schedule(t,n));else{if("at-most"!==e||"at-least"!==n)throw new Error("Unknown delay type combination "+e+" "+n);r>t&&(this.executionTimer&&clearTimeout(this.executionTimer),this.schedule(t,n))}}}schedule(e,t){this.status=1;const n=Date.now();this.fireTime=n+e,this.delayType=t;const r=setTimeout(this.execute.bind(this),e);"at-least"===t&&(this.executionTimer=r)}finalizeSubId(){this.subIdParts.size>0?this._subId=Array.from(this.subIdParts).join("-"):this._subId=this.fingerprint.slice(0,15),this._subId+="-"+Math.random().toString(36).substring(2,7)}execute(){if(1===this.status){if(!this.relay.connected)return this.status=2,this.debug("Waiting for relay to be ready",{status:this.status,id:this.subId,fingerprint:this.fingerprint,items:this.items,itemsSize:this.items.size}),void this.relay.once("ready",this.executeOnRelayReady);this.relay.status<8&&this.relay.once("authed",this.reExecuteAfterAuth),this.status=3,this.finalizeSubId(),this.executeFilters=this.compileFilters(),this.relay.req(this)}}onstart(){}onevent(e){this.topSubManager.dispatchEvent(e,this.relay)}oneose(e){if(this.eosed=!0,e!==this.subId)return this.debug("Received EOSE for an abandoned subscription",e,this.subId),void this.relay.close(e);0===this.items.size&&this.close();for(const{subscription:t}of this.items.values())t.eoseReceived(this.relay),t.closeOnEose&&(this.debug("Removing item because of EOSE",{filters:t.filters,internalId:t.internalId,status:this.status,fingerprint:this.fingerprint,items:this.items,itemsSize:this.items.size}),this.removeItem(t))}onclose(e){this.status=4}onclosed(e){if(e)for(const{subscription:t}of this.items.values())t.closedReceived(this.relay,e)}compileFilters(){const e=[],t=Array.from(this.items.values()).map((e=>e.filters));if(!t[0])return this.debug("\ud83d\udc40 No filters to merge",this.items),console.error("BUG: No filters to merge!",this.items),[];const n=t[0].length;for(let r=0;r<n;r++){const n=t.map((e=>e[r]));e.push(...ew(n))}return e}},nw=class{constructor(e,t){d(this,"relay",void 0),d(this,"subscriptions",void 0),d(this,"generalSubManager",void 0),this.relay=e,this.subscriptions=new Map,this.generalSubManager=t}addSubscription(e,t){let n;if(e.isGroupable()){const r=function(e,t){const n=[];for(const i of e){const e=Object.entries(i||{}).map((e=>{let[t,n]=e;return["since","until"].includes(t)?t+":"+n:t})).sort().join("-");n.push(e)}let r=t?"+":"";return r+=n.join("|"),r}(t,e.closeOnEose);if(r){n=(this.subscriptions.get(r)||[]).find((e=>e.status<3))}null!==n&&void 0!==n||(n=this.createSubscription(e,t,r))}else n=this.createSubscription(e,t);n.addItem(e,t)}createSubscription(e,t,n){var r;const i=new tw(this.relay,n||null,this.generalSubManager);i.onClose=this.onRelaySubscriptionClose.bind(this);const o=null!==(r=this.subscriptions.get(i.fingerprint))&&void 0!==r?r:[];return this.subscriptions.set(i.fingerprint,[...o,i]),i}onRelaySubscriptionClose(e){var t;let n=null!==(t=this.subscriptions.get(e.fingerprint))&&void 0!==t?t:[];n?1===n.length?this.subscriptions.delete(e.fingerprint):(n=n.filter((t=>t.id!==e.id)),this.subscriptions.set(e.fingerprint,n)):console.warn("Unexpectedly did not find a subscription with fingerprint",e.fingerprint)}},rw=(eb=class e extends al.EventEmitter{constructor(t,n,r){var i;super(),d(this,"url",void 0),d(this,"scores",void 0),d(this,"connectivity",void 0),d(this,"subs",void 0),d(this,"publisher",void 0),d(this,"authPolicy",void 0),d(this,"lowestValidationRatio",void 0),d(this,"targetValidationRatio",void 0),d(this,"validationRatioFn",void 0),d(this,"validatedEventCount",0),d(this,"nonValidatedEventCount",0),d(this,"trusted",!1),d(this,"complaining",!1),d(this,"debug",void 0),d(this,"req",void 0),d(this,"close",void 0),this.url=fb(t),this.scores=new Map,this.debug=sl("ndk:relay:".concat(t)),this.connectivity=new Jb(this,r),this.connectivity.netDebug=null===r||void 0===r?void 0:r.netDebug,this.req=this.connectivity.req.bind(this.connectivity),this.close=this.connectivity.close.bind(this.connectivity),this.subs=new nw(this,r.subManager),this.publisher=new Xb(this),this.authPolicy=n,this.targetValidationRatio=null===r||void 0===r?void 0:r.initialValidationRatio,this.lowestValidationRatio=null===r||void 0===r?void 0:r.lowestValidationRatio,this.validationRatioFn=(null!==(i=null===r||void 0===r?void 0:r.validationRatioFn)&&void 0!==i?i:e.defaultValidationRatioUpdateFn).bind(this),this.updateValidationRatio(),r||console.trace("relay created without ndk")}updateValidationRatio(){setTimeout((()=>{this.updateValidationRatio()}),3e4)}get status(){return this.connectivity.status}get connectionStats(){return this.connectivity.connectionStats}async connect(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.connectivity.connect(e,t)}disconnect(){1!==this.status&&this.connectivity.disconnect()}subscribe(e,t){this.subs.addSubscription(e,t)}async publish(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2500;return this.publisher.publish(e,t)}referenceTags(){return[["r",this.url]]}addValidatedEvent(){this.validatedEventCount++}addNonValidatedEvent(){this.nonValidatedEventCount++}get validationRatio(){return 0===this.nonValidatedEventCount?1:this.validatedEventCount/(this.validatedEventCount+this.nonValidatedEventCount)}shouldValidateEvent(){return!this.trusted&&(void 0===this.targetValidationRatio||this.validationRatio<this.targetValidationRatio)}get connected(){return this.connectivity.connected}},d(eb,"defaultValidationRatioUpdateFn",((e,t,n)=>{if(void 0===e.lowestValidationRatio||void 0===e.targetValidationRatio)return 1;let r=e.validationRatio;if(e.validationRatio>e.targetValidationRatio){const n=t/100;r=Math.max(e.lowestValidationRatio,e.validationRatio-n)}return r<e.validationRatio?r:e.validationRatio})),eb),iw=class extends al.EventEmitter{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;super(),d(this,"_relays",new Map),d(this,"autoConnectRelays",new Set),d(this,"blacklistRelayUrls",void 0),d(this,"debug",void 0),d(this,"temporaryRelayTimers",new Map),d(this,"flappingRelays",new Set),d(this,"backoffTimes",new Map),d(this,"ndk",void 0),this.debug=null!==r&&void 0!==r?r:n.debug.extend("pool"),this.ndk=n,this.relayUrls=e,this.blacklistRelayUrls=new Set(t)}get relays(){return this._relays}set relayUrls(e){this._relays.clear();for(const t of e){const e=new rw(t,void 0,this.ndk);e.connectivity.netDebug=this.ndk.netDebug,this.addRelay(e,!1)}}set name(e){this.debug=this.debug.extend(e)}useTemporaryRelay(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4,n=arguments.length>2?arguments[2]:void 0;const r=this.relays.has(e.url);r||(this.addRelay(e),this.debug("Adding temporary relay %s for filters %o",e.url,n));const i=this.temporaryRelayTimers.get(e.url);if(i&&clearTimeout(i),!r||i){const n=setTimeout((()=>{var t;null!==(t=this.ndk.explicitRelayUrls)&&void 0!==t&&t.includes(e.url)||this.removeRelay(e.url)}),t);this.temporaryRelayTimers.set(e.url,n)}}addRelay(e){var t,n;let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=this.relays.has(e.url),o=null===(t=this.blacklistRelayUrls)||void 0===t?void 0:t.has(e.url),a=e.url.includes("/npub1");let s=!0;const l=e.url;if(i)return;if(o)return void this.debug("Refusing to add relay ".concat(l,": blacklisted"));if(a)return void this.debug("Refusing to add relay ".concat(l,": is a filter relay"));if(null!==(n=this.ndk.cacheAdapter)&&void 0!==n&&n.getRelayStatus){const t=this.ndk.cacheAdapter.getRelayStatus(l);if(t&&t.dontConnectBefore){if(t.dontConnectBefore>Date.now()){const n=t.dontConnectBefore-Date.now();return this.debug("Refusing to add relay ".concat(l,": delayed connect for ").concat(n,"ms")),void setTimeout((()=>{this.addRelay(e,r)}),n)}s=!1}}const c=t=>this.emit("notice",e,t),u=()=>this.handleRelayConnect(l),d=()=>this.handleRelayReady(e),h=()=>this.emit("relay:disconnect",e),f=()=>this.handleFlapping(e),p=t=>this.emit("relay:auth",e,t),g=()=>this.emit("relay:authed",e);e.off("notice",c),e.off("connect",u),e.off("ready",d),e.off("disconnect",h),e.off("flapping",f),e.off("auth",p),e.off("authed",g),e.on("notice",c),e.on("connect",u),e.on("ready",d),e.on("disconnect",h),e.on("flapping",f),e.on("auth",p),e.on("authed",g),e.on("delayed-connect",(t=>{var n;null!==(n=this.ndk.cacheAdapter)&&void 0!==n&&n.updateRelayStatus&&this.ndk.cacheAdapter.updateRelayStatus(e.url,{dontConnectBefore:Date.now()+t})})),this.relays.set(l,e),r&&this.autoConnectRelays.add(l),r&&(this.emit("relay:connecting",e),e.connect(void 0,s).catch((e=>{this.debug("Failed to connect to relay ".concat(l),e)})))}removeRelay(e){const t=this.relays.get(e);if(t)return t.disconnect(),this.relays.delete(e),this.autoConnectRelays.delete(e),this.emit("relay:disconnect",t),!0;const n=this.temporaryRelayTimers.get(e);return n&&(clearTimeout(n),this.temporaryRelayTimers.delete(e)),!1}isRelayConnected(e){const t=fb(e),n=this.relays.get(t);return!!n&&5===n.status}getRelay(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=this.relays.get(fb(e));return i||(i=new rw(e,void 0,this.ndk),i.connectivity.netDebug=this.ndk.netDebug,n?this.useTemporaryRelay(i,3e4,r):this.addRelay(i,t)),i}handleRelayConnect(e){const t=this.relays.get(e);t?(this.emit("relay:connect",t),this.stats().connected===this.relays.size&&this.emit("connect")):console.error("NDK BUG: relay not found in pool",{relayUrl:e})}handleRelayReady(e){this.emit("relay:ready",e)}async connect(e){var t;const n=[];this.debug("Connecting to ".concat(this.relays.size," relays").concat(e?", timeout ".concat(e,"..."):""));const r=new Set(this.autoConnectRelays.keys());null===(t=this.ndk.explicitRelayUrls)||void 0===t||t.forEach((e=>{const t=fb(e);r.add(t)}));for(const i of r){const t=this.relays.get(i);if(!t)continue;const r=new Promise(((n,r)=>(this.emit("relay:connecting",t),t.connect(e).then(n).catch(r))));if(e){const i=new Promise(((t,n)=>{setTimeout((()=>n("Timed out after ".concat(e,"ms"))),e)}));n.push(Promise.race([r,i]).catch((e=>{this.debug("Failed to connect to relay ".concat(t.url,": ").concat(null!==e&&void 0!==e?e:"No reason specified"))})))}else n.push(r)}e&&setTimeout((()=>{const e=this.stats().connected===this.relays.size,t=this.stats().connected>0;!e&&t&&this.emit("connect")}),e),await Promise.all(n)}checkOnFlappingRelays(){if(this.flappingRelays.size/this.relays.size>=.8)for(const e of this.flappingRelays)this.backoffTimes.set(e,0)}handleFlapping(e){this.debug("Relay ".concat(e.url," is flapping"));let t=this.backoffTimes.get(e.url)||5e3;t*=2,this.backoffTimes.set(e.url,t),this.debug("Backoff time for ".concat(e.url," is ").concat(t,"ms")),setTimeout((()=>{this.debug("Attempting to reconnect to ".concat(e.url)),this.emit("relay:connecting",e),e.connect(),this.checkOnFlappingRelays()}),t),e.disconnect(),this.emit("flapping",e)}size(){return this.relays.size}stats(){const e={total:0,connected:0,disconnected:0,connecting:0};for(const t of this.relays.values())e.total++,5===t.status?e.connected++:1===t.status?e.disconnected++:4===t.status&&e.connecting++;return e}connectedRelays(){return Array.from(this.relays.values()).filter((e=>e.status>=5))}permanentAndConnectedRelays(){return Array.from(this.relays.values()).filter((e=>e.status>=5&&!this.temporaryRelayTimers.has(e.url)))}urls(){return Array.from(this.relays.keys())}};function ow(e){return!(!e.filter.ids||!function(e){const t=e.filter.ids;return!!t&&t.length===e.eventFirstSeen.size}(e))}function aw(e){let t;if(e.match(sw)){const[t,n,r]=e.split(":"),i={authors:[n],kinds:[parseInt(t)]};return r&&(i["#d"]=[r]),i}if(e.match(lw))try{switch(t=xp.decode(e),t.type){case"nevent":{const e={ids:[t.data.id]};return t.data.author&&(e.authors=[t.data.author]),t.data.kind&&(e.kinds=[t.data.kind]),e}case"note":return{ids:[t.data]};case"naddr":const e={authors:[t.data.pubkey],kinds:[t.data.kind]};return t.data.identifier&&(e["#d"]=[t.data.identifier]),e}}catch(oR){console.error("Error decoding",e,oR)}return{ids:[e]}}var sw=/^(\d+):([0-9A-Fa-f]+)(?::(.*))?$/,lw=/^n(event|ote|profile|pub|addr)1[\d\w]+$/;function cw(e,t){try{const n=xp.decode(e);if(["naddr","nevent"].includes(null===n||void 0===n?void 0:n.type)){const e=n.data;if(null!==e&&void 0!==e&&e.relays)return e.relays.map((e=>new rw(e,t.relayAuthDefaultPolicy,t)))}}catch(oR){}return[]}var uw={closeOnEose:!1,cacheUsage:"CACHE_FIRST",groupable:!0,groupableDelay:100,groupableDelayType:"at-most"},dw=class extends al.EventEmitter{constructor(e,t,n,r,i){var o;if(super(),d(this,"subId",void 0),d(this,"filters",void 0),d(this,"opts",void 0),d(this,"pool",void 0),d(this,"skipVerification",!1),d(this,"skipValidation",!1),d(this,"relayFilters",void 0),d(this,"relaySet",void 0),d(this,"ndk",void 0),d(this,"debug",void 0),d(this,"eventFirstSeen",new Map),d(this,"eosesSeen",new Set),d(this,"lastEventReceivedAt",void 0),d(this,"internalId",void 0),d(this,"closeOnEose",void 0),d(this,"poolMonitor",void 0),d(this,"skipOptimisticPublishEvent",!1),d(this,"onStopped",void 0),d(this,"eoseTimeout",void 0),d(this,"eosed",!1),this.ndk=e,this.pool=(null===n||void 0===n?void 0:n.pool)||e.pool,this.opts=f(f({},uw),n||{}),this.filters=t instanceof Array?t:[t],this.subId=i||(null===n||void 0===n?void 0:n.subId),this.internalId=Math.random().toString(36).substring(7),this.relaySet=r,this.debug=e.debug.extend("subscription[".concat(null!==(o=null===n||void 0===n?void 0:n.subId)&&void 0!==o?o:this.internalId,"]")),this.skipVerification=(null===n||void 0===n?void 0:n.skipVerification)||!1,this.skipValidation=(null===n||void 0===n?void 0:n.skipValidation)||!1,this.closeOnEose=(null===n||void 0===n?void 0:n.closeOnEose)||!1,this.skipOptimisticPublishEvent=(null===n||void 0===n?void 0:n.skipOptimisticPublishEvent)||!1,"ONLY_CACHE"===this.opts.cacheUsage&&!this.opts.closeOnEose)throw new Error("Cannot use cache-only options with a persistent subscription")}relaysMissingEose(){if(!this.relayFilters)return[];return Array.from(this.relayFilters.keys()).filter((e=>!this.eosesSeen.has(this.pool.getRelay(e,!1,!1))))}get filter(){return this.filters[0]}get groupableDelay(){var e;if(this.isGroupable())return null===(e=this.opts)||void 0===e?void 0:e.groupableDelay}get groupableDelayType(){var e;return(null===(e=this.opts)||void 0===e?void 0:e.groupableDelayType)||"at-most"}isGroupable(){var e;return(null===(e=this.opts)||void 0===e?void 0:e.groupable)||!1}shouldQueryCache(){var e;return"ONLY_RELAY"!==(null===(e=this.opts)||void 0===e?void 0:e.cacheUsage)}shouldQueryRelays(){var e;return"ONLY_CACHE"!==(null===(e=this.opts)||void 0===e?void 0:e.cacheUsage)}shouldWaitForCache(){var e;return this.opts.closeOnEose&&!(null===(e=this.ndk.cacheAdapter)||void 0===e||!e.locking)&&"PARALLEL"!==this.opts.cacheUsage}async start(){let e;this.shouldQueryCache()&&(e=this.startWithCache(),this.shouldWaitForCache()&&(await e,ow(this)))?this.emit("eose",this):this.shouldQueryRelays()?(this.startWithRelays(),this.startPoolMonitor()):this.emit("eose",this)}startPoolMonitor(){this.debug.extend("pool-monitor");this.poolMonitor=e=>{var t;if(null!==(t=this.relayFilters)&&void 0!==t&&t.has(e.url))return;var n;_b(this.ndk,this.filters,this.pool).get(e.url)&&(null===(n=this.relayFilters)||void 0===n||n.set(e.url,this.filters),e.subscribe(this,this.filters))},this.pool.on("relay:connect",this.poolMonitor)}stop(){var e;this.emit("close",this),this.poolMonitor&&this.pool.off("relay:connect",this.poolMonitor),this.removeAllListeners(),null===(e=this.onStopped)||void 0===e||e.call(this)}hasAuthorsFilter(){return this.filters.some((e=>{var t;return null===(t=e.authors)||void 0===t?void 0:t.length}))}async startWithCache(){var e;if(null!==(e=this.ndk.cacheAdapter)&&void 0!==e&&e.query){const e=this.ndk.cacheAdapter.query(this);this.ndk.cacheAdapter.locking&&await e}}startWithRelays(){if(this.relaySet&&0!==this.relaySet.relays.size){this.relayFilters=new Map;for(const e of this.relaySet.relays)this.relayFilters.set(e.url,this.filters)}else this.relayFilters=_b(this.ndk,this.filters,this.pool);if(this.relayFilters&&0!==this.relayFilters.size)for(const[e,t]of this.relayFilters){this.pool.getRelay(e,!0,!0,t).subscribe(this,t)}}eventReceived(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=e.id,o=this.eventFirstSeen.has(i);let a;if(e instanceof $b&&(a=e),o){const n=Date.now()-(this.eventFirstSeen.get(i)||0);if(this.emit("event:dup",i,t,n,this),t){const n=Wb.get(i);n&&"string"===typeof n&&e.sig===n&&t.addValidatedEvent()}}else{if(null!==a&&void 0!==a||(a=new $b(this.ndk,e)),a.ndk=this.ndk,a.relay=t,!n&&!r){if(!this.skipValidation&&!a.isValid)return void this.debug("Event failed validation %s from relay %s",i,null===t||void 0===t?void 0:t.url);if(t)if(!1!==(null===t||void 0===t?void 0:t.shouldValidateEvent())){if(!this.skipVerification){if(!a.verifySignature(!0)&&!this.ndk.asyncSigVerification)return void this.debug("Event failed signature validation",e);t&&t.addValidatedEvent()}}else t.addNonValidatedEvent();this.ndk.cacheAdapter&&this.ndk.cacheAdapter.setEvent(a,this.filters,t)}!n&&t&&this.ndk.emit("event",a,t),r&&!0===this.skipOptimisticPublishEvent||(this.emit("event",a,t,this),this.eventFirstSeen.set(i,Date.now()))}this.lastEventReceivedAt=Date.now()}closedReceived(e,t){this.emit("closed",e,t)}eoseReceived(e){var t;this.debug("EOSE received from %s",e.url),this.eosesSeen.add(e);let n=this.lastEventReceivedAt?Date.now()-this.lastEventReceivedAt:void 0;const r=this.eosesSeen.size===(null===(t=this.relayFilters)||void 0===t?void 0:t.size),i=ow(this),o=e=>{this.debug("Performing EOSE: %s %d",e,this.eosed),this.eosed||(this.eoseTimeout&&clearTimeout(this.eoseTimeout),this.emit("eose",this),this.eosed=!0)};if(i||r)o("query filled or seen all");else if(this.relayFilters){let e=1e3;const t=new Set(this.pool.connectedRelays().map((e=>e.url))),r=Array.from(this.relayFilters.keys()).filter((e=>t.has(e)));if(0===r.length)return;const i=this.eosesSeen.size/r.length;if(this.debug("Percentage of relays that have sent EOSE",{subId:this.subId,percentageOfRelaysThatHaveSentEose:i,seen:this.eosesSeen.size,total:r.length}),this.eosesSeen.size>=2&&i>=.5){if(e*=1-i,0===e)return void o("time to wait was 0");this.eoseTimeout&&clearTimeout(this.eoseTimeout);const t=()=>{n=this.lastEventReceivedAt?Date.now()-this.lastEventReceivedAt:void 0,void 0!==n&&n<20?this.eoseTimeout=setTimeout(t,e):o("send eose timeout: "+e)};this.eoseTimeout=setTimeout(t,e)}}}};async function hw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(!this.ndk)throw new Error("NDK not set");const r=await this.ndk.fetchEvent({kinds:[n],authors:[this.pubkey]},e||{groupable:!1});if(r){const e=new Set;var i;if(r.tags.forEach((t=>{"p"===t[0]&&e.add(t[1])})),t)null===(i=this.ndk)||void 0===i||null===(i=i.outboxTracker)||void 0===i||i.trackUsers(Array.from(e));return[...e].reduce(((e,t)=>{const n=new ww({pubkey:t});return n.ndk=this.ndk,e.add(n),e}),new Set)}return new Set}function fw(e){const t={};let n;try{n=JSON.parse(e.content)}catch(kU){throw new Error("Failed to parse profile event: ".concat(kU))}return t.created_at=e.created_at,t.profileEvent=JSON.stringify(e.rawEvent()),Object.keys(n).forEach((e=>{switch(e){case"name":t.name=n.name;break;case"display_name":t.displayName=n.display_name;break;case"image":case"picture":t.image=n.picture||n.image;break;case"banner":t.banner=n.banner;break;case"bio":t.bio=n.bio;break;case"nip05":t.nip05=n.nip05;break;case"lud06":t.lud06=n.lud06;break;case"lud16":t.lud16=n.lud16;break;case"about":t.about=n.about;break;case"zapService":t.zapService=n.zapService;break;case"website":t.website=n.website;break;default:t[e]=n[e]}})),t}function pw(e){const t={};for(const[n,r]of Object.entries(e))switch(n){case"username":case"name":t.name=r;break;case"displayName":t.display_name=r;break;case"image":case"picture":t.picture=r;break;case"bio":case"about":t.about=r;break;default:t[n]=r}return JSON.stringify(t)}var gw=/^(?:([\w.+-]+)@)?([\w.-]+)$/;async function yw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fetch,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return await e.queuesNip05.add({id:t,func:async()=>{if(e.cacheAdapter&&e.cacheAdapter.loadNip05){const n=await e.cacheAdapter.loadNip05(t);if("missing"!==n){if(n){const t=new ww({pubkey:n.pubkey,relayUrls:n.relays,nip46Urls:n.nip46});return t.ndk=e,t}if("no-cache"!==r.cache)return null}}const i=t.match(gw);if(!i)return null;const[o,a="_",s]=i;try{const i=await n("https://".concat(s,"/.well-known/nostr.json?name=").concat(a),r),{names:o,relays:l,nip46:c}=function(e){const t={names:{}};for(const[n,r]of Object.entries(e.names))"string"===typeof n&&"string"===typeof r&&(t.names[n.toLowerCase()]=r);if(e.relays){t.relays={};for(const[n,r]of Object.entries(e.relays))"string"===typeof n&&Array.isArray(r)&&(t.relays[n]=r.filter((e=>"string"===typeof e)))}if(e.nip46){t.nip46={};for(const[n,r]of Object.entries(e.nip46))"string"===typeof n&&Array.isArray(r)&&(t.nip46[n]=r.filter((e=>"string"===typeof e)))}return t}(await i.json()),u=o[a.toLowerCase()];let d=null;return u&&(d={pubkey:u,relays:null===l||void 0===l?void 0:l[u],nip46:null===c||void 0===c?void 0:c[u]}),null!==e&&void 0!==e&&e.cacheAdapter&&e.cacheAdapter.saveNip05&&e.cacheAdapter.saveNip05(t,d),d}catch(l){return null!==e&&void 0!==e&&e.cacheAdapter&&e.cacheAdapter.saveNip05&&(null===e||void 0===e||e.cacheAdapter.saveNip05(t,null)),console.error("Failed to fetch NIP05 for",t,l),null}}})}var mw=(tb=class e extends $b{constructor(e,t){var n;super(e,t),d(this,"_p2pk",void 0),null!==(n=this.kind)&&void 0!==n||(this.kind=10019)}static from(t){return new e(t.ndk,t)}set relays(e){this.tags=this.tags.filter((e=>"relay"!==e[0]));for(const t of e)this.tags.push(["relay",t])}get relays(){const e=[];for(const t of this.tags)"relay"===t[0]&&e.push(t[1]);return e}set mints(e){this.tags=this.tags.filter((e=>"mint"!==e[0]));for(const t of e)this.tags.push(["mint",t])}get mints(){const e=[];for(const t of this.tags)"mint"===t[0]&&e.push(t[1]);return Array.from(new Set(e))}get p2pk(){var e;return this._p2pk||(this._p2pk=null!==(e=this.tagValue("pubkey"))&&void 0!==e?e:this.pubkey),this._p2pk}set p2pk(e){this._p2pk=e,this.removeTag("pubkey"),e&&this.tags.push(["pubkey",e])}get relaySet(){return wb.fromRelayUrls(this.relays,this.ndk)}},d(tb,"kind",10019),d(tb,"kinds",[10019]),tb),vw=sl("ndk:zapper:ln");async function bw(e,t){let n,{lud06:r,lud16:i}=e;if(i&&!i.startsWith("LNURL")){const[e,t]=i.split("@");n="https://".concat(t,"/.well-known/lnurlp/").concat(e)}else if(r){const{words:e}=Xv.decode(r,1e3),t=Xv.fromWords(e);n=new TextDecoder("utf-8").decode(t)}if(!n)throw vw("No zap endpoint found %o",{lud06:r,lud16:i}),new Error("No zap endpoint found");try{const e=t.httpFetch||fetch,r=await e(n);if(200!==r.status){const e=await r.text();throw new Error("Unable to fetch zap endpoint ".concat(n,": ").concat(e))}return await r.json()}catch(oR){throw new Error("Unable to fetch zap endpoint ".concat(n,": ").concat(oR))}}var ww=class e{constructor(e){d(this,"ndk",void 0),d(this,"profile",void 0),d(this,"_npub",void 0),d(this,"_pubkey",void 0),d(this,"relayUrls",[]),d(this,"nip46Urls",[]),d(this,"follows",hw.bind(this)),e.npub&&(this._npub=e.npub),e.hexpubkey&&(this._pubkey=e.hexpubkey),e.pubkey&&(this._pubkey=e.pubkey),e.relayUrls&&(this.relayUrls=e.relayUrls),e.nip46Urls&&(this.nip46Urls=e.nip46Urls)}get npub(){if(!this._npub){if(!this._pubkey)throw new Error("pubkey not set");this._npub=xp.npubEncode(this.pubkey)}return this._npub}get nprofile(){return console.log("encoding with pubkey",this.pubkey),xp.nprofileEncode({pubkey:this.pubkey})}set npub(e){this._npub=e}get hexpubkey(){return this.pubkey}set hexpubkey(e){this._pubkey=e}get pubkey(){if(!this._pubkey){if(!this._npub)throw new Error("npub not set");this._pubkey=xp.decode(this.npub).data}return this._pubkey}set pubkey(e){this._pubkey=e}async getZapInfo(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["nip61","nip57"];if(!this.ndk)throw new Error("No NDK instance found");const n=[];if(t.includes("nip61")&&n.push(10019),t.includes("nip57")&&n.push(0),0===n.length)return[];let r=await this.ndk.fetchEvents({kinds:n,authors:[this.pubkey]},{cacheUsage:"ONLY_CACHE",groupable:!1});r.size<t.length&&(r=await this.ndk.fetchEvents({kinds:n,authors:[this.pubkey]},{cacheUsage:"ONLY_RELAY"}));const i=[],o=Array.from(r).find((e=>10019===e.kind)),a=Array.from(r).find((e=>0===e.kind));if(o){const t=mw.from(o);if(t.mints.length>0&&i.push({type:"nip61",data:{mints:t.mints,relays:t.relays,p2pk:t.p2pk}}),!e)return i}if(a){const e=fw(a),{lud06:t,lud16:n}=e;try{const e=await bw({lud06:t,lud16:n},this.ndk);e&&i.push({type:"nip57",data:e})}catch(oR){console.error("Error getting NIP-57 zap spec",oR)}}return i}async getZapConfiguration(e){if(null!==e&&void 0!==e||(e=this.ndk),!e)throw new Error("No NDK instance found");return await e.queuesZapConfig.add({id:this.pubkey,func:async()=>{var t,n;if(null!==(t=this.ndk)&&void 0!==t&&null!==(t=t.cacheAdapter)&&void 0!==t&&t.loadUsersLNURLDoc){const e=await this.ndk.cacheAdapter.loadUsersLNURLDoc(this.pubkey);if("missing"!==e){if(null===e)return;if(e)return e}}let r;try{if(await this.fetchProfile({groupable:!1}),this.profile){const{lud06:t,lud16:n}=this.profile;r=await bw({lud06:t,lud16:n},e)}}catch(i){}if(null!==(n=this.ndk)&&void 0!==n&&null!==(n=n.cacheAdapter)&&void 0!==n&&n.saveUsersLNURLDoc&&this.ndk.cacheAdapter.saveUsersLNURLDoc(this.pubkey,r||null),r)return r}})}async getZapperPubkey(){const e=await this.getZapConfiguration();return null===e||void 0===e?void 0:e.nostrPubkey}static async fromNip05(t,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n)throw new Error("No NDK instance found");const i={};r&&(i.cache="no-cache");const o=await yw(n,t,null===n||void 0===n?void 0:n.httpFetch,i);if(o){const t=new e({pubkey:o.pubkey,relayUrls:o.relays,nip46Urls:o.nip46});return t.ndk=n,t}}async fetchProfile(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.ndk)throw new Error("NDK not set");this.profile||(this.profile={});let r=null;if(this.ndk.cacheAdapter&&this.ndk.cacheAdapter.fetchProfile&&"ONLY_RELAY"!==(null===(t=e)||void 0===t?void 0:t.cacheUsage)){const e=await this.ndk.cacheAdapter.fetchProfile(this.pubkey);if(e)return this.profile=e,e}!e&&this.ndk.cacheAdapter&&this.ndk.cacheAdapter.locking&&(r=await this.ndk.fetchEvents({kinds:[0],authors:[this.pubkey]},{cacheUsage:"ONLY_CACHE",closeOnEose:!0,groupable:!1}),e={cacheUsage:"ONLY_RELAY",closeOnEose:!0,groupable:!0,groupableDelay:250}),r&&0!==r.size||(r=await this.ndk.fetchEvents({kinds:[0],authors:[this.pubkey]},e));const i=Array.from(r).sort(((e,t)=>e.created_at-t.created_at));if(0===i.length)return null;const o=i[0];return this.profile=fw(o),n&&(this.profile.profileEvent=JSON.stringify(o)),this.profile&&this.ndk.cacheAdapter&&this.ndk.cacheAdapter.saveProfile&&this.ndk.cacheAdapter.saveProfile(this.pubkey,this.profile),this.profile}async followSet(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;const r=await this.follows(e,t,n);return new Set(Array.from(r).map((e=>e.pubkey)))}tagReference(){return["p",this.pubkey]}referenceTags(e){const t=[["p",this.pubkey]];return e?(t[0].push("",e),t):t}async publish(){if(!this.ndk)throw new Error("No NDK instance found");if(!this.profile)throw new Error("No profile available");this.ndk.assertSigner();const e=new $b(this.ndk,{kind:0,content:pw(this.profile)});await e.publish()}async follow(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(!this.ndk)throw new Error("No NDK instance found");if(this.ndk.assertSigner(),t||(t=await this.follows(void 0,void 0,n)),t.has(e))return!1;t.add(e);const r=new $b(this.ndk,{kind:n});for(const i of t)r.tag(i);return await r.publish(),!0}async unfollow(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(!this.ndk)throw new Error("No NDK instance found");this.ndk.assertSigner(),t||(t=await this.follows(void 0,void 0,n));const r=new Set;let i=!1;for(const a of t)a.pubkey!==e.pubkey?r.add(a):i=!0;if(!i)return!1;const o=new $b(this.ndk,{kind:n});for(const a of r)o.tag(a);return await o.publish()}async validateNip05(e){if(!this.ndk)throw new Error("No NDK instance found");const t=await yw(this.ndk,e);return null===t?null:t.pubkey===this.pubkey}},xw=class e extends $b{constructor(e,t){var n;super(e,t),d(this,"_encryptedTags",void 0),d(this,"encryptedTagsLength",void 0),null!==(n=this.kind)&&void 0!==n||(this.kind=30001)}static from(t){return new e(t.ndk,t)}get title(){const e=this.tagValue("title")||this.tagValue("name");return e||(3===this.kind?"Contacts":1e4===this.kind?"Mute":10001===this.kind?"Pinned Notes":10002===this.kind?"Relay Metadata":10003===this.kind?"Bookmarks":10004===this.kind?"Communities":10005===this.kind?"Public Chats":10006===this.kind?"Blocked Relays":10007===this.kind?"Search Relays":10050===this.kind?"Direct Message Receive Relays":10015===this.kind?"Interests":10030===this.kind?"Emojis":this.tagValue("d"))}set title(e){this.removeTag(["title","name"]),e&&this.tags.push(["title",e])}get name(){return this.title}set name(e){this.title=e}get description(){return this.tagValue("description")}set description(e){this.removeTag("description"),e&&this.tags.push(["description",e])}get image(){return this.tagValue("image")}set image(e){this.removeTag("image"),e&&this.tags.push(["image",e])}isEncryptedTagsCacheValid(){return!(!this._encryptedTags||this.encryptedTagsLength!==this.content.length)}async encryptedTags(){if((!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.isEncryptedTagsCacheValid())return this._encryptedTags;if(!this.ndk)throw new Error("NDK instance not set");if(!this.ndk.signer)throw new Error("NDK signer not set");const e=await this.ndk.signer.user();try{if(this.content.length>0)try{const t=await this.ndk.signer.decrypt(e,this.content),n=JSON.parse(t);return n&&n[0]?(this.encryptedTagsLength=this.content.length,this._encryptedTags=n):(this.encryptedTagsLength=this.content.length,this._encryptedTags=[])}catch(oR){console.log("error decrypting ".concat(this.content))}}catch(oR){}return[]}validateTag(e){return!0}getItems(e){return this.tags.filter((t=>t[0]===e))}get items(){return this.tags.filter((e=>!["d","L","l","title","name","description","published_at","summary","image","thumb","alt","expiration","subject","client"].includes(e[0])))}async addItem(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"bottom";if(!this.ndk)throw new Error("NDK instance not set");if(!this.ndk.signer)throw new Error("NDK signer not set");if(e instanceof $b)t=[e.tagReference(n)];else if(e instanceof ww)t=e.referenceTags();else if(e instanceof rw)t=e.referenceTags();else{if(!Array.isArray(e))throw new Error("Invalid object type");t=[e]}if(n&&t[0].push(n),r){const e=await this.ndk.signer.user(),n=await this.encryptedTags();"top"===i?n.unshift(...t):n.push(...t),this._encryptedTags=n,this.encryptedTagsLength=this.content.length,this.content=JSON.stringify(n),await this.encrypt(e)}else"top"===i?this.tags.unshift(...t):this.tags.push(...t);this.created_at=Math.floor(Date.now()/1e3),this.emit("change")}async removeItemByValue(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.ndk)throw new Error("NDK instance not set");if(!this.ndk.signer)throw new Error("NDK signer not set");const n=this.tags.findIndex((t=>t[1]===e));n>=0&&this.tags.splice(n,1);const r=await this.ndk.signer.user(),i=await this.encryptedTags(),o=i.findIndex((t=>t[1]===e));if(o>=0&&(i.splice(o,1),this._encryptedTags=i,this.encryptedTagsLength=this.content.length,this.content=JSON.stringify(i),await this.encrypt(r)),t)return this.publishReplaceable();this.created_at=Math.floor(Date.now()/1e3),this.emit("change")}async removeItem(e,t){if(!this.ndk)throw new Error("NDK instance not set");if(!this.ndk.signer)throw new Error("NDK signer not set");if(t){const t=await this.ndk.signer.user(),n=await this.encryptedTags();n.splice(e,1),this._encryptedTags=n,this.encryptedTagsLength=this.content.length,this.content=JSON.stringify(n),await this.encrypt(t)}else this.tags.splice(e,1);return this.created_at=Math.floor(Date.now()/1e3),this.emit("change"),this}has(e){return this.items.some((t=>t[1]===e))}filterForItems(){const e=new Set,t=new Map,n=[];for(const r of this.items)if("e"===r[0]&&r[1])e.add(r[1]);else if("a"===r[0]&&r[1]){const[e,n,i]=r[1].split(":");if(!e||!n)continue;const o="".concat(e,":").concat(n),a=t.get(o)||[];a.push(i||""),t.set(o,a)}if(e.size>0&&n.push({ids:Array.from(e)}),t.size>0)for(const[r,i]of t.entries()){const[e,t]=r.split(":");n.push({kinds:[parseInt(e)],authors:[t],"#d":i})}return n}};var Ew=(nb=class e extends $b{constructor(e,t){var n;super(e,t),null!==(n=this.kind)&&void 0!==n||(this.kind=30023)}static from(t){return new e(t.ndk,t)}get title(){return this.tagValue("title")}set title(e){this.removeTag("title"),e&&this.tags.push(["title",e])}get image(){return this.tagValue("image")}set image(e){this.removeTag("image"),e&&this.tags.push(["image",e])}get summary(){return this.tagValue("summary")}set summary(e){this.removeTag("summary"),e&&this.tags.push(["summary",e])}get published_at(){const e=this.tagValue("published_at");if(e){let t=parseInt(e);return t>1e12&&(t=Math.floor(t/1e3)),t}}set published_at(e){this.removeTag("published_at"),void 0!==e&&this.tags.push(["published_at",e.toString()])}async generateTags(){return super.generateTags(),this.published_at||(this.published_at=this.created_at),super.generateTags()}get url(){return this.tagValue("url")}set url(e){e?this.tags.push(["url",e]):this.removeTag("url")}},d(nb,"kind",30023),d(nb,"kinds",[30023]),nb),kw=(d(rb=class extends Ew{},"kind",30818),d(rb,"kinds",[30818]),ib=class e extends $b{constructor(e,t){var n;super(e,t),null!==(n=this.kind)&&void 0!==n||(this.kind=34235)}static from(t){return new e(t.ndk,t.rawEvent())}get title(){return this.tagValue("title")}set title(e){this.removeTag("title"),e&&this.tags.push(["title",e])}get thumbnail(){return this.tagValue("thumb")}set thumbnail(e){this.removeTag("thumb"),e&&this.tags.push(["thumb",e])}get url(){return this.tagValue("url")}set url(e){this.removeTag("url"),e&&this.tags.push(["url",e])}get published_at(){const e=this.tagValue("published_at");if(e)return parseInt(e)}set published_at(e){this.removeTag("published_at"),void 0!==e&&this.tags.push(["published_at",e.toString()])}async generateTags(){return super.generateTags(),this.published_at||(this.published_at=this.created_at),super.generateTags()}get duration(){const e=this.tagValue("duration");if(e)return parseInt(e)}set duration(e){this.removeTag("duration"),void 0!==e&&this.tags.push(["duration",Math.floor(e).toString()])}},d(ib,"kind",34235),d(ib,"kinds",[34235,34236]),ob=class e extends $b{constructor(e,t){var n;super(e,t),d(this,"_article",void 0),null!==(n=this.kind)&&void 0!==n||(this.kind=9802)}static from(t){return new e(t.ndk,t)}get url(){return this.tagValue("r")}set context(e){void 0===e?this.tags=this.tags.filter((e=>{let[t,n]=e;return"context"!==t})):(this.tags=this.tags.filter((e=>{let[t,n]=e;return"context"!==t})),this.tags.push(["context",e]))}get context(){var e,t;return null!==(e=null===(t=this.tags.find((e=>{let[t,n]=e;return"context"===t})))||void 0===t?void 0:t[1])&&void 0!==e?e:void 0}get article(){return this._article}set article(e){this._article=e,"string"===typeof e?this.tags.push(["r",e]):this.tag(e)}getArticleTag(){return this.getMatchingTags("a")[0]||this.getMatchingTags("e")[0]||this.getMatchingTags("r")[0]}async getArticle(){if(void 0!==this._article)return this._article;let e;const t=this.getArticleTag();if(t){switch(t[0]){case"a":const[n,r,i]=t[1].split(":");e=xp.naddrEncode({kind:parseInt(n),pubkey:r,identifier:i});break;case"e":e=xp.noteEncode(t[1]);break;case"r":this._article=t[1]}if(e){var n;let t=await(null===(n=this.ndk)||void 0===n?void 0:n.fetchEvent(e));t&&(30023===t.kind&&(t=Ew.from(t)),this._article=t)}return this._article}}},d(ob,"kind",9802),d(ob,"kinds",[9802]),"read"),_w="write",Sw=class e extends $b{constructor(e,t){var n;super(e,t),null!==(n=this.kind)&&void 0!==n||(this.kind=10002)}static from(t){return new e(t.ndk,t.rawEvent())}get readRelayUrls(){return this.tags.filter((e=>"r"===e[0]||"relay"===e[0])).filter((e=>!e[2]||e[2]&&e[2]===kw)).map((e=>hb(e[1]))).filter((e=>!!e))}set readRelayUrls(e){for(const t of e)this.tags.push(["r",t,kw])}get writeRelayUrls(){return this.tags.filter((e=>"r"===e[0]||"relay"===e[0])).filter((e=>!e[2]||e[2]&&e[2]===_w)).map((e=>hb(e[1]))).filter((e=>!!e))}set writeRelayUrls(e){for(const t of e)this.tags.push(["r",t,_w])}get bothRelayUrls(){return this.tags.filter((e=>"r"===e[0]||"relay"===e[0])).filter((e=>!e[2])).map((e=>e[1]))}set bothRelayUrls(e){for(const t of e)this.tags.push(["r",t])}get relays(){return this.tags.filter((e=>"r"===e[0]||"relay"===e[0])).map((e=>e[1]))}get relaySet(){if(!this.ndk)throw new Error("NDKRelayList has no NDK instance");return new wb(new Set(this.relays.map((e=>this.ndk.pool.getRelay(e)))),this.ndk)}};function Cw(e,t){try{const r=JSON.parse(t.content),i=new Sw(e),o=new Set,a=new Set;for(let[e,t]of Object.entries(r)){try{e=fb(e)}catch(n){continue}if(t){const n=t;n.write&&a.add(e),n.read&&o.add(e)}else o.add(e),a.add(e)}return i.readRelayUrls=Array.from(o),i.writeRelayUrls=Array.from(a),i}catch(r){}}var Aw=["daily","weekly","monthly","quarterly","yearly"];function Ow(e,t,n){return["amount",e.toString(),t,n]}function Nw(e){const t=parseInt(e[1]);if(isNaN(t)||void 0===t||null===t||t<=0)return;const n=e[2];if(void 0===n||""===n)return;const r=e[3];return void 0!==r&&Aw.includes(r)?{amount:t,currency:n,term:r}:void 0}ab=class e extends Ew{constructor(e,t){var n;const r=null!==(n=null===t||void 0===t?void 0:t.kind)&&void 0!==n?n:37001;super(e,t),this.kind=r}static from(t){return new e(t.ndk,t)}get perks(){return this.getMatchingTags("perk").map((e=>e[1])).filter((e=>void 0!==e))}addPerk(e){this.tags.push(["perk",e])}get amounts(){return this.getMatchingTags("amount").map((e=>Nw(e))).filter((e=>void 0!==e))}addAmount(e,t,n){this.tags.push(Ow(e,t,n))}set relayUrl(e){this.tags.push(["r",e])}get relayUrls(){return this.getMatchingTags("r").map((e=>e[1])).filter((e=>void 0!==e))}get verifierPubkey(){return this.tagValue("p")}set verifierPubkey(e){this.removeTag("p"),e&&this.tags.push(["p",e])}get isValid(){return void 0!==this.title&&this.amounts.length>0}},d(ab,"kind",37001),d(ab,"kinds",[37001]);var Pw=(sb=class extends $b{constructor(e,t){var n,r;super(e,t),d(this,"debug",void 0),d(this,"_proofs",[]),d(this,"sender",this.author),null!==(n=this.kind)&&void 0!==n||(this.kind=9321),this.debug=null!==(r=null===e||void 0===e?void 0:e.debug.extend("nutzap"))&&void 0!==r?r:sl("ndk:nutzap"),this.alt||(this.alt="This is a nutzap")}static from(e){const t=new this(e.ndk,e);try{const e=t.getMatchingTags("proof");e.length?t._proofs=e.map((e=>JSON.parse(e[1]))):t._proofs=JSON.parse(t.content)}catch(n){return}if(t._proofs&&t._proofs.length)return t}set comment(e){this.content=null!==e&&void 0!==e?e:""}get comment(){const e=this.tagValue("comment");return e||this.content}set proofs(e){this._proofs=e,this.tags=this.tags.filter((e=>"proof"!==e[0]));for(const t of e)this.tags.push(["proof",JSON.stringify(t)]);this.removeTag("amount"),this.tags.push(["amount",this.amount.toString()])}get proofs(){return this._proofs}get p2pk(){const e=this.proofs[0];try{var t;const n=JSON.parse(e.secret);let r={};"string"===typeof n?(r=JSON.parse(n),this.debug("stringified payload",e.secret)):"object"===typeof n&&(r=n);if("P2PK"===r[0]&&(null===(t=r[1])||void 0===t?void 0:t.data)){const e=r[1].data.slice(2,-1);if(e)return e}}catch(oR){this.debug("error parsing p2pk pubkey",oR,this.proofs[0])}}get mint(){return this.tagValue("u")}set mint(e){this.removeTag("u"),this.tag(["u",e])}get unit(){var e;return null!==(e=this.tagValue("unit"))&&void 0!==e?e:"msat"}set unit(e){this.removeTag("unit"),e&&this.tag(["unit",e])}get amount(){return 1e3*this.proofs.reduce(((e,t)=>e+t.amount),0)}set target(e){this.tags=this.tags.filter((e=>"p"!==e[0])),e instanceof $b&&this.tags.push(e.tagReference())}set recipientPubkey(e){this.removeTag("p"),this.tag(["p",e])}get recipientPubkey(){return this.tagValue("p")}get recipient(){const e=this.recipientPubkey;return this.ndk?this.ndk.getUser({pubkey:e}):new ww({pubkey:e})}get isValid(){let e=0,t=0;for(const n of this.tags)"p"===n[0]&&e++,"u"===n[0]&&t++;return 1===e&&1===t&&this.proofs.length>0}},d(sb,"kind",9321),d(sb,"kinds",[sb.kind]),sb);lb=class e extends $b{constructor(e,t){var n;super(e,t),d(this,"relaySet",void 0),d(this,"memberSet",new Set),null!==(n=this.kind)&&void 0!==n||(this.kind=39002),this.memberSet=new Set(this.members)}static from(t){return new e(t.ndk,t)}get members(){return this.getMatchingTags("p").map((e=>e[1]))}hasMember(e){return this.memberSet.has(e)}async publish(e,t,n){return null!==e&&void 0!==e||(e=this.relaySet),super.publishReplaceable(e,t,n)}},d(lb,"kind",39002),d(lb,"kinds",[39002]),cb=class e extends $b{constructor(e,t){var n;super(e,t),null!==(n=this.kind)&&void 0!==n||(this.kind=39e3)}static from(t){return new e(t.ndk,t)}get name(){return this.tagValue("name")}get picture(){return this.tagValue("picture")}get about(){return this.tagValue("about")}get scope(){return this.getMatchingTags("public").length>0?"public":this.getMatchingTags("public").length>0?"private":void 0}set scope(e){this.removeTag("public"),this.removeTag("private"),"public"===e?this.tags.push(["public",""]):"private"===e&&this.tags.push(["private",""])}get access(){return this.getMatchingTags("open").length>0?"open":this.getMatchingTags("closed").length>0?"closed":void 0}set access(e){this.removeTag("open"),this.removeTag("closed"),"open"===e?this.tags.push(["open",""]):"closed"===e&&this.tags.push(["closed",""])}},d(cb,"kind",39e3),d(cb,"kinds",[39e3]);async function jw(e,t,n,r,i,o){try{await e.sign(n),i(e)}catch(oR){r("Failed to publish auth event to relay ".concat(t.url),oR),o(e)}}var Dw={disconnect:function(e,t){return null!==t&&void 0!==t||(t=sl("ndk:relay:auth-policies:disconnect")),async n=>{t("Relay ".concat(n.url," requested authentication, disconnecting")),e.removeRelay(n.url)}},signIn:function(){let{ndk:e,signer:t,debug:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!==n&&void 0!==n||(n=sl("ndk:auth-policies:signIn")),async(r,i)=>{n("Relay ".concat(r.url," requested authentication, signing in"));const o=new $b(e);return o.kind=22242,o.tags=[["relay",r.url],["challenge",i]],null!==t&&void 0!==t||(t=null===e||void 0===e?void 0:e.signer),new Promise((async(i,a)=>{t?await jw(o,r,t,n,i,a):null===e||void 0===e||e.once("signer:ready",(async e=>{await jw(o,r,e,n,i,a)}))}))}}},Rw=class e{constructor(e){if(d(this,"_user",void 0),d(this,"_privateKey",void 0),e){if("string"===typeof e)if(e.startsWith("nsec1")){const{type:t,data:n}=xp.decode(e);"nsec"===t&&(this._privateKey=n)}else{if(64!==e.length)throw new Error("Invalid private key provided.");this._privateKey=function(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const t=Sy(e.charCodeAt(o)),n=Sy(e.charCodeAt(o+1));if(void 0===t||void 0===n){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}r[i]=16*t+n}return r}(e)}else this._privateKey=e;this._privateKey&&(this._user=new ww({pubkey:Rh(this._privateKey)}))}}get privateKey(){if(this._privateKey)return vy(this._privateKey)}static generate(){const t=Dh();return new e(t)}async blockUntilReady(){if(!this._user)throw new Error("NDKUser not initialized");return this._user}async user(){return await this.blockUntilReady(),this._user}async sign(e){if(!this._privateKey)throw Error("Attempted to sign without a private key");return Th(e,this._privateKey).sig}getConversationKey(e){if(!this._privateKey)throw Error("Attempted to get conversation key without a private key");const t=e.pubkey;return Eg.getConversationKey(this._privateKey,t)}async nip44Encrypt(e,t){const n=this.getConversationKey(e);return await Eg.encrypt(t,n)}async nip44Decrypt(e,t){const n=this.getConversationKey(e);return await Eg.decrypt(t,n)}async encrypt(e,t){return"nip44"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nb)?this.nip44Encrypt(e,t):this.nip04Encrypt(e,t)}async decrypt(e,t){return"nip44"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nb)?this.nip44Decrypt(e,t):this.nip04Decrypt(e,t)}async nip04Encrypt(e,t){if(!this._privateKey)throw Error("Attempted to encrypt without a private key");const n=e.pubkey;return await Fp.encrypt(this._privateKey,n,t)}async nip04Decrypt(e,t){if(!this._privateKey)throw Error("Attempted to decrypt without a private key");const n=e.pubkey;return await Fp.decrypt(this._privateKey,n,t)}},Tw=class extends al.EventEmitter{constructor(e,t,n,r){if(super(),d(this,"ndk",void 0),d(this,"signer",void 0),d(this,"relaySet",void 0),d(this,"debug",void 0),d(this,"encryptionType","nip04"),d(this,"pool",void 0),this.ndk=e,this.signer=t,r){this.pool=new iw(r,Array.from(e.pool.blacklistRelayUrls),e,n.extend("rpc-pool")),this.pool.name="nostr-rpc",this.relaySet=new wb(new Set,e,this.pool);for(const i of r){const r=this.pool.getRelay(i,!1,!1);r.authPolicy=Dw.signIn({ndk:e,signer:t,debug:n}),this.relaySet.addRelay(r),r.connect()}}this.debug=n.extend("rpc")}subscribe(e){const t=this.ndk.subscribe(e,{closeOnEose:!1,groupable:!1,cacheUsage:"ONLY_RELAY",pool:this.pool},this.relaySet,!1);return t.on("event",(async e=>{try{const t=await this.parseEvent(e);t.method?this.emit("request",t):this.emit("response-".concat(t.id),t)}catch(oR){this.debug("error parsing event",oR,e.rawEvent())}})),new Promise((e=>{t.on("eose",(()=>{this.debug("eosed"),e(t)})),t.start()}))}async parseEvent(e){"nip44"===this.encryptionType&&e.content.includes("?iv=")?this.encryptionType="nip04":"nip04"!==this.encryptionType||e.content.includes("?iv=")||(this.encryptionType="nip44");const t=this.ndk.getUser({pubkey:e.pubkey});let n;t.ndk=this.ndk;try{n=await this.signer.decrypt(t,e.content,this.encryptionType)}catch(oR){const i="nip04"===this.encryptionType?"nip44":"nip04";n=await this.signer.decrypt(t,e.content,i),this.encryptionType=i}const r=JSON.parse(n),{id:i,method:o,params:a,result:s,error:l}=r;return o?{id:i,pubkey:e.pubkey,method:o,params:a,event:e}:{id:i,result:s,error:l,event:e}}async sendResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:24133,i=arguments.length>4?arguments[4]:void 0;const o={id:e,result:n};i&&(o.error=i);const a=await this.signer.user(),s=this.ndk.getUser({pubkey:t}),l=new $b(this.ndk,{kind:r,content:JSON.stringify(o),tags:[["p",t]],pubkey:a.pubkey});l.content=await this.signer.encrypt(s,l.content,this.encryptionType),await l.sign(this.signer),await l.publish(this.relaySet)}async sendRequest(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:24133,i=arguments.length>4?arguments[4]:void 0;const o=Math.random().toString(36).substring(7),a=await this.signer.user(),s=this.ndk.getUser({pubkey:e}),l={id:o,method:t,params:n},c=new Promise((()=>{const e=t=>{"auth_url"===t.result?(this.once("response-".concat(o),e),this.emit("authUrl",t.error)):i&&i(t)};this.once("response-".concat(o),e)})),u=new $b(this.ndk,{kind:r,content:JSON.stringify(l),tags:[["p",e]],pubkey:a.pubkey});return u.content=await this.signer.encrypt(s,u.content,this.encryptionType),await u.sign(this.signer),await u.publish(this.relaySet),c}};al.EventEmitter;async function Iw(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=t.outboxPool||t.pool,o=new Set;for(const d of i.relays.values())o.add(d);const a=new Map,s=new Map,l=new wb(o,t);if(null!==(n=t.cacheAdapter)&&void 0!==n&&n.locking&&!r){const n=await t.fetchEvents({kinds:[3,10002],authors:e},{cacheUsage:"ONLY_CACHE"});for(const e of n)10002===e.kind&&a.set(e.pubkey,Sw.from(e));for(const e of n)if(3===e.kind){if(a.has(e.pubkey))continue;const n=Cw(t,e);n&&s.set(e.pubkey,n)}e=e.filter((e=>!a.has(e)&&!s.has(e)))}if(0===e.length)return a;const c=new Map,u=new Map;return new Promise((async n=>{const r=t.subscribe({kinds:[3,10002],authors:e},{closeOnEose:!0,pool:i,groupable:!0,cacheUsage:"ONLY_RELAY",subId:"ndk-relay-list-fetch"},l,!1);r.on("event",(e=>{if(10002===e.kind){const t=c.get(e.pubkey);if(t&&t.created_at>e.created_at)return;c.set(e.pubkey,e)}else if(3===e.kind){const t=u.get(e.pubkey);if(t&&t.created_at>e.created_at)return;u.set(e.pubkey,e)}})),r.on("eose",(()=>{for(const e of c.values())a.set(e.pubkey,Sw.from(e));for(const n of e){if(a.has(n))continue;const e=u.get(n);if(!e)continue;const r=Cw(t,e);r&&a.set(n,r)}n(a)})),r.start()}))}var Fw=class{constructor(e){d(this,"type",void 0),d(this,"relayUrlScores",void 0),d(this,"readRelays",void 0),d(this,"writeRelays",void 0),this.type=e,this.relayUrlScores=new Map,this.readRelays=new Set,this.writeRelays=new Set}},Lw=class extends al.EventEmitter{constructor(e){super(),d(this,"data",void 0),d(this,"ndk",void 0),d(this,"debug",void 0),this.ndk=e,this.debug=e.debug.extend("outbox-tracker"),this.data=new Sv.LRUCache({maxSize:1e5,entryExpirationTimeInMS:12e4})}async trackUsers(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[];for(let r=0;r<e.length;r+=400){const i=e.slice(r,r+400).map((e=>Bw(e))).filter((e=>!this.data.has(e)));if(0!==i.length){for(const e of i)this.data.set(e,new Fw("user"));n.push(new Promise((e=>{Iw(i,this.ndk,t).then((e=>{for(const[t,n]of e){let e=this.data.get(t);if(null!==e&&void 0!==e||(e=new Fw("user")),n){e.readRelays=new Set(pb(n.readRelayUrls)),e.writeRelays=new Set(pb(n.writeRelayUrls));for(const t of e.readRelays)this.ndk.pool.blacklistRelayUrls.has(t)&&e.readRelays.delete(t);for(const t of e.writeRelays)this.ndk.pool.blacklistRelayUrls.has(t)&&e.writeRelays.delete(t);this.data.set(t,e)}}})).finally(e)})))}}return Promise.all(n)}track(e,t){const n=Bw(e);null!==t&&void 0!==t||(t=function(e){return e instanceof ww?"user":"kind"}(e));let r=this.data.get(n);return r||(r=new Fw(t),e instanceof ww&&this.trackUsers([e])),r}};function Bw(e){return e instanceof ww?e.pubkey:e}function Mw(e){if(!e||""===e)return!1;try{return new URL(e),!0}catch(oR){return!1}}async function Uw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{type:"timeout"};const i=this.debug.extend("fetch-event-from-tag"),[o,a,s]=e;i("fetching event from tag",e,n={},r);const l=ub(this,t.pubkey);if(l&&l.size>0){i("fetching event from author relays %o",Array.from(l));const e=wb.fromRelayUrls(Array.from(l),this),t=await this.fetchEvent(a,n,e);if(t)return t}else i("no author relays found for %s",t.pubkey,t);const c=_b(this,[{ids:[a]}],this.pool);i("fetching event without relay hint",c);const u=await this.fetchEvent(a,n);if(u)return u;if(s&&""!==s){const e=await this.fetchEvent(a,n,this.pool.getRelay(s,!0,!0,[{ids:[a]}]));if(e)return e}let d;const h=Mw(s)?this.pool.getRelay(s,!1,!0,[{ids:[a]}]):void 0,f=new Promise((e=>{this.fetchEvent(a,n,h).then(e)}));if(!Mw(s)||"none"===r.type)return f;const p=new Promise((async e=>{var t;const o=r.relaySet,s=null!==(t=r.timeout)&&void 0!==t?t:1500,l=new Promise((e=>setTimeout(e,s)));if("timeout"===r.type&&await l,d)e(d);else{i("fallback fetch triggered");e(await this.fetchEvent(a,n,o))}}));switch(r.type){case"timeout":return Promise.race([f,p]);case"eose":return d=await f,d||p}}var zw=class{constructor(e,t){d(this,"ndk",void 0),d(this,"spec",void 0),d(this,"url",void 0),d(this,"nip98Required",!1),this.url="https://".concat(e).concat("/.well-known/nostr/nip96.json"),this.ndk=t}async prepareUpload(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST";if(this.validateHttpFetch(),this.spec||await this.fetchSpec(),!this.spec)throw new Error("Failed to fetch NIP96 spec");let n={};if(this.nip98Required){n={Authorization:await this.generateNip98Header(this.spec.api_url,t,e)}}return{url:this.spec.api_url,headers:n}}async xhrUpload(e,t){const n="POST",{url:r,headers:i}=await this.prepareUpload(t,n);e.open(n,r,!0),i.Authorization&&e.setRequestHeader("Authorization",i.Authorization);const o=new FormData;return o.append("file",t),new Promise(((t,n)=>{e.onload=function(){e.status>=200&&e.status<300?t(JSON.parse(e.responseText)):n(new Error(e.statusText))},e.onerror=function(){n(new Error("Network Error"))},e.send(o)}))}async upload(e){const t="POST",{url:n,headers:r}=await this.prepareUpload(e,t),i=new FormData;i.append("file",e);const o=await this.ndk.httpFetch(this.spec.api_url,{method:t,headers:r,body:i});if(200!==o.status)throw new Error("Failed to upload file to ".concat(n));const a=await o.json();if("success"!==a.status)throw new Error(a.message);return a}validateHttpFetch(){if(!this.ndk)throw new Error("NDK is required to fetch NIP96 spec");if(!this.ndk.httpFetch)throw new Error("NDK must have an httpFetch method to fetch NIP96 spec")}async fetchSpec(){this.validateHttpFetch();const e=await this.ndk.httpFetch(this.url);if(200!==e.status)throw new Error("Failed to fetch NIP96 spec from ".concat(this.url));const t=await e.json();if(!t)throw new Error("Failed to parse NIP96 spec from ".concat(this.url));this.spec=t,this.nip98Required=this.spec.plans.free.is_nip98_required}async generateNip98Header(e,t,n){const r=new $b(this.ndk,{kind:27235,tags:[["u",e],["method",t]]});if(["POST","PUT","PATCH"].includes(t)){const e=await this.calculateSha256(n);r.tags.push(["payload",e])}await r.sign();const i=btoa(JSON.stringify(r.rawEvent()));return"Nostr ".concat(i)}async calculateSha256(e){const t=await e.arrayBuffer(),n=await crypto.subtle.digest("SHA-256",t),r=Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("");return r}},Hw=class{constructor(e,t){d(this,"queue",[]),d(this,"maxConcurrency",void 0),d(this,"processing",new Set),d(this,"promises",new Map),this.maxConcurrency=t}add(e){if(this.promises.has(e.id))return this.promises.get(e.id);const t=new Promise(((t,n)=>{this.queue.push(f(f({},e),{},{func:()=>e.func().then((e=>(t(e),e)),(e=>{throw n(e),e}))})),this.process()}));return this.promises.set(e.id,t),t.finally((()=>{this.promises.delete(e.id),this.processing.delete(e.id),this.process()})),t}process(){if(this.processing.size>=this.maxConcurrency||0===this.queue.length)return;const e=this.queue.shift();e&&!this.processing.has(e.id)&&(this.processing.add(e.id),e.func())}clear(){this.queue=[]}clearProcessing(){this.processing.clear()}clearAll(){this.clear(),this.clearProcessing()}length(){return this.queue.length}},qw=class{constructor(e){d(this,"subscriptions",void 0),d(this,"seenEvents",new Map),d(this,"debug",void 0),d(this,"filterMatchingTime",0),d(this,"filterMatchingCount",0),this.subscriptions=new Map,this.debug=e.extend("sub-manager")}add(e){this.subscriptions.set(e.internalId,e),e.onStopped&&console.log("SUB-MANAGER BUG: Subscription already had onStopped! \ud83e\udd14",e.internalId),e.onStopped=()=>{this.subscriptions.delete(e.internalId)},e.on("close",(()=>{this.subscriptions.delete(e.internalId)}))}seenEvent(e,t){const n=this.seenEvents.get(e)||[];n.push(t),this.seenEvents.set(e,n)}dispatchEvent(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&this.seenEvent(e.id,t);const r=this.subscriptions.values(),i=[],o=Date.now();for(const a of r)fp(a.filters,e)&&i.push(a);this.filterMatchingTime+=Date.now()-o,this.filterMatchingCount+=i.length;for(const a of i)a.eventReceived(e,void 0,!1,n)}},Kw=sl("ndk:active-user");async function Vw(e){if(!this.autoConnectUserRelays)return;const t=await async function(e,t){return(await Iw([e],t)).get(e)}(e.pubkey,this);if(t){for(const e of t.relays){let t=this.pool.relays.get(e);t||(t=new rw(e,this.relayAuthDefaultPolicy,this),this.pool.addRelay(t))}return t}}async function Gw(e){const t=this.outboxPool||this.pool;t.connectedRelays.length>0?Ww.call(this,e):t.once("connect",(()=>{Ww.call(this,e)}))}async function Ww(e){const t=await Vw.call(this,e),n=[{kinds:[10006],authors:[e.pubkey]}];this.autoFetchUserMutelist&&n[0].kinds.push(1e4);const r=t?t.relaySet:void 0,i=this.subscribe(n,{subId:"active-user-settings",closeOnEose:!0},r,!1),o=new Map;i.on("event",(e=>{const t=o.get(e.kind);t&&t.created_at>=e.created_at||o.set(e.kind,e)})),i.on("eose",(()=>{for(const e of o.values())Yw.call(this,e)})),i.start()}async function Yw(e){10006===e.kind?Zw.call(this,e):1e4===e.kind&&Qw.call(this,e)}function Zw(e){const t=xw.from(e);for(const n of t.items)this.pool.blacklistRelayUrls.add(n[0]);Kw("Added %d relays to relay blacklist",t.items.length)}function Qw(e){const t=xw.from(e);for(const n of t.items)this.mutedIds.set(n[1],n[0]);Kw("Added %d users to mute list",t.items.length)}var $w=["wss://purplepag.es/","wss://nos.lol/"],Jw=["wss://brb.io/","wss://nostr.mutinywallet.com/"],Xw=class extends al.EventEmitter{constructor(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),d(this,"_explicitRelayUrls",void 0),d(this,"pool",void 0),d(this,"outboxPool",void 0),d(this,"_signer",void 0),d(this,"_activeUser",void 0),d(this,"cacheAdapter",void 0),d(this,"debug",void 0),d(this,"devWriteRelaySet",void 0),d(this,"outboxTracker",void 0),d(this,"mutedIds",void 0),d(this,"clientName",void 0),d(this,"clientNip89",void 0),d(this,"queuesZapConfig",void 0),d(this,"queuesNip05",void 0),d(this,"asyncSigVerification",!1),d(this,"initialValidationRatio",1),d(this,"lowestValidationRatio",1),d(this,"validationRatioFn",void 0),d(this,"subManager",void 0),d(this,"publishingFailureHandled",!1),d(this,"relayAuthDefaultPolicy",void 0),d(this,"httpFetch",void 0),d(this,"netDebug",void 0),d(this,"autoConnectUserRelays",!0),d(this,"autoFetchUserMutelist",!0),d(this,"walletConfig",void 0),d(this,"fetchEventFromTag",Uw.bind(this)),this.debug=n.debug||sl("ndk"),this.netDebug=n.netDebug,this._explicitRelayUrls=n.explicitRelayUrls||[],this.subManager=new qw(this.debug),this.pool=new iw(n.explicitRelayUrls||[],n.blacklistRelayUrls||Jw,this),this.pool.name="main",this.pool.on("relay:auth",(async(e,t)=>{this.relayAuthDefaultPolicy&&await this.relayAuthDefaultPolicy(e,t)})),this.autoConnectUserRelays=null===(e=n.autoConnectUserRelays)||void 0===e||e,this.autoFetchUserMutelist=null===(t=n.autoFetchUserMutelist)||void 0===t||t,this.clientName=n.clientName,this.clientNip89=n.clientNip89,this.relayAuthDefaultPolicy=n.relayAuthDefaultPolicy,n.enableOutboxModel&&(this.outboxPool=new iw(n.outboxRelayUrls||$w,n.blacklistRelayUrls||Jw,this,this.debug.extend("outbox-pool")),this.outboxPool.name="outbox",this.outboxTracker=new Lw(this)),this.signer=n.signer,this.cacheAdapter=n.cacheAdapter,this.mutedIds=n.mutedIds||new Map,n.devWriteRelayUrls&&(this.devWriteRelaySet=wb.fromRelayUrls(n.devWriteRelayUrls,this)),this.queuesZapConfig=new Hw("zaps",3),this.queuesNip05=new Hw("nip05",10),this.signatureVerificationWorker=n.signatureVerificationWorker,this.initialValidationRatio=n.initialValidationRatio||1,this.lowestValidationRatio=n.lowestValidationRatio||1;try{this.httpFetch=fetch}catch(r){}}set explicitRelayUrls(e){this._explicitRelayUrls=e,this.pool.relayUrls=e}get explicitRelayUrls(){return this._explicitRelayUrls||[]}set signatureVerificationWorker(e){this.asyncSigVerification=!!e,e&&function(e){(Ib=e).onmessage=e=>{const[t,n]=e.data,r=Kb[t];if(r){delete Kb[t];for(const e of r.resolves)e(n)}else console.error("No record found for event",t)}}(e)}addExplicitRelay(e,t){let n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n="string"===typeof e?new rw(e,t,this):e,this.pool.addRelay(n,r),this.explicitRelayUrls.push(n.url),n}toJSON(){return{relayCount:this.pool.relays.size}.toString()}get activeUser(){return this._activeUser}set activeUser(e){var t;const n=(null===(t=this._activeUser)||void 0===t?void 0:t.pubkey)!==(null===e||void 0===e?void 0:e.pubkey);this._activeUser=e,e&&n?Gw.call(this,e):e||(this.mutedIds=new Map)}get signer(){return this._signer}set signer(e){this._signer=e,e&&this.emit("signer:ready",e),null===e||void 0===e||e.user().then((e=>{e.ndk=this,this.activeUser=e}))}async connect(e){var t,n;if(this._signer&&this.autoConnectUserRelays&&(this.debug("Attempting to connect to user relays specified by signer %o",await(null===(t=(n=this._signer).relays)||void 0===t?void 0:t.call(n,this))),this._signer.relays)){(await this._signer.relays(this)).forEach((e=>this.pool.addRelay(e)))}const r=[this.pool.connect(e)];return this.outboxPool&&r.push(this.outboxPool.connect(e)),this.debug("Connecting to relays %o",{timeoutMs:e}),Promise.allSettled(r).then((()=>{}))}getUser(e){const t=new ww(e);return t.ndk=this,t}async getUserFromNip05(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ww.fromNip05(e,this,t)}subscribe(e,t,n){var r;let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=new dw(this,e,t,n);this.subManager.add(o);const a=null!==(r=null===t||void 0===t?void 0:t.pool)&&void 0!==r?r:this.pool;if(n)for(const l of n.relays)a.useTemporaryRelay(l,void 0,o.filters);if(this.outboxPool&&o.hasAuthorsFilter()){var s;const e=o.filters.filter((e=>{var t;return e.authors&&(null===(t=e.authors)||void 0===t?void 0:t.length)>0})).map((e=>e.authors)).flat();null===(s=this.outboxTracker)||void 0===s||s.trackUsers(e)}return i&&setTimeout((()=>o.start()),0),o}async publish(e,t,n){return this.debug("Deprecated: Use `event.publish()` instead"),e.publish(t,n)}async fetchEvent(e,t,n){let r,i;if(n instanceof rw?i=new wb(new Set([n]),this):n instanceof wb&&(i=n),!n&&"string"===typeof e&&null===e.match(sw)){const t=cw(e,this);t.length>0&&(i=new wb(new Set(t),this),i=function(e,t){const n=t.connectedRelays(),r=Array.from(e.relays).some((e=>n.map((e=>e.url)).includes(e.url)));if(!r)for(const i of n)e.addRelay(i);if(0===n.length)for(const i of t.relays.values())e.addRelay(i);return e}(i,this.pool))}if(r="string"===typeof e?[aw(e)]:Array.isArray(e)?e:[e],0===r.length)throw new Error("Invalid filter: ".concat(JSON.stringify(e)));return new Promise((e=>{let n=null;const o=this.subscribe(r,f(f({},t||{}),{},{closeOnEose:!0}),i,!1),a=setTimeout((()=>{o.stop(),e(n)}),1e4);o.on("event",(t=>{t.ndk=this,t.isReplaceable()?(!n||n.created_at<t.created_at)&&(n=t):(clearTimeout(a),e(t))})),o.on("eose",(()=>{clearTimeout(a),e(n)})),o.start()}))}async fetchEvents(e,t,n){return new Promise((r=>{const i=new Map,o=this.subscribe(e,f(f({},t||{}),{},{closeOnEose:!0}),n,!1);o.on("event",(e=>{e instanceof $b||(e=new $b(void 0,e));const t=e.deduplicationKey(),n=i.get(t);var r,o;n&&(o=e,e=(r=n).created_at>o.created_at?r:o),e.ndk=this,i.set(t,e)})),o.on("eose",(()=>{r(new Set(i.values()))})),o.start()}))}assertSigner(){if(!this.signer)throw this.emit("signer:required"),new Error("Signer required")}getNip96(e){return new zw(e,this)}set wallet(e){var t,n,r;console.log("setting wallet",{lnPay:null===e||void 0===e?void 0:e.lnPay,cashuPay:null===e||void 0===e?void 0:e.cashuPay}),e?(null!==(t=this.walletConfig)&&void 0!==t||(this.walletConfig={}),this.walletConfig.lnPay=null===e||void 0===e||null===(n=e.lnPay)||void 0===n?void 0:n.bind(e),this.walletConfig.cashuPay=null===e||void 0===e||null===(r=e.cashuPay)||void 0===r?void 0:r.bind(e)):this.walletConfig=void 0}};var ex=sl("ndk:zapper");al.EventEmitter;function tx(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function nx(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(n,", not of length=").concat(e.length))}function rx(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");tx(e.outputLen),tx(e.blockLen)}function ix(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ox(e,t){nx(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}const ax="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,sx=e=>e instanceof Uint8Array,lx=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),cx=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function ux(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}(e)),!sx(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}class dx{clone(){return this._cloneInto()}}function hx(e){const t=t=>e().update(ux(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function fx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(ax&&"function"===typeof ax.getRandomValues)return ax.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class px extends dx{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=lx(this.buffer)}update(e){ix(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=ux(e)).length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);if(a!==r)n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=lx(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){ix(this),ox(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let u=o;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,a,r),e.setUint32(t+c,s,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const a=lx(e),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=s/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)a.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:a}=this;return e.length=r,e.pos=a,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const gx=(e,t,n)=>e&t^~e&n,yx=(e,t,n)=>e&t^e&n^t&n,mx=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vx=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bx=new Uint32Array(64);class wx extends px{constructor(){super(64,32,8,!1),this.A=0|vx[0],this.B=0|vx[1],this.C=0|vx[2],this.D=0|vx[3],this.E=0|vx[4],this.F=0|vx[5],this.G=0|vx[6],this.H=0|vx[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:a,H:s}=this;return[e,t,n,r,i,o,a,s]}set(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let u=0;u<16;u++,t+=4)bx[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=bx[u-15],t=bx[u-2],n=cx(e,7)^cx(e,18)^e>>>3,r=cx(t,17)^cx(t,19)^t>>>10;bx[u]=r+bx[u-7]+n+bx[u-16]|0}let{A:n,B:r,C:i,D:o,E:a,F:s,G:l,H:c}=this;for(let u=0;u<64;u++){const e=c+(cx(a,6)^cx(a,11)^cx(a,25))+gx(a,s,l)+mx[u]+bx[u]|0,t=(cx(n,2)^cx(n,13)^cx(n,22))+yx(n,r,i)|0;c=l,l=s,s=a,a=o+e|0,o=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,i,o,a,s,l,c)}roundClean(){bx.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const xx=hx((()=>new wx)),Ex=(BigInt(0),BigInt(1)),kx=BigInt(2),_x=e=>e instanceof Uint8Array,Sx=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Cx(e){if(!_x(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Sx[e[n]];return t}function Ax(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":"0x".concat(e))}function Ox(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,i=e.slice(t,t+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function Nx(e){return Ax(Cx(e))}function Px(e){if(!_x(e))throw new Error("Uint8Array expected");return Ax(Cx(Uint8Array.from(e).reverse()))}function jx(e,t){return Ox(e.toString(16).padStart(2*t,"0"))}function Dx(e,t){return jx(e,t).reverse()}function Rx(e,t,n){let r;if("string"===typeof t)try{r=Ox(t)}catch(oR){throw new Error("".concat(e,' must be valid hex string, got "').concat(t,'". Cause: ').concat(oR))}else{if(!_x(t))throw new Error("".concat(e," must be hex string or Uint8Array"));r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error("".concat(e," expected ").concat(n," bytes, got ").concat(i));return r}function Tx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!_x(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}const Ix=e=>(kx<<BigInt(e-1))-Ex,Fx=e=>new Uint8Array(e),Lx=e=>Uint8Array.from(e);function Bx(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=Fx(e),i=Fx(e),o=0;const a=()=>{r.fill(1),i.fill(0),o=0},s=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n(i,r,...t)},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fx();i=s(Lx([0]),e),r=s(),0!==e.length&&(i=s(Lx([1]),e),r=s())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=s();const t=r.slice();n.push(t),e+=r.length}return Tx(...n)};return(e,t)=>{let n;for(a(),l(e);!(n=t(c()));)l();return a(),n}}const Mx={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function Ux(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=Mx[n];if("function"!==typeof i)throw new Error('Invalid validator "'.concat(n,'", expected function'));const o=e[t];if((!r||void 0!==o)&&!i(o,e))throw new Error("Invalid param ".concat(String(t),"=").concat(o," (").concat(typeof o,"), expected ").concat(n))};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}const zx=BigInt(0),Hx=BigInt(1),qx=BigInt(2),Kx=BigInt(3),Vx=BigInt(4),Gx=BigInt(5),Wx=BigInt(8);BigInt(9),BigInt(16);function Yx(e,t){const n=e%t;return n>=zx?n:t+n}function Zx(e,t,n){if(n<=zx||t<zx)throw new Error("Expected power/modulo > 0");if(n===Hx)return zx;let r=Hx;for(;t>zx;)t&Hx&&(r=r*e%n),e=e*e%n,t>>=Hx;return r}function Qx(e,t,n){let r=e;for(;t-- >zx;)r*=r,r%=n;return r}function $x(e,t){if(e===zx||t<=zx)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));let n=Yx(e,t),r=t,i=zx,o=Hx,a=Hx,s=zx;for(;n!==zx;){const e=r/n,t=r%n,l=i-a*e,c=o-s*e;r=n,n=t,i=a,o=s,a=l,s=c}if(r!==Hx)throw new Error("invert: does not exist");return Yx(i,t)}function Jx(e){if(e%Vx===Kx){const t=(e+Hx)/Vx;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%Wx===Gx){const t=(e-Gx)/Wx;return function(e,n){const r=e.mul(n,qx),i=e.pow(r,t),o=e.mul(n,i),a=e.mul(e.mul(o,qx),i),s=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(s),n))throw new Error("Cannot find square root");return s}}return function(e){const t=(e-Hx)/qx;let n,r,i;for(n=e-Hx,r=0;n%qx===zx;n/=qx,r++);for(i=qx;i<e&&Zx(i,t,e)!==e-Hx;i++);if(1===r){const t=(e+Hx)/Vx;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const o=(n+Hx)/qx;return function(e,a){if(e.pow(a,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let s=r,l=e.pow(e.mul(e.ONE,i),n),c=e.pow(a,o),u=e.pow(a,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(l,Hx<<BigInt(s-t-1));l=e.sqr(n),c=e.mul(c,n),u=e.mul(u,l),s=t}return c}}(e)}const Xx=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function eE(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function tE(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function nE(e){const t=tE(e);return t+Math.ceil(t/2)}class rE extends dx{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,rx(e);const n=ux(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return ix(this),this.iHash.update(e),this}digestInto(e){ix(this),nx(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const iE=(e,t,n)=>new rE(e,t).update(n).digest();iE.create=(e,t)=>new rE(e,t);const oE=BigInt(0),aE=BigInt(1);function sE(e){return function(e){const t=Xx.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});Ux(e,t)}(e.Fp),Ux(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(f(f(f({},eE(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}const{Ph:lE,aT:cE}=i,uE={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=uE;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:lE(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=uE,n="string"===typeof e?cE(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=uE._parseInt(n.subarray(2)),{d:a,l:s}=uE._parseInt(o);if(s.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?"0".concat(t):t},r=t(n(e.s)),i=t(n(e.r)),o=r.length/2,a=i.length/2,s=n(o),l=n(a);return"30".concat(n(a+o+4),"02").concat(l).concat(i,"02").concat(s).concat(r)}},dE=BigInt(0),hE=BigInt(1),fE=(BigInt(2),BigInt(3));BigInt(4);function pE(e){const t=function(e){const t=sE(e);Ux(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze(f({},t))}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return Tx(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:i}=t,o=n.sqr(e),a=n.mul(o,e);return n.add(n.add(a,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){return"bigint"===typeof e&&dE<e&&e<t.n}function s(e){if(!a(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:o}=t;if(n&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=Cx(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let a;try{a="bigint"===typeof e?e:Nx(Rx("private key",e,r))}catch(kU){throw new Error("private key must be ".concat(r," bytes, hex or bigint, not ").concat(typeof e))}return i&&(a=Yx(a,o)),s(a),a}const c=new Map;function u(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(i(Rx("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),a=o(e);if(!n.eql(i,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:r,pz:i}=this,{px:o,py:a,pz:s}=e,l=n.eql(n.mul(t,s),n.mul(o,i)),c=n.eql(n.mul(r,s),n.mul(a,i));return l&&c}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,fE),{px:o,py:a,pz:s}=this;let l=n.ZERO,c=n.ZERO,u=n.ZERO,h=n.mul(o,o),f=n.mul(a,a),p=n.mul(s,s),g=n.mul(o,a);return g=n.add(g,g),u=n.mul(o,s),u=n.add(u,u),l=n.mul(e,u),c=n.mul(i,p),c=n.add(l,c),l=n.sub(f,c),c=n.add(f,c),c=n.mul(l,c),l=n.mul(g,l),u=n.mul(i,u),p=n.mul(e,p),g=n.sub(h,p),g=n.mul(e,g),g=n.add(g,u),u=n.add(h,h),h=n.add(u,h),h=n.add(h,p),h=n.mul(h,g),c=n.add(c,h),p=n.mul(a,s),p=n.add(p,p),h=n.mul(p,g),l=n.sub(l,h),u=n.mul(p,f),u=n.add(u,u),u=n.add(u,u),new d(l,c,u)}add(e){u(e);const{px:r,py:i,pz:o}=this,{px:a,py:s,pz:l}=e;let c=n.ZERO,h=n.ZERO,f=n.ZERO;const p=t.a,g=n.mul(t.b,fE);let y=n.mul(r,a),m=n.mul(i,s),v=n.mul(o,l),b=n.add(r,i),w=n.add(a,s);b=n.mul(b,w),w=n.add(y,m),b=n.sub(b,w),w=n.add(r,o);let x=n.add(a,l);return w=n.mul(w,x),x=n.add(y,v),w=n.sub(w,x),x=n.add(i,o),c=n.add(s,l),x=n.mul(x,c),c=n.add(m,v),x=n.sub(x,c),f=n.mul(p,w),c=n.mul(g,v),f=n.add(c,f),c=n.sub(m,f),f=n.add(m,f),h=n.mul(c,f),m=n.add(y,y),m=n.add(m,y),v=n.mul(p,v),w=n.mul(g,w),m=n.add(m,v),v=n.sub(y,v),v=n.mul(p,v),w=n.add(w,v),y=n.mul(m,w),h=n.add(h,y),y=n.mul(x,w),c=n.mul(b,c),c=n.sub(c,y),y=n.mul(b,m),f=n.mul(x,f),f=n.add(f,y),new d(c,h,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return p.wNAFCached(this,c,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}))}multiplyUnsafe(e){const r=d.ZERO;if(e===dE)return r;if(s(e),e===hE)return this;const{endo:i}=t;if(!i)return p.unsafeLadder(this,e);let{k1neg:o,k1:a,k2neg:l,k2:c}=i.splitScalar(e),u=r,h=r,f=this;for(;a>dE||c>dE;)a&hE&&(u=u.add(f)),c&hE&&(h=h.add(f)),f=f.double(),a>>=hE,c>>=hE;return o&&(u=u.negate()),l&&(h=h.negate()),h=new d(n.mul(h.px,i.beta),h.py,h.pz),u.add(h)}multiply(e){s(e);let r,i,o=e;const{endo:a}=t;if(a){const{k1neg:e,k1:t,k2neg:s,k2:l}=a.splitScalar(o);let{p:c,f:u}=this.wNAF(t),{p:h,f:f}=this.wNAF(l);c=p.constTimeNegate(e,c),h=p.constTimeNegate(s,h),h=new d(n.mul(h.px,a.beta),h.py,h.pz),r=c.add(h),i=u.add(f)}else{const{p:e,f:t}=this.wNAF(o);r=e,i=t}return d.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=d.BASE,i=(e,t)=>t!==dE&&t!==hE&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){const{px:t,py:r,pz:i}=this,o=this.is0();null==e&&(e=o?n.ONE:n.inv(i));const a=n.mul(t,e),s=n.mul(r,e),l=n.mul(i,e);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:a,y:s}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===hE)return!0;if(n)return n(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===hE?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),r(d,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Cx(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,p=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>oE;)n&aE&&(r=r.add(i)),i=i.double(),n>>=aE;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),o=[];let a=e,s=a;for(let r=0;r<n;r++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(t,i,o){const{windows:a,windowSize:s}=r(t);let l=e.ZERO,c=e.BASE;const u=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<a;e++){const t=e*s;let r=Number(o&u);o>>=h,r>s&&(r-=d,o+=aE);const a=t,f=t+Math.abs(r)-1,p=e%2!==0,g=r<0;0===r?c=c.add(n(p,i[a])):l=l.add(n(g,i[f]))}return{p:l,f:c}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,r(o))),this.wNAF(i,o,n)}}}(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:a}}function gE(e){const t=function(e){const t=sE(e);return Ux(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(f({lowS:!0},t))}(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function a(e){return Yx(e,r)}function s(e){return $x(e,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:d}=pE(f(f({},t),{},{toBytes(e,t,r){const i=t.toAffine(),o=n.toBytes(i.x),a=Tx;return r?a(Uint8Array.from([t.hasEvenY()?2:3]),o):a(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],a=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r){return{x:n.fromBytes(a.subarray(0,n.BYTES)),y:n.fromBytes(a.subarray(n.BYTES,2*n.BYTES))}}throw new Error("Point of length ".concat(t," was invalid. Expected ").concat(i," compressed bytes or ").concat(o," uncompressed bytes"))}{const e=Nx(a);if(!function(e){return dE<e&&e<n.ORDER}(e))throw new Error("Point is not on curve");const t=u(e);let i=n.sqrt(t);return 1===(1&r)!==((i&hE)===hE)&&(i=n.neg(i)),{x:e,y:i}}}})),h=e=>Cx(jx(e,t.nByteLength));function p(e){return e>r>>hE}const g=(e,t,n)=>Nx(e.slice(t,n));class y{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=Rx("compactSignature",e,2*n),new y(g(e,0,n),g(e,n,2*n))}static fromDER(e){const{r:t,s:n}=uE.toSig(Rx("DER",e));return new y(t,n)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:o}=this,c=w(Rx("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const u=2===o||3===o?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0===(1&o)?"02":"03",f=l.fromHex(d+h(u)),p=s(u),g=a(-c*p),y=a(i*p),m=l.BASE.multiplyAndAddUnsafe(f,g,y);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Ox(this.toDERHex())}toDERHex(){return uE.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ox(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const m={isValidPrivateKey(e){try{return c(e),!0}catch(kU){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const e=nE(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=tE(t),o=nE(t);if(r<16||r<o||r>1024)throw new Error("expected ".concat(o,"-1024 bytes of input, got ").concat(r));const a=Yx(n?Nx(e):Px(e),t-Hx)+Hx;return n?Dx(a,i):jx(a,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function v(e){const t=e instanceof Uint8Array,n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof l}const b=t.bits2int||function(e){const n=Nx(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},w=t.bits2int_modN||function(e){return a(b(e))},x=Ix(t.nBitLength);function E(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(dE<=e&&e<x))throw new Error("bigint expected < 2^".concat(t.nBitLength));return jx(e,t.nByteLength)}function k(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:u}=t;let{lowS:h,prehash:f,extraEntropy:g}=i;null==h&&(h=!0),e=Rx("msgHash",e),f&&(e=Rx("prehashed msgHash",o(e)));const m=w(e),v=c(r),x=[E(v),E(m)];if(null!=g){const e=!0===g?u(n.BYTES):g;x.push(Rx("extraEntropy",e))}const k=Tx(...x),S=m;return{seed:k,k2sig:function(e){const t=b(e);if(!d(t))return;const n=s(t),r=l.BASE.multiply(t).toAffine(),i=a(r.x);if(i===dE)return;const o=a(n*a(S+i*v));if(o===dE)return;let c=(r.x===i?0:2)|Number(r.y&hE),u=o;return h&&p(o)&&(u=function(e){return p(e)?a(-e):e}(o),c^=1),new y(i,u,c)}}}const _={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(v(e))throw new Error("first arg must be private key");if(!v(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(c(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;const{seed:i,k2sig:o}=k(e,n,r),a=t;return Bx(a.hash.outputLen,a.nByteLength,a.hmac)(i,o)},verify:function(e,n,r){var i;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;const c=e;if(n=Rx("msgHash",n),r=Rx("publicKey",r),"strict"in o)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:d}=o;let h,f;try{if("string"===typeof c||c instanceof Uint8Array)try{h=y.fromDER(c)}catch(k){if(!(k instanceof uE.Err))throw k;h=y.fromCompact(c)}else{if("object"!==typeof c||"bigint"!==typeof c.r||"bigint"!==typeof c.s)throw new Error("PARSE");{const{r:e,s:t}=c;h=new y(e,t)}}f=l.fromHex(r)}catch(kU){if("PARSE"===kU.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&h.hasHighS())return!1;d&&(n=t.hash(n));const{r:p,s:g}=h,m=w(n),v=s(g),b=a(m*v),x=a(p*v),E=null===(i=l.BASE.multiplyAndAddUnsafe(f,b,x))||void 0===i?void 0:i.toAffine();return!!E&&a(E.x)===p},ProjectivePoint:l,Signature:y,utils:m}}function yE(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return iE(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!sx(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}(...r))},randomBytes:fx}}const mE=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),vE=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),bE=BigInt(1),wE=BigInt(2),xE=(e,t)=>(e+t/wE)/t;function EE(e){const t=mE,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),s=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,d=Qx(u,n,t)*u%t,h=Qx(d,n,t)*u%t,f=Qx(h,wE,t)*c%t,p=Qx(f,i,t)*f%t,g=Qx(p,o,t)*p%t,y=Qx(g,s,t)*g%t,m=Qx(y,l,t)*y%t,v=Qx(m,s,t)*g%t,b=Qx(v,n,t)*u%t,w=Qx(b,a,t)*p%t,x=Qx(w,r,t)*c%t,E=Qx(x,wE,t);if(!kE.eql(kE.sqr(E),e))throw new Error("Cannot find square root");return E}const kE=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=zx)throw new Error("Expected Field ORDER > 0, got ".concat(e));const{nBitLength:i,nByteLength:o}=eE(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=Jx(e),s=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:Ix(i),ZERO:zx,ONE:Hx,create:t=>Yx(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got ".concat(typeof t));return zx<=t&&t<e},is0:e=>e===zx,isOdd:e=>(e&Hx)===Hx,neg:t=>Yx(-t,e),eql:(e,t)=>e===t,sqr:t=>Yx(t*t,e),add:(t,n)=>Yx(t+n,e),sub:(t,n)=>Yx(t-n,e),mul:(t,n)=>Yx(t*n,e),pow:(e,t)=>function(e,t,n){if(n<zx)throw new Error("Expected power > 0");if(n===zx)return e.ONE;if(n===Hx)return t;let r=e.ONE,i=t;for(;n>zx;)n&Hx&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Hx;return r}(s,e,t),div:(t,n)=>Yx(t*$x(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>$x(t,e),sqrt:r.sqrt||(e=>a(s,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(s,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?Dx(e,o):jx(e,o),fromBytes:e=>{if(e.length!==o)throw new Error("Fp.fromBytes: expected ".concat(o,", got ").concat(e.length));return n?Px(e):Nx(e)}});return Object.freeze(s)}(mE,void 0,void 0,{sqrt:EE}),_E=function(e,t){const n=t=>gE(f(f({},e),yE(t)));return Object.freeze(f(f({},n(t)),{},{create:n}))}({a:BigInt(0),b:BigInt(7),Fp:kE,n:vE,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=vE,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-bE*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),s=xE(o*e,t),l=xE(-r*e,t);let c=Yx(e-s*n-l*i,t),u=Yx(-s*r-l*o,t);const d=c>a,h=u>a;if(d&&(c=t-c),h&&(u=t-u),c>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:c,k2neg:h,k2:u}}}},xx),SE=BigInt(0),CE=e=>"bigint"===typeof e&&SE<e&&e<mE,AE={};function OE(e){let t=AE[e];if(void 0===t){const n=xx(Uint8Array.from(e,(e=>e.charCodeAt(0))));t=Tx(n,n),AE[e]=t}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return xx(Tx(t,...r))}const NE=e=>e.toRawBytes(!0).slice(1),PE=e=>jx(e,32),jE=e=>Yx(e,mE),DE=e=>Yx(e,vE),RE=_E.ProjectivePoint;function TE(e){let t=_E.utils.normPrivateKeyToScalar(e),n=RE.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:DE(-t),bytes:NE(n)}}function IE(e){if(!CE(e))throw new Error("bad x: need 0 < x < p");const t=jE(e*e);let n=EE(jE(t*e+BigInt(7)));n%wE!==SE&&(n=jE(-n));const r=new RE(e,n,bE);return r.assertValidity(),r}function FE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return DE(Nx(OE("BIP0340/challenge",...t)))}function LE(e){return TE(e).bytes}function BE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fx(32);const r=Rx("message",e),{bytes:i,scalar:o}=TE(t),a=Rx("auxRand",n,32),s=PE(o^Nx(OE("BIP0340/aux",a))),l=OE("BIP0340/nonce",s,i,r),c=DE(Nx(l));if(c===SE)throw new Error("sign failed: k is zero");const{bytes:u,scalar:d}=TE(c),h=FE(u,i,r),f=new Uint8Array(64);if(f.set(u,0),f.set(PE(DE(d+h*o)),32),!ME(f,r,i))throw new Error("sign: Invalid signature produced");return f}function ME(e,t,n){const r=Rx("signature",e,64),i=Rx("message",t),o=Rx("publicKey",n,32);try{const e=IE(Nx(o)),t=Nx(r.subarray(0,32));if(!CE(t))return!1;const n=Nx(r.subarray(32,64));if(!(e=>"bigint"===typeof e&&SE<e&&e<vE)(n))return!1;const a=FE(PE(t),NE(e),i),s=((e,t,n)=>RE.BASE.multiplyAndAddUnsafe(e,t,n))(e,n,DE(-a));return!(!s||!s.hasEvenY()||s.toAffine().x!==t)}catch(kU){return!1}}const UE=(()=>({getPublicKey:LE,sign:BE,verify:ME,utils:{randomPrivateKey:_E.utils.randomPrivateKey,lift_x:IE,pointToBytes:NE,numberToBytesBE:jx,bytesToNumberBE:Nx,taggedHash:OE,mod:Yx}}))(),zE="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,HE=e=>e instanceof Uint8Array,qE=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),KE=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const VE=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function GE(e){if(!HE(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=VE[e[n]];return t}function WE(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,i=e.slice(t,t+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function YE(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}(e)),!HE(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}function ZE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!HE(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}class QE{clone(){return this._cloneInto()}}function $E(e){const t=t=>e().update(YE(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function JE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(zE&&"function"===typeof zE.getRandomValues)return zE.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function XE(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function ek(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(n,", not of length=").concat(e.length))}const tk={number:XE,bool:function(e){if("boolean"!==typeof e)throw new Error("Expected boolean, not ".concat(e))},bytes:ek,hash:function(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");XE(e.outputLen),XE(e.blockLen)},exists:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){ek(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}},nk=tk;class rk extends QE{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=qE(this.buffer)}update(e){nk.exists(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=YE(e)).length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);if(a!==r)n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=qE(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){nk.exists(this),nk.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let u=o;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,a,r),e.setUint32(t+c,s,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const a=qE(e),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=s/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)a.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:a}=this;return e.length=r,e.pos=a,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const ik=(e,t,n)=>e&t^~e&n,ok=(e,t,n)=>e&t^e&n^t&n,ak=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),sk=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),lk=new Uint32Array(64);class ck extends rk{constructor(){super(64,32,8,!1),this.A=0|sk[0],this.B=0|sk[1],this.C=0|sk[2],this.D=0|sk[3],this.E=0|sk[4],this.F=0|sk[5],this.G=0|sk[6],this.H=0|sk[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:a,H:s}=this;return[e,t,n,r,i,o,a,s]}set(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let u=0;u<16;u++,t+=4)lk[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=lk[u-15],t=lk[u-2],n=KE(e,7)^KE(e,18)^e>>>3,r=KE(t,17)^KE(t,19)^t>>>10;lk[u]=r+lk[u-7]+n+lk[u-16]|0}let{A:n,B:r,C:i,D:o,E:a,F:s,G:l,H:c}=this;for(let u=0;u<64;u++){const e=c+(KE(a,6)^KE(a,11)^KE(a,25))+ik(a,s,l)+ak[u]+lk[u]|0,t=(KE(n,2)^KE(n,13)^KE(n,22))+ok(n,r,i)|0;c=l,l=s,s=a,a=o+e|0,o=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,i,o,a,s,l,c)}roundClean(){lk.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class uk extends ck{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const dk=$E((()=>new ck));$E((()=>new uk));function hk(e){if(!Number.isSafeInteger(e))throw new Error("Wrong integer: ".concat(e))}function fk(){const e=(e,t)=>n=>e(t(n));for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=Array.from(n).reverse().reduce(((t,n)=>t?e(t,n.encode):n.encode),void 0),o=n.reduce(((t,n)=>t?e(t,n.decode):n.decode),void 0);return{encode:i,decode:o}}function pk(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!==typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(hk(t),t<0||t>=e.length)throw new Error("Digit index outside alphabet: ".concat(t," (alphabet: ").concat(e.length,")"));return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!==typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!==typeof t)throw new Error("alphabet.decode: not string element=".concat(t));const n=e.indexOf(t);if(-1===n)throw new Error('Unknown letter: "'.concat(t,'". Allowed: ').concat(e));return n}))}}}function gk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!==typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!==typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!==typeof e)throw new Error("join.encode: non-string input=".concat(e));return t.join(e)},decode:t=>{if("string"!==typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function yk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"=";if(hk(e),"string"!==typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!==typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!==typeof e)throw new Error("padding.encode: non-string input=".concat(e));for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!==typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!==typeof e)throw new Error("padding.decode: non-string input=".concat(e));let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function mk(e){if("function"!==typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function vk(e,t,n){if(t<2)throw new Error("convertRadix: wrong from=".concat(t,", base cannot be less than 2"));if(n<2)throw new Error("convertRadix: wrong to=".concat(n,", base cannot be less than 2"));if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],o=Array.from(e);for(o.forEach((e=>{if(hk(e),e<0||e>=t)throw new Error("Wrong integer: ".concat(e))}));;){let e=0,a=!0;for(let i=r;i<o.length;i++){const s=o[i],l=t*e+s;if(!Number.isSafeInteger(l)||t*e/t!==e||l-s!==t*e)throw new Error("convertRadix: carry overflow");if(e=l%n,o[i]=Math.floor(l/n),!Number.isSafeInteger(o[i])||o[i]*n+e!==l)throw new Error("convertRadix: carry overflow");a&&(o[i]?a=!1:r=i)}if(i.push(e),a)break}for(let a=0;a<e.length-1&&0===e[a];a++)i.push(0);return i.reverse()}const bk=(e,t)=>t?bk(t,e%t):e,wk=(e,t)=>e+(t-bk(e,t));function xk(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error("convertRadix2: wrong from=".concat(t));if(n<=0||n>32)throw new Error("convertRadix2: wrong to=".concat(n));if(wk(t,n)>32)throw new Error("convertRadix2: carry overflow from=".concat(t," to=").concat(n," carryBits=").concat(wk(t,n)));let i=0,o=0;const a=2**n-1,s=[];for(const l of e){if(hk(l),l>=2**t)throw new Error("convertRadix2: invalid data word=".concat(l," from=").concat(t));if(i=i<<t|l,o+t>32)throw new Error("convertRadix2: carry overflow pos=".concat(o," from=").concat(t));for(o+=t;o>=n;o-=n)s.push((i>>o-n&a)>>>0);i&=2**o-1}if(i=i<<n-o&a,!r&&o>=t)throw new Error("Excess padding");if(!r&&i)throw new Error("Non-zero padding: ".concat(i));return r&&o>0&&s.push(i>>>0),s}function Ek(e){return hk(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return vk(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!==typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(vk(t,e,256))}}}function kk(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(hk(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(wk(8,e)>32||wk(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return xk(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!==typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(xk(n,e,8,t))}}}function _k(e){if("function"!==typeof e)throw new Error("unsafeWrapper fn should be function");return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(null,n)}catch(oR){}}}const Sk=fk(kk(4),pk("0123456789ABCDEF"),gk("")),Ck=fk(kk(5),pk("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),yk(5),gk("")),Ak=(fk(kk(5),pk("0123456789ABCDEFGHIJKLMNOPQRSTUV"),yk(5),gk("")),fk(kk(5),pk("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),gk(""),mk((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),fk(kk(6),pk("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),yk(6),gk(""))),Ok=fk(kk(6),pk("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),yk(6),gk("")),Nk=e=>fk(Ek(58),pk(e),gk("")),Pk=Nk("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),jk=(Nk("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),Nk("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),[0,2,3,5,6,7,9,10,11]),Dk={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=Pk.encode(r).padStart(jk[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=jk.indexOf(r.length),o=Pk.decode(r);for(let e=0;e<o.length-i;e++)if(0!==o[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-i)))}return Uint8Array.from(t)}},Rk=fk(pk("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),gk("")),Tk=[996825010,642813549,513874426,1027748829,705979059];function Ik(e){const t=e>>25;let n=(33554431&e)<<5;for(let r=0;r<Tk.length;r++)1===(t>>r&1)&&(n^=Tk[r]);return n}function Fk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=e.length;let i=1;for(let o=0;o<r;o++){const t=e.charCodeAt(o);if(t<33||t>126)throw new Error("Invalid prefix (".concat(e,")"));i=Ik(i)^t>>5}i=Ik(i);for(let o=0;o<r;o++)i=Ik(i)^31&e.charCodeAt(o);for(let o of t)i=Ik(i)^o;for(let o=0;o<6;o++)i=Ik(i);return i^=n,Rk.encode(xk([i%2**30],30,5,!1))}function Lk(e){const t="bech32"===e?1:734539939,n=kk(5),r=n.decode,i=n.encode,o=_k(r);function a(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;if("string"!==typeof e)throw new Error("bech32.decode input should be string, not ".concat(typeof e));if(e.length<8||!1!==n&&e.length>n)throw new TypeError("Wrong string length: ".concat(e.length," (").concat(e,"). Expected (8..").concat(n,")"));const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=(e=r).lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const o=e.slice(0,i),a=e.slice(i+1);if(a.length<6)throw new Error("Data must be at least 6 characters long");const s=Rk.decode(a).slice(0,-6),l=Fk(o,s,t);if(!a.endsWith(l))throw new Error("Invalid checksum in ".concat(e,': expected "').concat(l,'"'));return{prefix:o,words:s}}return{encode:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:90;if("string"!==typeof e)throw new Error("bech32.encode prefix should be string, not ".concat(typeof e));if(!Array.isArray(n)||n.length&&"number"!==typeof n[0])throw new Error("bech32.encode words should be array of numbers, not ".concat(typeof n));const i=e.length+7+n.length;if(!1!==r&&i>r)throw new TypeError("Length ".concat(i," exceeds limit ").concat(r));return e=e.toLowerCase(),"".concat(e,"1").concat(Rk.encode(n)).concat(Fk(e,n,t))},decode:a,decodeToBytes:function(e){const{prefix:t,words:n}=a(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:_k(a),fromWords:r,fromWordsUnsafe:o,toWords:i}}const Bk=Lk("bech32"),Mk=(Lk("bech32m"),{encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)}),Uk=fk(kk(4),pk("0123456789abcdef"),gk(""),mk((e=>{if("string"!==typeof e||e.length%2)throw new TypeError("hex.decode: expected string, got ".concat(typeof e," with length ").concat(e.length));return e.toLowerCase()}))),zk={utf8:Mk,hex:Uk,base16:Sk,base32:Ck,base64:Ak,base64url:Ok,base58:Pk,base58xmr:Dk};"Invalid encoding type. Available types: ".concat(Object.keys(zk).join(", "));function Hk(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, not ".concat(e))}function qk(e){if("boolean"!==typeof e)throw new Error("boolean expected, not ".concat(e))}function Kk(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}function Vk(e){if(!Kk(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length ".concat(n,", not of length=").concat(e.length))}function Gk(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Wk(e,t){Vk(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}const Yk=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),Zk=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Qk=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function $k(e){if("string"===typeof e)e=function(e){if("string"!==typeof e)throw new Error("string expected, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!Kk(e))throw new Error("Uint8Array expected, got ".concat(typeof e));e=e.slice()}return e}function Jk(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}const Xk=(e,t)=>(Object.assign(t,e),t);function e_(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,a,r),e.setUint32(t+c,s,r)}const t_=16,n_=new Uint8Array(16),r_=Zk(n_),i_=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255;class o_{constructor(e,t){this.blockLen=t_,this.outputLen=t_,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,Vk(e=$k(e),16);const n=Qk(e);let r=n.getUint32(0,!1),i=n.getUint32(4,!1),o=n.getUint32(8,!1),a=n.getUint32(12,!1);const s=[];for(let y=0;y<128;y++)s.push({s0:i_(r),s1:i_(i),s2:i_(o),s3:i_(a)}),({s0:r,s1:i,s2:o,s3:a}={s3:(u=o)<<31|(d=a)>>>1,s2:(c=i)<<31|u>>>1,s1:(l=r)<<31|c>>>1,s0:l>>>1^225<<24&-(1&d)});var l,c,u,d;const h=(e=>e>65536?8:e>1024?4:2)(t||1024);if(![1,2,4,8].includes(h))throw new Error("ghash: wrong window size=".concat(h,", should be 2, 4 or 8"));this.W=h;const f=128/h,p=this.windowSize=2**h,g=[];for(let y=0;y<f;y++)for(let e=0;e<p;e++){let t=0,n=0,r=0,i=0;for(let o=0;o<h;o++){if(!(e>>>h-o-1&1))continue;const{s0:a,s1:l,s2:c,s3:u}=s[h*y+o];t^=a,n^=l,r^=c,i^=u}g.push({s0:t,s1:n,s2:r,s3:i})}this.t=g}_updateBlock(e,t,n,r){e^=this.s0,t^=this.s1,n^=this.s2,r^=this.s3;const{W:i,t:o,windowSize:a}=this;let s=0,l=0,c=0,u=0;const d=(1<<i)-1;let h=0;for(const f of[e,t,n,r])for(let e=0;e<4;e++){const t=f>>>8*e&255;for(let e=8/i-1;e>=0;e--){const n=t>>>i*e&d,{s0:r,s1:f,s2:p,s3:g}=o[h*a+n];s^=r,l^=f,c^=p,u^=g,h+=1}}this.s0=s,this.s1=l,this.s2=c,this.s3=u}update(e){e=$k(e),Gk(this);const t=Zk(e),n=Math.floor(e.length/t_),r=e.length%t_;for(let i=0;i<n;i++)this._updateBlock(t[4*i+0],t[4*i+1],t[4*i+2],t[4*i+3]);return r&&(n_.set(e.subarray(n*t_)),this._updateBlock(r_[0],r_[1],r_[2],r_[3]),r_.fill(0)),this}destroy(){const{t:e}=this;for(const t of e)t.s0=0,t.s1=0,t.s2=0,t.s3=0}digestInto(e){Gk(this),Wk(e,this),this.finished=!0;const{s0:t,s1:n,s2:r,s3:i}=this,o=Zk(e);return o[0]=t,o[1]=n,o[2]=r,o[3]=i,e}digest(){const e=new Uint8Array(t_);return this.digestInto(e),this.destroy(),e}}class a_ extends o_{constructor(e,t){const n=function(e){e.reverse();const t=1&e[15];let n=0;for(let r=0;r<e.length;r++){const t=e[r];e[r]=t>>>1|n,n=(1&t)<<7}return e[0]^=225&-t,e}((e=$k(e)).slice());super(n,t),n.fill(0)}update(e){e=$k(e),Gk(this);const t=Zk(e),n=e.length%t_,r=Math.floor(e.length/t_);for(let i=0;i<r;i++)this._updateBlock(i_(t[4*i+3]),i_(t[4*i+2]),i_(t[4*i+1]),i_(t[4*i+0]));return n&&(n_.set(e.subarray(r*t_)),this._updateBlock(i_(r_[3]),i_(r_[2]),i_(r_[1]),i_(r_[0])),r_.fill(0)),this}digestInto(e){Gk(this),Wk(e,this),this.finished=!0;const{s0:t,s1:n,s2:r,s3:i}=this,o=Zk(e);return o[0]=t,o[1]=n,o[2]=r,o[3]=i,e.reverse()}}function s_(e){const t=(t,n)=>e(n,t.length).update($k(t)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(t,n)=>e(t,n),t}const l_=s_(((e,t)=>new o_(e,t))),c_=s_(((e,t)=>new a_(e,t))),u_=16,d_=new Uint8Array(u_);function h_(e){return e<<1^283&-(e>>7)}function f_(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(1&t),e=h_(e);return n}const p_=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=h_(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=255&(r^r>>4^r>>5^r>>6^r>>7^99)}return t})(),g_=p_.map(((e,t)=>p_.indexOf(t))),y_=e=>e<<24|e>>>8,m_=e=>e<<8|e>>>24;function v_(e,t){if(256!==e.length)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map(((n,r)=>t(e[r]))),r=n.map(m_),i=r.map(m_),o=i.map(m_),a=new Uint32Array(65536),s=new Uint32Array(65536),l=new Uint16Array(65536);for(let c=0;c<256;c++)for(let t=0;t<256;t++){const u=256*c+t;a[u]=n[c]^r[t],s[u]=i[c]^o[t],l[u]=e[c]<<8|e[t]}return{sbox:e,sbox2:l,T0:n,T1:r,T2:i,T3:o,T01:a,T23:s}}const b_=v_(p_,(e=>f_(e,3)<<24|e<<16|e<<8|f_(e,2))),w_=v_(g_,(e=>f_(e,11)<<24|f_(e,13)<<16|f_(e,9)<<8|f_(e,14))),x_=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=h_(n))e[t]=n;return e})();function E_(e){Vk(e);const t=e.length;if(![16,24,32].includes(t))throw new Error("aes: wrong key size: should be 16, 24 or 32, got: ".concat(t));const{sbox2:n}=b_,r=Zk(e),i=r.length,o=e=>S_(n,e,e,e,e),a=new Uint32Array(t+28);a.set(r);for(let s=i;s<a.length;s++){let e=a[s-1];s%i===0?e=o(y_(e))^x_[s/i-1]:i>6&&s%i===4&&(e=o(e)),a[s]=a[s-i]^e}return a}function k_(e){const t=E_(e),n=t.slice(),r=t.length,{sbox2:i}=b_,{T0:o,T1:a,T2:s,T3:l}=w_;for(let c=0;c<r;c+=4)for(let e=0;e<4;e++)n[c+e]=t[r-c-4+e];t.fill(0);for(let c=4;c<r-4;c++){const e=n[c],t=S_(i,e,e,e,e);n[c]=o[255&t]^a[t>>>8&255]^s[t>>>16&255]^l[t>>>24]}return n}function __(e,t,n,r,i,o){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|o>>>24&255]}function S_(e,t,n,r,i){return e[255&t|65280&n]|e[r>>>16&255|i>>>16&65280]<<16}function C_(e,t,n,r,i){const{sbox2:o,T01:a,T23:s}=b_;let l=0;t^=e[l++],n^=e[l++],r^=e[l++],i^=e[l++];const c=e.length/4-2;for(let u=0;u<c;u++){const o=e[l++]^__(a,s,t,n,r,i),c=e[l++]^__(a,s,n,r,i,t),u=e[l++]^__(a,s,r,i,t,n),d=e[l++]^__(a,s,i,t,n,r);t=o,n=c,r=u,i=d}return{s0:e[l++]^S_(o,t,n,r,i),s1:e[l++]^S_(o,n,r,i,t),s2:e[l++]^S_(o,r,i,t,n),s3:e[l++]^S_(o,i,t,n,r)}}function A_(e,t,n,r,i){const{sbox2:o,T01:a,T23:s}=w_;let l=0;t^=e[l++],n^=e[l++],r^=e[l++],i^=e[l++];const c=e.length/4-2;for(let u=0;u<c;u++){const o=e[l++]^__(a,s,t,i,r,n),c=e[l++]^__(a,s,n,t,i,r),u=e[l++]^__(a,s,r,n,t,i),d=e[l++]^__(a,s,i,r,n,t);t=o,n=c,r=u,i=d}return{s0:e[l++]^S_(o,t,i,r,n),s1:e[l++]^S_(o,n,t,i,r),s2:e[l++]^S_(o,r,n,t,i),s3:e[l++]^S_(o,i,r,n,t)}}function O_(e,t){if(!t)return new Uint8Array(e);if(Vk(t),t.length<e)throw new Error("aes: wrong destination length, expected at least ".concat(e,", got: ").concat(t.length));return t}function N_(e,t,n,r){Vk(t,u_),Vk(n);const i=n.length;r=O_(i,r);const o=t,a=Zk(o);let{s0:s,s1:l,s2:c,s3:u}=C_(e,a[0],a[1],a[2],a[3]);const d=Zk(n),h=Zk(r);for(let p=0;p+4<=d.length;p+=4){h[p+0]=d[p+0]^s,h[p+1]=d[p+1]^l,h[p+2]=d[p+2]^c,h[p+3]=d[p+3]^u;let t=1;for(let e=o.length-1;e>=0;e--)t=t+(255&o[e])|0,o[e]=255&t,t>>>=8;({s0:s,s1:l,s2:c,s3:u}=C_(e,a[0],a[1],a[2],a[3]))}const f=u_*Math.floor(d.length/4);if(f<i){const e=new Uint32Array([s,l,c,u]),t=Yk(e);for(let o=f,a=0;o<i;o++,a++)r[o]=n[o]^t[a]}return r}function P_(e,t,n,r,i){Vk(n,u_),Vk(r),i=O_(r.length,i);const o=n,a=Zk(o),s=Qk(o),l=Zk(r),c=Zk(i),u=t?0:12,d=r.length;let h=s.getUint32(u,t),{s0:f,s1:p,s2:g,s3:y}=C_(e,a[0],a[1],a[2],a[3]);for(let v=0;v+4<=l.length;v+=4)c[v+0]=l[v+0]^f,c[v+1]=l[v+1]^p,c[v+2]=l[v+2]^g,c[v+3]=l[v+3]^y,h=h+1>>>0,s.setUint32(u,h,t),({s0:f,s1:p,s2:g,s3:y}=C_(e,a[0],a[1],a[2],a[3]));const m=u_*Math.floor(l.length/4);if(m<d){const e=new Uint32Array([f,p,g,y]),t=Yk(e);for(let n=m,o=0;n<d;n++,o++)i[n]=r[n]^t[o]}return i}Xk({blockSize:16,nonceLength:16},(function(e,t){function n(n,r){const i=E_(e),o=t.slice(),a=N_(i,o,n,r);return i.fill(0),o.fill(0),a}return Vk(e),Vk(t,u_),{encrypt:(e,t)=>n(e,t),decrypt:(e,t)=>n(e,t)}}));function j_(e){if(Vk(e),e.length%u_!==0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ".concat(u_))}function D_(e,t,n){let r=e.length;const i=r%u_;if(!t&&0!==i)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const o=Zk(e);if(t){let e=u_-i;e||(e=u_),r+=e}const a=O_(r,n);return{b:o,o:Zk(a),out:a}}function R_(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error("aes/pcks5: wrong padding byte: ".concat(r));const i=e.subarray(0,-r);for(let o=0;o<r;o++)if(e[n-o-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function T_(e){const t=new Uint8Array(16),n=Zk(t);t.set(e);const r=u_-e.length;for(let i=u_-r;i<u_;i++)t[i]=r;return n}Xk({blockSize:16},(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Vk(e);const n=!t.disablePadding;return{encrypt:(t,r)=>{Vk(t);const{b:i,o:o,out:a}=D_(t,n,r),s=E_(e);let l=0;for(;l+4<=i.length;){const{s0:e,s1:t,s2:n,s3:r}=C_(s,i[l+0],i[l+1],i[l+2],i[l+3]);o[l++]=e,o[l++]=t,o[l++]=n,o[l++]=r}if(n){const e=T_(t.subarray(4*l)),{s0:n,s1:r,s2:i,s3:a}=C_(s,e[0],e[1],e[2],e[3]);o[l++]=n,o[l++]=r,o[l++]=i,o[l++]=a}return s.fill(0),a},decrypt:(t,r)=>{j_(t);const i=k_(e),o=O_(t.length,r),a=Zk(t),s=Zk(o);for(let e=0;e+4<=a.length;){const{s0:t,s1:n,s2:r,s3:o}=A_(i,a[e+0],a[e+1],a[e+2],a[e+3]);s[e++]=t,s[e++]=n,s[e++]=r,s[e++]=o}return i.fill(0),R_(o,n)}}}));const I_=Xk({blockSize:16,nonceLength:16},(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Vk(e),Vk(t,16);const r=!n.disablePadding;return{encrypt:(n,i)=>{const o=E_(e),{b:a,o:s,out:l}=D_(n,r,i),c=Zk(t);let u=c[0],d=c[1],h=c[2],f=c[3],p=0;for(;p+4<=a.length;)u^=a[p+0],d^=a[p+1],h^=a[p+2],f^=a[p+3],({s0:u,s1:d,s2:h,s3:f}=C_(o,u,d,h,f)),s[p++]=u,s[p++]=d,s[p++]=h,s[p++]=f;if(r){const e=T_(n.subarray(4*p));u^=e[0],d^=e[1],h^=e[2],f^=e[3],({s0:u,s1:d,s2:h,s3:f}=C_(o,u,d,h,f)),s[p++]=u,s[p++]=d,s[p++]=h,s[p++]=f}return o.fill(0),l},decrypt:(n,i)=>{j_(n);const o=k_(e),a=Zk(t),s=O_(n.length,i),l=Zk(n),c=Zk(s);let u=a[0],d=a[1],h=a[2],f=a[3];for(let e=0;e+4<=l.length;){const t=u,n=d,r=h,i=f;u=l[e+0],d=l[e+1],h=l[e+2],f=l[e+3];const{s0:a,s1:s,s2:p,s3:g}=A_(o,u,d,h,f);c[e++]=a^t,c[e++]=s^n,c[e++]=p^r,c[e++]=g^i}return o.fill(0),R_(s,r)}}}));Xk({blockSize:16,nonceLength:16},(function(e,t){function n(n,r,i){const o=E_(e),a=n.length;i=O_(a,i);const s=Zk(n),l=Zk(i),c=r?l:s,u=Zk(t);let d=u[0],h=u[1],f=u[2],p=u[3];for(let e=0;e+4<=s.length;){const{s0:t,s1:n,s2:r,s3:i}=C_(o,d,h,f,p);l[e+0]=s[e+0]^t,l[e+1]=s[e+1]^n,l[e+2]=s[e+2]^r,l[e+3]=s[e+3]^i,d=c[e++],h=c[e++],f=c[e++],p=c[e++]}const g=u_*Math.floor(s.length/4);if(g<a){({s0:d,s1:h,s2:f,s3:p}=C_(o,d,h,f,p));const e=Yk(new Uint32Array([d,h,f,p]));for(let t=g,r=0;t<a;t++,r++)i[t]=n[t]^e[r];e.fill(0)}return o.fill(0),i}return Vk(e),Vk(t,16),{encrypt:(e,t)=>n(e,!0,t),decrypt:(e,t)=>n(e,!1,t)}}));function F_(e,t,n,r,i){const o=e.create(n,r.length+((null===i||void 0===i?void 0:i.length)||0));i&&o.update(i),o.update(r);const a=new Uint8Array(16),s=Qk(a);return i&&e_(s,0,BigInt(8*i.length),t),e_(s,8,BigInt(8*r.length),t),o.update(a),o.digest()}Xk({blockSize:16,nonceLength:12,tagLength:16},(function(e,t,n){if(Vk(t),0===t.length)throw new Error("aes/gcm: empty nonce");const r=16;function i(e,t,r){const i=F_(l_,!1,e,r,n);for(let n=0;n<t.length;n++)i[n]^=t[n];return i}function o(){const n=E_(e),r=d_.slice(),i=d_.slice();if(P_(n,!1,i,i,r),12===t.length)i.set(t);else{const e=d_.slice();e_(Qk(e),8,BigInt(8*t.length),!1),l_.create(r).update(t).update(e).digestInto(i)}return{xk:n,authKey:r,counter:i,tagMask:P_(n,!1,i,d_)}}return{encrypt:e=>{Vk(e);const{xk:t,authKey:n,counter:a,tagMask:s}=o(),l=new Uint8Array(e.length+r);P_(t,!1,a,e,l);const c=i(n,s,l.subarray(0,l.length-r));return l.set(c,e.length),t.fill(0),l},decrypt:e=>{if(Vk(e),e.length<r)throw new Error("aes/gcm: ciphertext less than tagLen (".concat(r,")"));const{xk:t,authKey:n,counter:a,tagMask:s}=o(),l=e.subarray(0,-16),c=e.subarray(-16);if(!Jk(i(n,s,l),c))throw new Error("aes/gcm: invalid ghash tag");const u=P_(t,!1,a,l);return n.fill(0),s.fill(0),t.fill(0),u}}}));const L_=(e,t,n)=>r=>{if(!Number.isSafeInteger(r)||t>r||r>n)throw new Error("".concat(e,": invalid value=").concat(r,", must be [").concat(t,"..").concat(n,"]"))};Xk({blockSize:16,nonceLength:12,tagLength:16},(function(e,t,n){const r=L_("AAD",0,2**36),i=L_("plaintext",0,2**36),o=L_("nonce",12,12),a=L_("ciphertext",16,2**36+16);function s(){const n=e.length;if(16!==n&&24!==n&&32!==n)throw new Error("key length must be 16, 24 or 32 bytes, got: ".concat(n," bytes"));const r=E_(e),i=new Uint8Array(n),o=new Uint8Array(16),a=Zk(t);let s=0,l=a[0],c=a[1],u=a[2],d=0;for(const e of[o,i].map(Zk)){const t=Zk(e);for(let e=0;e<t.length;e+=2){const{s0:n,s1:i}=C_(r,s,l,c,u);t[e+0]=n,t[e+1]=i,s=++d}}return r.fill(0),{authKey:o,encKey:E_(i)}}function l(e,r,i){const o=F_(c_,!0,r,i,n);for(let n=0;n<12;n++)o[n]^=t[n];o[15]&=127;const a=Zk(o);let s=a[0],l=a[1],c=a[2],u=a[3];return({s0:s,s1:l,s2:c,s3:u}=C_(e,s,l,c,u)),a[0]=s,a[1]=l,a[2]=c,a[3]=u,o}function c(e,t,n){let r=t.slice();return r[15]|=128,P_(e,!0,r,n)}return Vk(t),o(t.length),n&&(Vk(n),r(n.length)),{encrypt:e=>{Vk(e),i(e.length);const{encKey:t,authKey:n}=s(),r=l(t,n,e),o=new Uint8Array(e.length+16);return o.set(r,e.length),o.set(c(t,r,e)),t.fill(0),n.fill(0),o},decrypt:e=>{Vk(e),a(e.length);const t=e.subarray(-16),{encKey:n,authKey:r}=s(),i=c(n,t,e.subarray(0,-16)),o=l(n,r,i);if(n.fill(0),r.fill(0),!Jk(t,o))throw new Error("invalid polyval tag");return i}}}));const B_=(e,t)=>255&e[t++]|(255&e[t++])<<8;class M_{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,Vk(e=$k(e),32);const t=B_(e,0),n=B_(e,2),r=B_(e,4),i=B_(e,6),o=B_(e,8),a=B_(e,10),s=B_(e,12),l=B_(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|n<<3),this.r[2]=7939&(n>>>10|r<<6),this.r[3]=8191&(r>>>7|i<<9),this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,this.r[6]=8191&(o>>>14|a<<2),this.r[7]=8065&(a>>>11|s<<5),this.r[8]=8191&(s>>>8|l<<8),this.r[9]=l>>>5&127;for(let c=0;c<8;c++)this.pad[c]=B_(e,16+2*c)}process(e,t){const n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?0:2048,{h:r,r:i}=this,o=i[0],a=i[1],s=i[2],l=i[3],c=i[4],u=i[5],d=i[6],h=i[7],f=i[8],p=i[9],g=B_(e,t+0),y=B_(e,t+2),m=B_(e,t+4),v=B_(e,t+6),b=B_(e,t+8),w=B_(e,t+10),x=B_(e,t+12),E=B_(e,t+14);let k=r[0]+(8191&g),_=r[1]+(8191&(g>>>13|y<<3)),S=r[2]+(8191&(y>>>10|m<<6)),C=r[3]+(8191&(m>>>7|v<<9)),A=r[4]+(8191&(v>>>4|b<<12)),O=r[5]+(b>>>1&8191),N=r[6]+(8191&(b>>>14|w<<2)),P=r[7]+(8191&(w>>>11|x<<5)),j=r[8]+(8191&(x>>>8|E<<8)),D=r[9]+(E>>>5|n),R=0,T=R+k*o+_*(5*p)+S*(5*f)+C*(5*h)+A*(5*d);R=T>>>13,T&=8191,T+=O*(5*u)+N*(5*c)+P*(5*l)+j*(5*s)+D*(5*a),R+=T>>>13,T&=8191;let I=R+k*a+_*o+S*(5*p)+C*(5*f)+A*(5*h);R=I>>>13,I&=8191,I+=O*(5*d)+N*(5*u)+P*(5*c)+j*(5*l)+D*(5*s),R+=I>>>13,I&=8191;let F=R+k*s+_*a+S*o+C*(5*p)+A*(5*f);R=F>>>13,F&=8191,F+=O*(5*h)+N*(5*d)+P*(5*u)+j*(5*c)+D*(5*l),R+=F>>>13,F&=8191;let L=R+k*l+_*s+S*a+C*o+A*(5*p);R=L>>>13,L&=8191,L+=O*(5*f)+N*(5*h)+P*(5*d)+j*(5*u)+D*(5*c),R+=L>>>13,L&=8191;let B=R+k*c+_*l+S*s+C*a+A*o;R=B>>>13,B&=8191,B+=O*(5*p)+N*(5*f)+P*(5*h)+j*(5*d)+D*(5*u),R+=B>>>13,B&=8191;let M=R+k*u+_*c+S*l+C*s+A*a;R=M>>>13,M&=8191,M+=O*o+N*(5*p)+P*(5*f)+j*(5*h)+D*(5*d),R+=M>>>13,M&=8191;let U=R+k*d+_*u+S*c+C*l+A*s;R=U>>>13,U&=8191,U+=O*a+N*o+P*(5*p)+j*(5*f)+D*(5*h),R+=U>>>13,U&=8191;let z=R+k*h+_*d+S*u+C*c+A*l;R=z>>>13,z&=8191,z+=O*s+N*a+P*o+j*(5*p)+D*(5*f),R+=z>>>13,z&=8191;let H=R+k*f+_*h+S*d+C*u+A*c;R=H>>>13,H&=8191,H+=O*l+N*s+P*a+j*o+D*(5*p),R+=H>>>13,H&=8191;let q=R+k*p+_*f+S*h+C*d+A*u;R=q>>>13,q&=8191,q+=O*c+N*l+P*s+j*a+D*o,R+=q>>>13,q&=8191,R=(R<<2)+R|0,R=R+T|0,T=8191&R,R>>>=13,I+=R,r[0]=T,r[1]=I,r[2]=F,r[3]=L,r[4]=B,r[5]=M,r[6]=U,r[7]=z,r[8]=H,r[9]=q}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=r,r=e[a]>>>13,e[a]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+r,r=n[a]>>>13,n[a]&=8191;n[9]-=8192;let i=(1^r)-1;for(let a=0;a<10;a++)n[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|n[a];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let o=e[0]+t[0];e[0]=65535&o;for(let a=1;a<8;a++)o=(e[a]+t[a]|0)+(o>>>16)|0,e[a]=65535&o}update(e){Gk(this);const{buffer:t,blockLen:n}=this,r=(e=$k(e)).length;for(let i=0;i<r;){const o=Math.min(n-this.pos,r-i);if(o!==n)t.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===n&&(this.process(t,0,!1),this.pos=0);else for(;n<=r-i;i+=n)this.process(e,i)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){Gk(this),Wk(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:r}=this;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=n[o]>>>0,e[i++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}const U_=function(e){const t=(t,n)=>e(n).update($k(t)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}((e=>new M_(e))),z_=e=>Uint8Array.from(e.split("").map((e=>e.charCodeAt(0)))),H_=z_("expand 16-byte k"),q_=z_("expand 32-byte k"),K_=Zk(H_),V_=Zk(q_);V_.slice();function G_(e,t){return e<<t|e>>>32-t}function W_(e){return e.byteOffset%4===0}const Y_=2**32-1,Z_=new Uint32Array;function Q_(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:o,rounds:a}=function(e,t){if(null==t||"object"!==typeof t)throw new Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!==typeof e)throw new Error("core must be a function");return Hk(i),Hk(a),qk(o),qk(n),function(t,s,l,c){let u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;Vk(t),Vk(s),Vk(l);const d=l.length;if(c||(c=new Uint8Array(d)),Vk(c),Hk(u),u<0||u>=Y_)throw new Error("arx: counter overflow");if(c.length<d)throw new Error("arx: output (".concat(c.length,") is shorter than data (").concat(d,")"));const h=[];let f,p,g=t.length;if(32===g)f=t.slice(),h.push(f),p=V_;else{if(16!==g||!n)throw new Error("arx: invalid 32-byte key, got length=".concat(g));f=new Uint8Array(32),f.set(t),f.set(t,16),p=K_,h.push(f)}W_(s)||(s=s.slice(),h.push(s));const y=Zk(f);if(r){if(24!==s.length)throw new Error("arx: extended nonce must be 24 bytes");r(p,y,Zk(s.subarray(0,16)),y),s=s.subarray(16)}const m=16-i;if(m!==s.length)throw new Error("arx: nonce must be ".concat(m," or 16 bytes"));if(12!==m){const e=new Uint8Array(12);e.set(s,o?0:12-s.length),s=e,h.push(s)}const v=Zk(s);for(!function(e,t,n,r,i,o,a,s){const l=i.length,c=new Uint8Array(64),u=Zk(c),d=W_(i)&&W_(o),h=d?Zk(i):Z_,f=d?Zk(o):Z_;for(let p=0;p<l;a++){if(e(t,n,r,u,a,s),a>=Y_)throw new Error("arx: counter overflow");const g=Math.min(64,l-p);if(d&&64===g){const e=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let t,n=0;n<16;n++)t=e+n,f[t]=h[t]^u[n];p+=64}else{for(let e,t=0;t<g;t++)e=p+t,o[e]=i[e]^c[t];p+=g}}}(e,p,y,v,l,c,u,a);h.length>0;)h.pop().fill(0);return c}}function $_(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:20,a=e[0],s=e[1],l=e[2],c=e[3],u=t[0],d=t[1],h=t[2],f=t[3],p=t[4],g=t[5],y=t[6],m=t[7],v=i,b=n[0],w=n[1],x=n[2],E=a,k=s,_=l,S=c,C=u,A=d,O=h,N=f,P=p,j=g,D=y,R=m,T=v,I=b,F=w,L=x;for(let M=0;M<o;M+=2)E=E+C|0,T=G_(T^E,16),P=P+T|0,C=G_(C^P,12),E=E+C|0,T=G_(T^E,8),P=P+T|0,C=G_(C^P,7),k=k+A|0,I=G_(I^k,16),j=j+I|0,A=G_(A^j,12),k=k+A|0,I=G_(I^k,8),j=j+I|0,A=G_(A^j,7),_=_+O|0,F=G_(F^_,16),D=D+F|0,O=G_(O^D,12),_=_+O|0,F=G_(F^_,8),D=D+F|0,O=G_(O^D,7),S=S+N|0,L=G_(L^S,16),R=R+L|0,N=G_(N^R,12),S=S+N|0,L=G_(L^S,8),R=R+L|0,N=G_(N^R,7),E=E+A|0,L=G_(L^E,16),D=D+L|0,A=G_(A^D,12),E=E+A|0,L=G_(L^E,8),D=D+L|0,A=G_(A^D,7),k=k+O|0,T=G_(T^k,16),R=R+T|0,O=G_(O^R,12),k=k+O|0,T=G_(T^k,8),R=R+T|0,O=G_(O^R,7),_=_+N|0,I=G_(I^_,16),P=P+I|0,N=G_(N^P,12),_=_+N|0,I=G_(I^_,8),P=P+I|0,N=G_(N^P,7),S=S+C|0,F=G_(F^S,16),j=j+F|0,C=G_(C^j,12),S=S+C|0,F=G_(F^S,8),j=j+F|0,C=G_(C^j,7);let B=0;r[B++]=a+E|0,r[B++]=s+k|0,r[B++]=l+_|0,r[B++]=c+S|0,r[B++]=u+C|0,r[B++]=d+A|0,r[B++]=h+O|0,r[B++]=f+N|0,r[B++]=p+P|0,r[B++]=g+j|0,r[B++]=y+D|0,r[B++]=m+R|0,r[B++]=v+T|0,r[B++]=b+I|0,r[B++]=w+F|0,r[B++]=x+L|0}const J_=Q_($_,{counterRight:!1,counterLength:4,allowShortKeys:!1}),X_=Q_($_,{counterRight:!1,counterLength:8,extendNonceFn:function(e,t,n,r){let i=e[0],o=e[1],a=e[2],s=e[3],l=t[0],c=t[1],u=t[2],d=t[3],h=t[4],f=t[5],p=t[6],g=t[7],y=n[0],m=n[1],v=n[2],b=n[3];for(let x=0;x<20;x+=2)i=i+l|0,y=G_(y^i,16),h=h+y|0,l=G_(l^h,12),i=i+l|0,y=G_(y^i,8),h=h+y|0,l=G_(l^h,7),o=o+c|0,m=G_(m^o,16),f=f+m|0,c=G_(c^f,12),o=o+c|0,m=G_(m^o,8),f=f+m|0,c=G_(c^f,7),a=a+u|0,v=G_(v^a,16),p=p+v|0,u=G_(u^p,12),a=a+u|0,v=G_(v^a,8),p=p+v|0,u=G_(u^p,7),s=s+d|0,b=G_(b^s,16),g=g+b|0,d=G_(d^g,12),s=s+d|0,b=G_(b^s,8),g=g+b|0,d=G_(d^g,7),i=i+c|0,b=G_(b^i,16),p=p+b|0,c=G_(c^p,12),i=i+c|0,b=G_(b^i,8),p=p+b|0,c=G_(c^p,7),o=o+u|0,y=G_(y^o,16),g=g+y|0,u=G_(u^g,12),o=o+u|0,y=G_(y^o,8),g=g+y|0,u=G_(u^g,7),a=a+d|0,m=G_(m^a,16),h=h+m|0,d=G_(d^h,12),a=a+d|0,m=G_(m^a,8),h=h+m|0,d=G_(d^h,7),s=s+l|0,v=G_(v^s,16),f=f+v|0,l=G_(l^f,12),s=s+l|0,v=G_(v^s,8),f=f+v|0,l=G_(l^f,7);let w=0;r[w++]=i,r[w++]=o,r[w++]=a,r[w++]=s,r[w++]=y,r[w++]=m,r[w++]=v,r[w++]=b},allowShortKeys:!1}),eS=new Uint8Array(16),tS=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(eS.subarray(n))},nS=new Uint8Array(32);function rS(e,t,n,r,i){const o=e(t,n,nS),a=U_.create(o);i&&tS(a,i),tS(a,r);const s=new Uint8Array(16),l=Qk(s);e_(l,0,BigInt(i?i.length:0),!0),e_(l,8,BigInt(r.length),!0),a.update(s);const c=a.digest();return o.fill(0),c}const iS=e=>(t,n,r)=>{const i=16;return Vk(t,32),Vk(n),{encrypt:(o,a)=>{const s=o.length,l=s+i;a?Vk(a,l):a=new Uint8Array(l),e(t,n,o,a,1);const c=rS(e,t,n,a.subarray(0,-16),r);return a.set(c,s),a},decrypt:(o,a)=>{const s=o.length,l=s-i;if(s<i)throw new Error("encrypted data must be at least ".concat(i," bytes"));a?Vk(a,l):a=new Uint8Array(l);const c=o.subarray(0,-16);if(!Jk(o.subarray(-16),rS(e,t,n,c,r)))throw new Error("invalid tag");return e(t,n,c,a,1),a}}};iS(J_),iS(X_);class oS extends QE{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,nk.hash(e);const n=YE(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return nk.exists(this),this.iHash.update(e),this}digestInto(e){nk.exists(this),nk.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const aS=(e,t,n)=>new oS(e,t).update(n).digest();function sS(e,t,n){return nk.hash(e),void 0===n&&(n=new Uint8Array(e.outputLen)),aS(e,YE(n),YE(t))}aS.create=(e,t)=>new oS(e,t);const lS=new Uint8Array([0]),cS=new Uint8Array;function uS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32;if(nk.hash(e),nk.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);void 0===n&&(n=cS);const o=new Uint8Array(i*e.outputLen),a=aS.create(e,t),s=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let c=0;c<i;c++)lS[0]=c+1,s.update(0===c?cS:l).update(n).update(lS).digestInto(l),o.set(l,e.outputLen*c),a._cloneInto(s);return a.destroy(),s.destroy(),l.fill(0),lS.fill(0),o.slice(0,r)}var dS=Object.defineProperty,hS=(e,t)=>{for(var n in t)dS(e,n,{get:t[n],enumerable:!0})},fS=Symbol("verified");function pS(e){if(!(e instanceof Object))return!1;if("number"!==typeof e.kind)return!1;if("string"!==typeof e.content)return!1;if("number"!==typeof e.created_at)return!1;if("string"!==typeof e.pubkey)return!1;if(!e.pubkey.match(/^[a-f0-9]{64}$/))return!1;if(!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let e=0;e<n.length;e++)if("object"===typeof n[e])return!1}return!0}hS({},{Queue:()=>ES,QueueNode:()=>xS,binarySearch:()=>wS,insertEventIntoAscendingList:()=>bS,insertEventIntoDescendingList:()=>vS,normalizeURL:()=>mS,utf8Decoder:()=>gS,utf8Encoder:()=>yS});var gS=new TextDecoder("utf-8"),yS=new TextEncoder;function mS(e){-1===e.indexOf("://")&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),("80"===t.port&&"ws:"===t.protocol||"443"===t.port&&"wss:"===t.protocol)&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function vS(e,t){const[n,r]=wS(e,(e=>t.id===e.id?0:t.created_at===e.created_at?-1:e.created_at-t.created_at));return r||e.splice(n,0,t),e}function bS(e,t){const[n,r]=wS(e,(e=>t.id===e.id?0:t.created_at===e.created_at?-1:t.created_at-e.created_at));return r||e.splice(n,0,t),e}function wS(e,t){let n=0,r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),o=t(e[i]);if(0===o)return[i,!0];o<0?r=i-1:n=i+1}return[n,!1]}var xS=class{constructor(e){d(this,"value",void 0),d(this,"next",null),d(this,"prev",null),this.value=e}},ES=class{constructor(){d(this,"first",void 0),d(this,"last",void 0),this.first=null,this.last=null}enqueue(e){const t=new xS(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const e=this.first;return this.first=null,this.last=null,e.value}const e=this.first;return this.first=e.next,e.value}};function kS(e){return GE(dk(yS.encode(function(e){if(!pS(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}(e))))}var _S=new class{generateSecretKey(){return UE.utils.randomPrivateKey()}getPublicKey(e){return GE(UE.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=GE(UE.getPublicKey(t)),n.id=kS(n),n.sig=GE(UE.sign(kS(n),t)),n[fS]=!0,n}verifyEvent(e){if("boolean"===typeof e[fS])return e[fS];const t=kS(e);if(t!==e.id)return e[fS]=!1,!1;try{const n=UE.verify(e.sig,t,e.pubkey);return e[fS]=n,n}catch(n){return e[fS]=!1,!1}}},SS=_S.generateSecretKey,CS=_S.getPublicKey,AS=_S.finalizeEvent,OS=_S.verifyEvent;function NS(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function PS(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function jS(e){return 2e4<=e&&e<3e4}function DS(e){return 3e4<=e&&e<4e4}function RS(e){return NS(e)?"regular":PS(e)?"replaceable":jS(e)?"ephemeral":DS(e)?"parameterized":"unknown"}function TS(e,t){const n=t instanceof Array?t:[t];return pS(e)&&n.includes(e.kind)||!1}hS({},{Application:()=>GC,BadgeAward:()=>qS,BadgeDefinition:()=>MC,BlockedRelaysList:()=>wC,BookmarkList:()=>mC,Bookmarksets:()=>FC,Calendar:()=>XC,CalendarEventRSVP:()=>eA,ChannelCreation:()=>WS,ChannelHideMessage:()=>QS,ChannelMessage:()=>ZS,ChannelMetadata:()=>YS,ChannelMuteUser:()=>$S,ClassifiedListing:()=>ZC,ClientAuth:()=>OC,CommunitiesList:()=>vC,CommunityDefinition:()=>rA,CommunityPostApproval:()=>aC,Contacts:()=>BS,CreateOrUpdateProduct:()=>HC,CreateOrUpdateStall:()=>zC,Curationsets:()=>LC,Date:()=>$C,DirectMessageRelaysList:()=>_C,DraftClassifiedListing:()=>QC,DraftLong:()=>KC,Emojisets:()=>VC,EncryptedDirectMessage:()=>MS,EventDeletion:()=>US,FileMetadata:()=>eC,FileServerPreference:()=>SC,Followsets:()=>RC,GenericRepost:()=>GS,Genericlists:()=>TC,GiftWrap:()=>XS,HTTPAuth:()=>DC,Handlerinformation:()=>nA,Handlerrecommendation:()=>tA,Highlights:()=>fC,InterestsList:()=>EC,Interestsets:()=>UC,JobFeedback:()=>cC,JobRequest:()=>sC,JobResult:()=>lC,Label:()=>oC,LightningPubRPC:()=>AC,LiveChatMessage:()=>tC,LiveEvent:()=>WC,LongFormArticle:()=>qC,Metadata:()=>IS,Mutelist:()=>pC,NWCWalletInfo:()=>CC,NWCWalletRequest:()=>NC,NWCWalletResponse:()=>PC,NostrConnect:()=>jC,OpenTimestamps:()=>JS,Pinlist:()=>gC,PrivateDirectMessage:()=>VS,ProblemTracker:()=>nC,ProfileBadges:()=>BC,PublicChatsList:()=>bC,Reaction:()=>HS,RecommendRelay:()=>LS,RelayList:()=>yC,Relaysets:()=>IC,Report:()=>rC,Reporting:()=>iC,Repost:()=>zS,Seal:()=>KS,SearchRelaysList:()=>xC,ShortTextNote:()=>FS,Time:()=>JC,UserEmojiList:()=>kC,UserStatuses:()=>YC,Zap:()=>hC,ZapGoal:()=>uC,ZapRequest:()=>dC,classifyKind:()=>RS,isEphemeralKind:()=>jS,isKind:()=>TS,isParameterizedReplaceableKind:()=>DS,isRegularKind:()=>NS,isReplaceableKind:()=>PS});var IS=0,FS=1,LS=2,BS=3,MS=4,US=5,zS=6,HS=7,qS=8,KS=13,VS=14,GS=16,WS=40,YS=41,ZS=42,QS=43,$S=44,JS=1040,XS=1059,eC=1063,tC=1311,nC=1971,rC=1984,iC=1984,oC=1985,aC=4550,sC=5999,lC=6999,cC=7e3,uC=9041,dC=9734,hC=9735,fC=9802,pC=1e4,gC=10001,yC=10002,mC=10003,vC=10004,bC=10005,wC=10006,xC=10007,EC=10015,kC=10030,_C=10050,SC=10096,CC=13194,AC=21e3,OC=22242,NC=23194,PC=23195,jC=24133,DC=27235,RC=3e4,TC=30001,IC=30002,FC=30003,LC=30004,BC=30008,MC=30009,UC=30015,zC=30017,HC=30018,qC=30023,KC=30024,VC=30030,GC=30078,WC=30311,YC=30315,ZC=30402,QC=30403,$C=31922,JC=31923,XC=31924,eA=31925,tA=31989,nA=31990,rA=34550;function iA(e,t){if(e.ids&&-1===e.ids.indexOf(t.id))return!1;if(e.kinds&&-1===e.kinds.indexOf(t.kind))return!1;if(e.authors&&-1===e.authors.indexOf(t.pubkey))return!1;for(let n in e)if("#"===n[0]){let r=n.slice(1),i=e["#".concat(r)];if(i&&!t.tags.find((e=>{let[t,r]=e;return t===n.slice(1)&&-1!==i.indexOf(r)})))return!1}return!(e.since&&t.created_at<e.since)&&!(e.until&&t.created_at>e.until)}function oA(e,t){let n=t.length+3,r=e.indexOf('"'.concat(t,'":'))+n,i=e.slice(r).indexOf('"')+r+1;return e.slice(i,i+64)}function aA(e,t){let n=t.length,r=e.indexOf('"'.concat(t,'":'))+n+3,i=e.slice(r),o=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,o),10)}function sA(e){let t=e.slice(0,22).indexOf('"EVENT"');if(-1===t)return null;let n=e.slice(t+7+1).indexOf('"');if(-1===n)return null;let r=t+7+1+n,i=e.slice(r+1,80).indexOf('"');if(-1===i)return null;let o=r+1+i;return e.slice(r+1,o)}function lA(e,t){return t===oA(e,"id")}function cA(e,t){return t===oA(e,"pubkey")}function uA(e,t){return t===aA(e,"kind")}hS({},{getHex64:()=>oA,getInt:()=>aA,getSubscriptionId:()=>sA,matchEventId:()=>lA,matchEventKind:()=>uA,matchEventPubkey:()=>cA});function dA(e,t){return{kind:OC,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}hS({},{makeAuthEvent:()=>dA});try{WebSocket}catch(cY){}try{WebSocket}catch(uY){}hS({},{BECH32_REGEX:()=>pA,Bech32MaxSize:()=>fA,NostrTypeGuard:()=>hA,decode:()=>gA,encodeBytes:()=>xA,naddrEncode:()=>_A,neventEncode:()=>kA,noteEncode:()=>bA,nprofileEncode:()=>EA,npubEncode:()=>vA,nsecEncode:()=>mA});var hA={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},fA=5e3,pA=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function gA(e){let{prefix:t,words:n}=Bk.decode(e,fA),r=new Uint8Array(Bk.fromWords(n));switch(t){case"nprofile":{var i;let e=yA(r);if(null===(i=e[0])||void 0===i||!i[0])throw new Error("missing TLV 0 for nprofile");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:GE(e[0][0]),relays:e[1]?e[1].map((e=>gS.decode(e))):[]}}}case"nevent":{var o,a,s;let e=yA(r);if(null===(o=e[0])||void 0===o||!o[0])throw new Error("missing TLV 0 for nevent");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");if(e[2]&&32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(e[3]&&4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:GE(e[0][0]),relays:e[1]?e[1].map((e=>gS.decode(e))):[],author:null!==(a=e[2])&&void 0!==a&&a[0]?GE(e[2][0]):void 0,kind:null!==(s=e[3])&&void 0!==s&&s[0]?parseInt(GE(e[3][0]),16):void 0}}}case"naddr":{var l,c,u;let e=yA(r);if(null===(l=e[0])||void 0===l||!l[0])throw new Error("missing TLV 0 for naddr");if(null===(c=e[2])||void 0===c||!c[0])throw new Error("missing TLV 2 for naddr");if(32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(null===(u=e[3])||void 0===u||!u[0])throw new Error("missing TLV 3 for naddr");if(4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:gS.decode(e[0][0]),pubkey:GE(e[2][0]),kind:parseInt(GE(e[3][0]),16),relays:e[1]?e[1].map((e=>gS.decode(e))):[]}}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:GE(r)};default:throw new Error("unknown prefix ".concat(t))}}function yA(e){let t={},n=e;for(;n.length>0;){let e=n[0],r=n[1],i=n.slice(2,2+r);if(n=n.slice(2+r),i.length<r)throw new Error("not enough data to read on TLV ".concat(e));t[e]=t[e]||[],t[e].push(i)}return t}function mA(e){return xA("nsec",e)}function vA(e){return xA("npub",WE(e))}function bA(e){return xA("note",WE(e))}function wA(e,t){let n=Bk.toWords(t);return Bk.encode(e,n,fA)}function xA(e,t){return wA(e,t)}function EA(e){return wA("nprofile",SA({0:[WE(e.pubkey)],1:(e.relays||[]).map((e=>yS.encode(e)))}))}function kA(e){let t;return void 0!==e.kind&&(t=function(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=255&e,t}(e.kind)),wA("nevent",SA({0:[WE(e.id)],1:(e.relays||[]).map((e=>yS.encode(e))),2:e.author?[WE(e.author)]:[],3:t?[new Uint8Array(t)]:[]}))}function _A(e){let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e.kind,!1),wA("naddr",SA({0:[yS.encode(e.identifier)],1:(e.relays||[]).map((e=>yS.encode(e))),2:[WE(e.pubkey)],3:[new Uint8Array(t)]}))}function SA(e){let t=[];return Object.entries(e).reverse().forEach((e=>{let[n,r]=e;r.forEach((e=>{let r=new Uint8Array(e.length+2);r.set([parseInt(n)],0),r.set([e.length],1),r.set(e,2),t.push(r)}))})),ZE(...t)}async function CA(e,t,n){const r=e instanceof Uint8Array?GE(e):e,i=OA(_E.getSharedSecret(r,"02"+t));let o=Uint8Array.from(JE(16)),a=yS.encode(n),s=I_(i,o).encrypt(a),l=Ak.encode(new Uint8Array(s)),c=Ak.encode(new Uint8Array(o.buffer));return"".concat(l,"?iv=").concat(c)}async function AA(e,t,n){const r=e instanceof Uint8Array?GE(e):e;let[i,o]=n.split("?iv="),a=OA(_E.getSharedSecret(r,"02"+t)),s=Ak.decode(o),l=Ak.decode(i),c=I_(a,s).decrypt(l);return gS.decode(c)}function OA(e){return e.slice(1,33)}hS({},{decrypt:()=>AA,encrypt:()=>CA});hS({},{NIP05_REGEX:()=>PA,isNip05:()=>jA,isValid:()=>IA,queryProfile:()=>TA,searchDomain:()=>RA,useFetchImplementation:()=>DA});var NA,PA=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,jA=e=>PA.test(e||"");try{NA=fetch}catch(hY){}function DA(e){NA=e}async function RA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{const n="https://".concat(e,"/.well-known/nostr.json?name=").concat(t),r=await NA(n,{redirect:"manual"});if(200!==r.status)throw Error("Wrong response code");return(await r.json()).names}catch(hY){return{}}}async function TA(e){const t=e.match(PA);if(!t)return null;const[,n="_",r]=t;try{var i;const e="https://".concat(r,"/.well-known/nostr.json?name=").concat(n),t=await NA(e,{redirect:"manual"});if(200!==t.status)throw Error("Wrong response code");const o=await t.json(),a=o.names[n];return a?{pubkey:a,relays:null===(i=o.relays)||void 0===i?void 0:i[a]}:null}catch(o){return null}}async function IA(e,t){const n=await TA(t);return!!n&&n.pubkey===e}function FA(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let n,r;for(let i=e.tags.length-1;i>=0;i--){const o=e.tags[i];if("e"===o[0]&&o[1]){const[e,i,a,s,l]=o,c={id:i,relays:a?[a]:[],author:l};if("root"===s){t.root=c;continue}if("reply"===s){t.reply=c;continue}if("mention"===s){t.mentions.push(c);continue}n?r=c:n=c,t.mentions.push(c)}else{if("q"===o[0]&&o[1]){const[e,n,r]=o;t.quotes.push({id:n,relays:r?[r]:[]})}"p"===o[0]&&o[1]&&t.profiles.push({pubkey:o[1],relays:o[2]?[o[2]]:[]})}}return t.root||(t.root=r||n||t.reply),t.reply||(t.reply=n||t.root),[t.reply,t.root].forEach((e=>{if(!e)return;let n=t.mentions.indexOf(e);if(-1!==n&&t.mentions.splice(n,1),e.author){let n=t.profiles.find((t=>t.pubkey===e.author));n&&n.relays&&(e.relays||(e.relays=[]),n.relays.forEach((t=>{var n;-1===(null===(n=e.relays)||void 0===n?void 0:n.indexOf(t))&&e.relays.push(t)})),n.relays=e.relays)}})),t.mentions.forEach((e=>{if(e.author){let n=t.profiles.find((t=>t.pubkey===e.author));n&&n.relays&&(e.relays||(e.relays=[]),n.relays.forEach((t=>{-1===e.relays.indexOf(t)&&e.relays.push(t)})),n.relays=e.relays)}})),t}hS({},{parse:()=>FA});hS({},{fetchRelayInformation:()=>BA,useFetchImplementation:()=>LA});try{fetch}catch(dY){}function LA(e){0}async function BA(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}function MA(e){let t=0;for(let n=0;n<64;n+=8){const r=parseInt(e.substring(n,n+8),16);if(0!==r){t+=Math.clz32(r);break}t+=32}return t}function UA(e,t){let n=0;const r=e,i=["nonce",n.toString(),t.toString()];for(r.tags.push(i);;){const e=Math.floor((new Date).getTime()/1e3);if(e!==r.created_at&&(n=0,r.created_at=e),i[1]=(++n).toString(),r.id=zA(r),MA(r.id)>=t)break}return r}function zA(e){return GE(dk(yS.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}hS({},{fastEventHash:()=>zA,getPow:()=>MA,minePow:()=>UA});function HA(e,t,n,r){var i;return AS({kind:zS,tags:[...null!==(i=e.tags)&&void 0!==i?i:[],["e",t.id,n],["p",t.pubkey]],content:""===e.content?"":JSON.stringify(t),created_at:e.created_at},r)}function qA(e){var t,n;if(e.kind!==zS)return;let r,i;for(let o=e.tags.length-1;o>=0&&(void 0===r||void 0===i);o--){const t=e.tags[o];t.length>=2&&("e"===t[0]&&void 0===r?r=t:"p"===t[0]&&void 0===i&&(i=t))}return void 0!==r?{id:r[1],relays:[r[2],null===(t=i)||void 0===t?void 0:t[2]].filter((e=>"string"===typeof e)),author:null===(n=i)||void 0===n?void 0:n[1]}:void 0}function KA(e){let{skipVerification:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=qA(e);if(void 0===n||""===e.content)return;let r;try{r=JSON.parse(e.content)}catch(kU){return}return r.id===n.id&&(t||OS(r))?r:void 0}hS({},{finishRepostEvent:()=>HA,getRepostedEvent:()=>KA,getRepostedEventPointer:()=>qA});hS({},{NOSTR_URI_REGEX:()=>VA,parse:()=>WA,test:()=>GA});var VA=new RegExp("nostr:(".concat(pA.source,")"));function GA(e){return"string"===typeof e&&new RegExp("^".concat(VA.source,"$")).test(e)}function WA(e){const t=e.match(new RegExp("^".concat(VA.source,"$")));if(!t)throw new Error("Invalid Nostr URI: ".concat(e));return{uri:t[0],value:t[1],decoded:gA(t[1])}}function YA(e,t,n){var r,i;const o=t.tags.filter((e=>e.length>=2&&("e"===e[0]||"p"===e[0])));return AS(f(f({},e),{},{kind:HS,tags:[...null!==(r=e.tags)&&void 0!==r?r:[],...o,["e",t.id],["p",t.pubkey]],content:null!==(i=e.content)&&void 0!==i?i:"+"}),n)}function ZA(e){if(e.kind!==HS)return;let t,n;for(let r=e.tags.length-1;r>=0&&(void 0===t||void 0===n);r--){const i=e.tags[r];i.length>=2&&("e"===i[0]&&void 0===t?t=i:"p"===i[0]&&void 0===n&&(n=i))}return void 0!==t&&void 0!==n?{id:t[1],relays:[t[2],n[2]].filter((e=>void 0!==e)),author:n[1]}:void 0}hS({},{finishReactionEvent:()=>YA,getReactedEventPointer:()=>ZA});hS({},{matchAll:()=>$A,regex:()=>QA,replaceAll:()=>JA});var QA=()=>new RegExp("\\b".concat(VA.source,"\\b"),"g");function*$A(e){const t=e.matchAll(QA());for(const r of t)try{const[e,t]=r;yield{uri:e,value:t,decoded:gA(t),start:r.index,end:r.index+e.length}}catch(n){}}function JA(e,t){return e.replaceAll(QA(),((e,n)=>t({uri:e,value:n,decoded:gA(n)})))}hS({},{channelCreateEvent:()=>XA,channelHideMessageEvent:()=>nO,channelMessageEvent:()=>tO,channelMetadataEvent:()=>eO,channelMuteUserEvent:()=>rO});var XA=(e,t)=>{var n;let r;if("object"===typeof e.content)r=JSON.stringify(e.content);else{if("string"!==typeof e.content)return;r=e.content}return AS({kind:WS,tags:[...null!==(n=e.tags)&&void 0!==n?n:[]],content:r,created_at:e.created_at},t)},eO=(e,t)=>{var n;let r;if("object"===typeof e.content)r=JSON.stringify(e.content);else{if("string"!==typeof e.content)return;r=e.content}return AS({kind:YS,tags:[["e",e.channel_create_event_id],...null!==(n=e.tags)&&void 0!==n?n:[]],content:r,created_at:e.created_at},t)},tO=(e,t)=>{var n;const r=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&r.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),AS({kind:ZS,tags:[...r,...null!==(n=e.tags)&&void 0!==n?n:[]],content:e.content,created_at:e.created_at},t)},nO=(e,t)=>{var n;let r;if("object"===typeof e.content)r=JSON.stringify(e.content);else{if("string"!==typeof e.content)return;r=e.content}return AS({kind:QS,tags:[["e",e.channel_message_event_id],...null!==(n=e.tags)&&void 0!==n?n:[]],content:r,created_at:e.created_at},t)},rO=(e,t)=>{var n;let r;if("object"===typeof e.content)r=JSON.stringify(e.content);else{if("string"!==typeof e.content)return;r=e.content}return AS({kind:$S,tags:[["p",e.pubkey_to_mute],...null!==(n=e.tags)&&void 0!==n?n:[]],content:r,created_at:e.created_at},t)};hS({},{EMOJI_SHORTCODE_REGEX:()=>iO,matchAll:()=>aO,regex:()=>oO,replaceAll:()=>sO});var iO=/:(\w+):/,oO=()=>new RegExp("\\B".concat(iO.source,"\\B"),"g");function*aO(e){const t=e.matchAll(oO());for(const r of t)try{const[e,t]=r;yield{shortcode:e,name:t,start:r.index,end:r.index+e.length}}catch(n){}}function sO(e,t){return e.replaceAll(oO(),((e,n)=>t({shortcode:e,name:n})))}var lO;hS({},{useFetchImplementation:()=>cO,validateGithub:()=>uO});try{lO=fetch}catch(fY){}function cO(e){lO=e}async function uO(e,t,n){try{return await(await lO("https://gist.github.com/".concat(t,"/").concat(n,"/raw"))).text()==="Verifying that I control the following Nostr public key: ".concat(e)}catch(hY){return!1}}hS({},{decrypt:()=>bO,encrypt:()=>vO,getConversationKey:()=>fO,v2:()=>wO});var dO=1,hO=65535;function fO(e,t){const n=_E.getSharedSecret(e,"02"+t).subarray(1,33);return sS(dk,n,"nip44-v2")}function pO(e,t){const n=uS(dk,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function gO(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function yO(e){const t=yS.encode(e),n=t.length,r=function(e){if(!Number.isSafeInteger(e)||e<dO||e>hO)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}(n);return ZE(r,t,new Uint8Array(gO(n)-n))}function mO(e,t,n){if(32!==n.length)throw new Error("AAD associated data must be 32 bytes");const r=ZE(n,t);return aS(dk,e,r)}function vO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:JE(32);const{chacha_key:r,chacha_nonce:i,hmac_key:o}=pO(t,n),a=yO(e),s=J_(r,i,a),l=mO(o,s,n);return Ak.encode(ZE(new Uint8Array([2]),n,s,l))}function bO(e,t){const{nonce:n,ciphertext:r,mac:i}=function(e){if("string"!==typeof e)throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if("#"===e[0])throw new Error("unknown encryption version");let n;try{n=Ak.decode(e)}catch(kU){throw new Error("invalid base64: "+kU.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const i=n[0];if(2!==i)throw new Error("unknown encryption version "+i);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}(e),{chacha_key:o,chacha_nonce:a,hmac_key:s}=pO(t,n);if(!Jk(mO(s,r,n),i))throw new Error("invalid MAC");return function(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<dO||t>hO||n.length!==t||e.length!==2+gO(t))throw new Error("invalid padding");return gS.decode(n)}(J_(o,a,r))}var wO={utils:{getConversationKey:fO,calcPaddedLen:gO},encrypt:vO,decrypt:bO};function xO(e){const{pathname:t,searchParams:n}=new URL(e),r=t,i=n.get("relay"),o=n.get("secret");if(!r||!i||!o)throw new Error("invalid connection string");return{pubkey:r,relay:i,secret:o}}async function EO(e,t,n){const r={method:"pay_invoice",params:{invoice:n}},i=await CA(t,e,JSON.stringify(r)),o={kind:NC,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e]]};return AS(o,t)}hS({},{makeNwcRequestEvent:()=>EO,parseConnectionString:()=>xO});var kO;hS({},{getZapEndpoint:()=>SO,makeZapReceipt:()=>OO,makeZapRequest:()=>CO,useFetchImplementation:()=>_O,validateZapRequest:()=>AO});try{kO=fetch}catch(pY){}function _O(e){kO=e}async function SO(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:e}=Bk.decode(n,1e3),r=Bk.fromWords(e);t=gS.decode(r)}else{if(!r)return null;{let[e,n]=r.split("@");t=new URL("/.well-known/lnurlp/".concat(e),"https://".concat(n)).toString()}}let i=await kO(t),o=await i.json();if(o.allowsNostr&&o.nostrPubkey)return o.callback}catch(t){}return null}function CO(e){let{profile:t,event:n,amount:r,relays:i,comment:o=""}=e;if(!r)throw new Error("amount not given");if(!t)throw new Error("profile not given");let a={kind:9734,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",t],["amount",r.toString()],["relays",...i]]};return n&&a.tags.push(["e",n]),a}function AO(e){let t;try{t=JSON.parse(e)}catch(o){return"Invalid zap request JSON."}if(!pS(t))return"Zap request is not a valid Nostr event.";if(!OS(t))return"Invalid signature on zap request.";let n=t.tags.find((e=>{let[t,n]=e;return"p"===t&&n}));if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find((e=>{let[t,n]=e;return"e"===t&&n}));if(r&&!r[1].match(/^[a-f0-9]{64}$/))return"Zap request 'e' tag is not valid hex.";let i=t.tags.find((e=>{let[t,n]=e;return"relays"===t&&n}));return i?null:"Zap request doesn't have a 'relays' tag."}function OO(e){let{zapRequest:t,preimage:n,bolt11:r,paidAt:i}=e,o=JSON.parse(t),a=o.tags.filter((e=>{let[t]=e;return"e"===t||"p"===t||"a"===t})),s={kind:9735,created_at:Math.round(i.getTime()/1e3),content:"",tags:[...a,["P",o.pubkey],["bolt11",r],["description",t]]};return n&&s.tags.push(["preimage",n]),s}hS({},{createRumor:()=>TO,createSeal:()=>IO,createWrap:()=>FO,unwrapEvent:()=>MO,unwrapManyEvents:()=>UO,wrapEvent:()=>LO,wrapManyEvents:()=>BO});var NO=()=>Math.round(Date.now()/1e3),PO=()=>Math.round(NO()-172800*Math.random()),jO=(e,t)=>fO(e,t),DO=(e,t,n)=>vO(JSON.stringify(e),jO(t,n)),RO=(e,t)=>JSON.parse(bO(e.content,jO(t,e.pubkey)));function TO(e,t){const n=f(f({created_at:NO(),content:"",tags:[]},e),{},{pubkey:CS(t)});return n.id=kS(n),n}function IO(e,t,n){return AS({kind:KS,content:DO(e,t,n),created_at:PO(),tags:[]},t)}function FO(e,t){const n=SS();return AS({kind:XS,content:DO(e,n,t),created_at:PO(),tags:[["p",t]]},n)}function LO(e,t,n){return FO(IO(TO(e,t),t,n),n)}function BO(e,t,n){if(!n||0===n.length)throw new Error("At least one recipient is required.");const r=CS(t),i=[LO(e,t,r)];return n.forEach((n=>{i.push(LO(e,t,n))})),i}function MO(e,t){const n=RO(e,t);return RO(n,t)}function UO(e,t){let n=[];return e.forEach((e=>{n.push(MO(e,t))})),n.sort(((e,t)=>e.created_at-t.created_at)),n}hS({},{getToken:()=>HO,hashPayload:()=>ZO,unpackEventFromToken:()=>KO,validateEvent:()=>$O,validateEventKind:()=>GO,validateEventMethodTag:()=>YO,validateEventPayloadTag:()=>QO,validateEventTimestamp:()=>VO,validateEventUrlTag:()=>WO,validateToken:()=>qO});var zO="Nostr ";async function HO(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;const o={kind:DC,tags:[["u",e],["method",t]],created_at:Math.round((new Date).getTime()/1e3),content:""};i&&o.tags.push(["payload",ZO(i)]);const a=await n(o);return(r?zO:"")+Ak.encode(yS.encode(JSON.stringify(a)))}async function qO(e,t,n){const r=await KO(e).catch((e=>{throw e})),i=await $O(r,t,n).catch((e=>{throw e}));return i}async function KO(e){if(!e)throw new Error("Missing token");e=e.replace(zO,"");const t=gS.decode(Ak.decode(e));if(!t||0===t.length||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function VO(e){return!!e.created_at&&Math.round((new Date).getTime()/1e3)-e.created_at<60}function GO(e){return e.kind===DC}function WO(e,t){const n=e.tags.find((e=>"u"===e[0]));return!!n&&(n.length>0&&n[1]===t)}function YO(e,t){const n=e.tags.find((e=>"method"===e[0]));return!!n&&(n.length>0&&n[1].toLowerCase()===t.toLowerCase())}function ZO(e){return GE(dk(yS.encode(JSON.stringify(e))))}function QO(e,t){const n=e.tags.find((e=>"payload"===e[0]));if(!n)return!1;const r=ZO(t);return n.length>0&&n[1]===r}async function $O(e,t,n,r){if(!OS(e))throw new Error("Invalid nostr event, signature invalid");if(!GO(e))throw new Error("Invalid nostr event, kind invalid");if(!VO(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!WO(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!YO(e,n))throw new Error("Invalid nostr event, method tag invalid");if(Boolean(r)&&"object"===typeof r&&Object.keys(r).length>0&&!QO(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var JO=__webpack_require__(170);const XO=Symbol.for("Dexie"),eN=globalThis[XO]||(globalThis[XO]=JO);if(JO.semVer!==eN.semVer)throw new Error("Two different versions of Dexie loaded in the same app: ".concat(JO.semVer," and ").concat(eN.semVer));const{liveQuery:tN,mergeRanges:nN,rangesOverlap:rN,RangeSet:iN,cmp:oN,Entity:aN,PropModification:sN,replacePrefix:lN,add:cN,remove:uN}=eN,dN=eN;var hN,fN=class extends dN{constructor(e){super(e),d(this,"profiles",void 0),d(this,"events",void 0),d(this,"eventTags",void 0),d(this,"nip05",void 0),d(this,"lnurl",void 0),d(this,"relayStatus",void 0),d(this,"unpublishedEvents",void 0),this.version(15).stores({profiles:"&pubkey",events:"&id, kind",eventTags:"&tagValue",nip05:"&nip05",lnurl:"&pubkey",relayStatus:"&url",unpublishedEvents:"&id"})}};var pN=class{constructor(e){d(this,"cache",void 0),d(this,"dirtyKeys",new Set),d(this,"options",void 0),d(this,"debug",void 0),d(this,"indexes",void 0),d(this,"isSet",!1),d(this,"maxSize",0),this.debug=e.debug,this.options=e,this.maxSize=e.maxSize,e.maxSize>0&&(this.cache=new Sv.LRUCache({maxSize:e.maxSize}),setInterval((()=>this.dump().catch(console.error)),1e4)),this.indexes=new Map}getSet(e){var t;return null===(t=this.cache)||void 0===t?void 0:t.get(e)}getAllWithFilter(e){var t;const n=new Map;return null===(t=this.cache)||void 0===t||t.forEach(((t,r)=>{e(r,t)&&n.set(r,t)})),n}get(e){var t;return null===(t=this.cache)||void 0===t?void 0:t.get(e)}async getWithFallback(e,t){let n=this.get(e);return n||(n=await t.get(e),n&&this.set(e,n)),n}async getManyWithFallback(e,t){const n=[],r=[];for(const i of e){const e=this.get(i);e?n.push(e):r.push(i)}if(n.length>0&&this.debug("Cache hit for keys ".concat(n.length," and miss for ").concat(r.length," keys")),r.length>0){const e=Date.now(),i=await t.bulkGet(r),o=Date.now();let a=0;for(const t of i)t&&(this.set(t.id,t),n.push(t),a++);this.debug("Time spent querying database: ".concat(o-e,"ms for ").concat(r.length," keys, which added ").concat(a," entries to the cache"))}return n}add(e,t){var n,r;let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const o=null!==(n=this.get(e))&&void 0!==n?n:new Set;o.add(t),null===(r=this.cache)||void 0===r||r.set(e,o),i&&this.dirtyKeys.add(e)}set(e,t){var n;let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];null===(n=this.cache)||void 0===n||n.set(e,t),r&&this.dirtyKeys.add(e);for(const[i,o]of this.indexes.entries()){const n=t[i];if(n){const t=o.get(n)||new Set;t.add(e),o.set(n,t)}}}size(){var e;return(null===(e=this.cache)||void 0===e?void 0:e.size)||0}delete(e){var t;null===(t=this.cache)||void 0===t||t.delete(e),this.dirtyKeys.add(e)}async dump(){this.dirtyKeys.size>0&&(await this.options.dump(this.dirtyKeys,this.cache),this.dirtyKeys.clear())}addIndex(e){this.indexes.set(e,new Sv.LRUCache({maxSize:this.options.maxSize}))}getFromIndex(e,t){var n;const r=new Set;return null===(n=this.indexes.get(e))||void 0===n||null===(n=n.get(t))||void 0===n||n.forEach((e=>{const t=this.get(e);t&&r.add(t)})),r}},gN=sl("ndk:dexie-adapter:profiles");var yN=(e,t)=>async(n,r)=>{const i=[];for(const e of n){const t=r.get(e);t&&i.push(f({pubkey:e},t))}i.length&&(t("Saving ".concat(i.length," zapper cache entries to database")),await e.bulkPut(i)),n.clear()};var mN=(e,t)=>async(n,r)=>{const i=[];for(const e of n){const t=r.get(e);t&&i.push(f({nip05:e},t))}i.length&&(t("Saving ".concat(i.length," NIP-05 cache entries to database")),await e.bulkPut(i)),n.clear()};var vN=(e,t)=>async(n,r)=>{const i=[];for(const e of n){const t=r.get(e);t&&i.push(t)}i.length>0&&(t("Saving ".concat(i.length," events cache entries to database")),await e.bulkPut(i)),n.clear()};var bN=(e,t)=>async(n,r)=>{const i=[];for(const e of n){const t=r.get(e);if(t)for(const n of t)i.push({tagValue:e,eventId:n})}i.length>0&&(t("Saving ".concat(i.length," events cache entries to database")),await e.bulkPut(i)),n.clear()};var wN=(e,t)=>async(n,r)=>{const i=[];for(const e of n){const t=r.get(e);t&&i.push({url:e,updatedAt:t.updatedAt,lastConnectedAt:t.lastConnectedAt,dontConnectBefore:t.dontConnectBefore})}i.length>0&&(t("Saving ".concat(i.length," relay status cache entries to database")),await e.bulkPut(i)),n.clear()};function xN(e,t){return async(n,r)=>{const i=[];for(const e of n){const t=r.get(e);t&&i.push(t)}i.length>0&&(t("Saving ".concat(i.length," unpublished events cache entries to database")),await e.bulkPut(i)),n.clear()}}function EN(e,t){const n={};t.forEach((e=>n[e]=!1)),this.unpublishedEvents.set(e.id,{id:e.id,event:e.rawEvent(),relays:n});const r=t=>{const n=t.url,i=this.unpublishedEvents.get(e.id);if(!i)return void e.off("publushed",r);i.relays[n]=!0,this.unpublishedEvents.set(e.id,i);let o=Object.values(i.relays).filter((e=>e)).length,a=Object.values(i.relays).length-o;(o>=3||0===a)&&(this.unpublishedEvents.delete(e.id),e.off("published",r))};e.on("published",r)}var kN=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n,r;d(this,"debug",void 0),d(this,"locking",!1),d(this,"ready",!1),d(this,"profiles",void 0),d(this,"zappers",void 0),d(this,"nip05s",void 0),d(this,"events",void 0),d(this,"eventTags",void 0),d(this,"relayInfo",void 0),d(this,"unpublishedEvents",void 0),d(this,"warmedUp",!1),d(this,"warmUpPromise",void 0),d(this,"devMode",!1),d(this,"_onReady",void 0),d(this,"addUnpublishedEvent",EN.bind(this)),d(this,"getUnpublishedEvents",(()=>async function(e){const t=[];return await e.each((e=>{t.push({event:new $b(void 0,e.event),relays:Object.keys(e.relays),lastTryAt:e.lastTryAt})})),t}(hN.unpublishedEvents))),d(this,"discardUnpublishedEvent",(e=>async function(e,t){await e.delete(t)}(hN.unpublishedEvents,e))),t=e.dbName||"ndk",hN=new fN(t),this.debug=e.debug||sl("ndk:dexie-adapter"),this.profiles=new pN({maxSize:e.profileCacheSize||1e5,dump:(n=hN.profiles,r=this.debug,async(e,t)=>{const i=[];for(const n of e){const e=t.get(n);e&&i.push(e)}i.length&&(r("Saving ".concat(i.length," users to database")),await n.bulkPut(i)),e.clear()}),debug:this.debug}),this.zappers=new pN({maxSize:e.zapperCacheSize||200,dump:yN(hN.lnurl,this.debug),debug:this.debug}),this.nip05s=new pN({maxSize:e.nip05CacheSize||1e3,dump:mN(hN.nip05,this.debug),debug:this.debug}),this.events=new pN({maxSize:e.eventCacheSize||5e4,dump:vN(hN.events,this.debug),debug:this.debug}),this.events.addIndex("pubkey"),this.events.addIndex("kind"),this.eventTags=new pN({maxSize:e.eventTagsCacheSize||1e5,dump:bN(hN.eventTags,this.debug),debug:this.debug}),this.relayInfo=new pN({maxSize:500,debug:this.debug,dump:wN(hN.relayStatus,this.debug)}),this.unpublishedEvents=new pN({maxSize:5e3,debug:this.debug,dump:xN(hN.unpublishedEvents,this.debug)});const i=(e,t)=>{const n=Date.now();return t().then((()=>{const t=Date.now();this.debug(e,"took",t-n,"ms")}))},o=Date.now();this.warmUpPromise=Promise.allSettled([i("profilesWarmUp",(()=>async function(e,t){const n=await t.limit(e.maxSize).toArray();for(const r of n){const t=r;e.set(r.pubkey,t,!1)}gN("Loaded %d profiles from database",e.size())}(this.profiles,hN.profiles))),i("zapperWarmUp",(()=>async function(e,t){const n=await t.limit(e.maxSize).toArray();for(const r of n)e.set(r.pubkey,{document:r.document,fetchedAt:r.fetchedAt},!1)}(this.zappers,hN.lnurl))),i("nip05WarmUp",(()=>async function(e,t){const n=await t.limit(e.maxSize).toArray();for(const r of n)e.set(r.nip05,r,!1)}(this.nip05s,hN.nip05))),i("relayInfoWarmUp",(()=>async function(e,t){const n=await t.limit(e.maxSize).toArray();for(const r of n)e.set(r.url,{url:r.url,updatedAt:r.updatedAt,lastConnectedAt:r.lastConnectedAt,dontConnectBefore:r.dontConnectBefore},!1)}(this.relayInfo,hN.relayStatus))),i("unpublishedEventsWarmUp",(()=>async function(e,t){await t.each((t=>{e.set(t.event.id,t,!1)}))}(this.unpublishedEvents,hN.unpublishedEvents))),i("eventsWarmUp",(()=>async function(e,t){const n=await t.limit(e.maxSize).toArray();for(const r of n)e.set(r.id,r,!1)}(this.events,hN.events))),i("eventTagsWarmUp",(()=>async function(e,t){const n=await t.limit(e.maxSize).toArray();for(const r of n)e.add(r.tagValue,r.eventId,!1)}(this.eventTags,hN.eventTags)))]),this.warmUpPromise.then((()=>{const e=Date.now();this.warmedUp=!0,this.ready=!0,this.locking=!0,this.debug("Warm up completed, time",e-o,"ms"),this._onReady&&this._onReady()}))}onReady(e){this._onReady=e}async query(e){if(!this.warmedUp){const t=Date.now();await this.warmUpPromise,this.debug("froze query for",Date.now()-t,"ms",e.filters)}const t=Date.now();e.filters.map((t=>this.processFilter(t,e)));const n=Date.now()-t;n>100&&this.debug("query took",n,"ms",e.filter)}async fetchProfile(e){if(!this.profiles)return null;return await this.profiles.getWithFallback(e,hN.profiles)}fetchProfileSync(e){if(!this.profiles)return null;return this.profiles.get(e)}async getProfiles(e){if(this.profiles)return this.profiles.getAllWithFilter(e)}saveProfile(e,t){const n=this.profiles.get(e);if(null!==n&&void 0!==n&&n.created_at&&t.created_at&&n.created_at>=t.created_at)return;const r=Math.floor(Date.now()/1e3);this.profiles.set(e,f(f({pubkey:e},t),{},{cachedAt:r})),this.debug("Saved profile for pubkey",e,t)}async loadNip05(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3600;const r=null===(t=this.nip05s)||void 0===t?void 0:t.get(e);if(r){if(null===r.profile)return r.fetchedAt+1e3*n<Date.now()?"missing":null;try{return JSON.parse(r.profile)}catch(oR){return"missing"}}const i=await hN.nip05.get({nip05:e});if(!i)return"missing";const o=Date.now();if(null===i.profile)return i.fetchedAt+1e3*n<o?"missing":null;try{return JSON.parse(i.profile)}catch(oR){return"missing"}}async saveNip05(e,t){try{const n=t?JSON.stringify(t):null;this.nip05s.set(e,{profile:n,fetchedAt:Date.now()})}catch(kU){console.error("Failed to save NIP-05 profile for nip05:",e,kU)}}async loadUsersLNURLDoc(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:86400,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3600;const i=null===(t=this.zappers)||void 0===t?void 0:t.get(e);if(i){if(null===i.document)return i.fetchedAt+1e3*r<Date.now()?"missing":null;try{return JSON.parse(i.document)}catch(oR){return"missing"}}const o=await hN.lnurl.get({pubkey:e});if(!o)return"missing";const a=Date.now();if(o.fetchedAt+1e3*n<a)return"missing";if(null===o.document)return o.fetchedAt+1e3*r<a?"missing":null;try{return JSON.parse(o.document)}catch(oR){return"missing"}}async saveUsersLNURLDoc(e,t){try{var n;const r=t?JSON.stringify(t):null;null===(n=this.zappers)||void 0===n||n.set(e,{document:r,fetchedAt:Date.now()})}catch(kU){console.error("Failed to save LNURL document for pubkey:",e,kU)}}processFilter(e,t){const n=f({},e);delete n.limit;const r=new Set(Object.keys(n||{}));r.delete("since"),r.delete("limit"),r.delete("until");try{if(this.byNip33Query(r,e,t))return;if(this.byAuthors(e,t))return;if(this.byIdsQuery(e,t))return;if(this.byTags(e,t))return;if(this.byKinds(r,e,t))return}catch(kU){console.error(kU)}}async deleteEventIds(e){e.forEach((e=>this.events.delete(e))),await hN.events.where({id:e}).delete()}async setEvent(e,t,n){if(0===e.kind){if(!this.profiles)return;try{const t=fw(e);this.saveProfile(e.pubkey,t)}catch(cY){this.debug("Failed to save profile for pubkey: ".concat(e.pubkey))}}let r=!0;if(e.isParamReplaceable()){const t=this.events.get(e.tagId());t&&e.created_at&&t.createdAt>e.created_at&&(r=!1)}if(r){this.events.set(e.tagId(),{id:e.tagId(),pubkey:e.pubkey,kind:e.kind,createdAt:e.created_at,relay:null===n||void 0===n?void 0:n.url,event:e.serialize(!0,!0)});const t=function(e){let t=[];if(3===e.kind)return[];for(const n of e.tags)if(1===n[0].length&&(t.push(n),t.length>=10))return[];return t}(e);for(const n of t)this.eventTags.add(n[0]+n[1],e.tagId())}}updateRelayStatus(e,t){const n=f({url:e,updatedAt:Date.now()},t);this.relayInfo.set(e,n)}getRelayStatus(e){const t=this.relayInfo.get(e);if(t)return{lastConnectedAt:t.lastConnectedAt,dontConnectBefore:t.dontConnectBefore}}byAuthors(e,t){if(!e.authors)return!1;let n=0;for(const r of e.authors){let i=Array.from(this.events.getFromIndex("pubkey",r));i.length;e.kinds&&(i=i.filter((t=>e.kinds.includes(t.kind)))),_N(t,i,e),n+=i.length}return!0}byIdsQuery(e,t){if(e.ids){for(const n of e.ids){const r=this.events.get(n);r&&SN(t,r,r.relay,e)}return!0}return!1}byNip33Query(e,t,n){const r=["#d","authors","kinds"],i=e.size===r.length&&r.every((t=>e.has(t)));if(i&&t.kinds&&t.authors){for(const e of t.kinds){if(e>=3e4&&e<4e4)for(const r of t.authors)for(const i of t["#d"]){const o="".concat(e,":").concat(r,":").concat(i),a=this.events.get(o);a&&SN(n,a,a.relay,t)}}return!0}return!1}byTags(e,t){const n=Object.entries(e).filter((e=>{let[t]=e;return t.startsWith("#")&&2===t.length})).map((e=>{let[t,n]=e;return[t[1],n]}));if(0===n.length)return!1;for(const[r,i]of n)for(const n of i){const i=r+n,o=this.eventTags.getSet(i);o&&o.forEach((n=>{const r=this.events.get(n);r&&(e.kinds&&!e.kinds.includes(r.kind)||SN(t,r,r.relay,e))}))}return!0}byKinds(e,t,n){if(!t.kinds)return!1;const r=["kinds"],i=e.size===r.length&&r.every((t=>e.has(t)));let o=[];if(!i)return!1;for(const a of t.kinds)o=[...o,...Array.from(this.events.getFromIndex("kind",a))];return _N(n,o,t),!0}};function _N(e,t,n){null!==n&&void 0!==n&&n.limit&&t.length>n.limit&&(t=t.sort(((e,t)=>t.createdAt-e.createdAt)).slice(0,n.limit));for(const r of t)SN(e,r,r.relay,n)}function SN(e,t,n,r){try{const i=qb(t.event);if(r&&!iA(r,i))return;const o=new $b(void 0,i),a=n?e.pool.getRelay(n,!1):void 0;o.relay=a,e.eventReceived(o,a,!0)}catch(oR){console.error("failed to deserialize event",oR)}}const CN=["wss://relay.primal.net","wss://relay.damus.io","wss://relay.nostr.band","wss://relay.nostr.bg","wss://nos.lol","wss://nostr.mom"];let AN=null,ON=null;const NN=()=>{if(!ON){const e=new kN({dbName:"memestr-local"});ON=new Xw({cacheAdapter:e,explicitRelayUrls:CN})}return ON},PN=()=>(AN||(AN=new za),AN),jN=async e=>{const t={kinds:[7],"#e":e},n=PN(),r=await n.list(CN,[t]),i={};return r.forEach((e=>{var t;const n=null===(t=e.tags.find((e=>"e"===e[0])))||void 0===t?void 0:t[1];n&&(i[n]=(i[n]||0)+1)})),i},DN=async e=>{const t=PN(),n=await t.list(CN,[e]),r=[...new Set(n.map((e=>e.pubkey)))],i=await async function(e){const t=PN(),n={kinds:[0],authors:e};return await t.list(CN,[n])}(r),o={};for(const a of i)try{if(o[a.pubkey])continue;const e=new $b(ON,a),t=await fw(e);ON.cacheAdapter.saveProfile(a.pubkey,t),o[a.pubkey]=f(f({},t),{},{pubkey:a.pubkey})}catch(kU){console.error("Profile parsing error",kU)}return n.map((e=>f(f({},e),{},{profile:o[e.pubkey]||null})))};var RN=__webpack_require__(4414);const TN={},IN=e=>{let{children:t,filterTags:n=["memes","meme","funny","memestr"]}=e;const[r,i]=(0,a.useState)([]),[o,s]=(0,a.useState)(null),[l,c]=(0,a.useState)(!1),[u,d]=(0,a.useState)(0),h=a.useMemo((()=>n),[n]);async function p(e){return e.map((e=>f({},e))).filter((e=>/(https?:\/\/[^\s]+(\.jpg|\.mp4|\.gif))/gi.test(e.content))).sort(((e,t)=>t.created_at-e.created_at))}async function g(e){const t=e.map((e=>e.id)),n=await jN(t);return e.map((e=>f(f({},e),{},{voteCount:n[e.id]||0})))}(0,a.useEffect)((()=>{(async()=>{var e;if(i([]),c(!0),TN[h]){i(TN[h]),c(!1);const e=await g(TN[h]);return void i(e)}const t={limit:10,"#t":h},n=await DN(t),r=await p(n);i(r),s((null===(e=r[r.length-1])||void 0===e?void 0:e.created_at)||null),c(!1);const o=await g(r);TN[h]=o,i(o)})()}),[h]);const y=new Set;return(0,RN.jsx)(FN.Provider,{value:{notes:r,scrollPosition:u,setScrollPosition:d,isLoading:l,LoadMoreMedia:async()=>{if(o&&!y.has(o)){y.add(o);try{const e={limit:50,"#t":n,until:o-300},t=await DN(e),r=await p(t);i((e=>{const t=new Set(e.map((e=>e.id))),n=r.filter((e=>!t.has(e.id)));return[...e,...n]}));const a=await g(r);i((e=>{const t=new Map(e.map((e=>[e.id,e])));return a.forEach((e=>t.set(e.id,e))),Array.from(t.values()).sort(((e,t)=>t.created_at-e.created_at))}));const l=a.reduce(((e,t)=>t.created_at<e.created_at?t:e),{created_at:1/0});s(l.created_at||o-1e4)}finally{y.delete(o),c(!1)}}},filterTags:n},children:t})},FN=(0,a.createContext)();function LN(){return LN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LN.apply(this,arguments)}var BN;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(BN||(BN={}));const MN="popstate";function UN(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function zN(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(oR){}}}function HN(e,t){return{usr:e.state,key:e.key,idx:t}}function qN(e,t,n,r){return void 0===n&&(n=null),LN({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?VN(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function KN(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function VN(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function GN(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=BN.Pop,l=null,c=u();function u(){return(a.state||{idx:null}).idx}function d(){s=BN.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:KN(e);return n=n.replace(/ $/,"%20"),UN(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,a.replaceState(LN({},a.state,{idx:c}),""));let f={get action(){return s},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(MN,d),l=e,()=>{i.removeEventListener(MN,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=BN.Push;let r=qN(f.location,e,t);n&&n(r,e),c=u()+1;let d=HN(r,c),h=f.createHref(r);try{a.pushState(d,"",h)}catch(kU){if(kU instanceof DOMException&&"DataCloneError"===kU.name)throw kU;i.location.assign(h)}o&&l&&l({action:s,location:f.location,delta:1})},replace:function(e,t){s=BN.Replace;let r=qN(f.location,e,t);n&&n(r,e),c=u();let i=HN(r,c),d=f.createHref(r);a.replaceState(i,"",d),o&&l&&l({action:s,location:f.location,delta:0})},go:e=>a.go(e)};return f}var WN;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(WN||(WN={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function YN(e,t,n){return void 0===n&&(n="/"),ZN(e,t,n,!1)}function ZN(e,t,n,r){let i=cP(("string"===typeof t?VN(t):t).pathname||"/",n);if(null==i)return null;let o=QN(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=lP(i);a=aP(o[s],e,r)}return a}function QN(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(UN(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=pP([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(UN(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),QN(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:oP(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of $N(e.path))i(e,t,r);else i(e,t)})),t}function $N(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=$N(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const JN=/^:[\w-]+$/,XN=3,eP=2,tP=1,nP=10,rP=-2,iP=e=>"*"===e;function oP(e,t){let n=e.split("/"),r=n.length;return n.some(iP)&&(r+=rP),t&&(r+=eP),n.filter((e=>!iP(e))).reduce(((e,t)=>e+(JN.test(t)?XN:""===t?tP:nP)),r)}function aP(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=sP({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=sP({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:pP([o,u.pathname]),pathnameBase:gP(pP([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=pP([o,u.pathnameBase]))}return a}function sP(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);zN("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function lP(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(kU){return zN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+kU+")."),e}}function cP(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function uP(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function dP(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function hP(e,t){let n=dP(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function fP(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=VN(e):(i=LN({},e),UN(!i.pathname||!i.pathname.includes("?"),uP("?","pathname","search",i)),UN(!i.pathname||!i.pathname.includes("#"),uP("#","pathname","hash",i)),UN(!i.search||!i.search.includes("#"),uP("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?VN(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:yP(r),hash:mP(i)}}(i,o),c=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const pP=e=>e.join("/").replace(/\/\/+/g,"/"),gP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yP=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",mP=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function vP(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const bP=["post","put","patch","delete"],wP=(new Set(bP),["get",...bP]);new Set(wP),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function xP(){return xP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xP.apply(this,arguments)}const EP=a.createContext(null);const kP=a.createContext(null);const _P=a.createContext(null);const SP=a.createContext(null);const CP=a.createContext({outlet:null,matches:[],isDataRoute:!1});const AP=a.createContext(null);function OP(){return null!=a.useContext(SP)}function NP(){return OP()||UN(!1),a.useContext(SP).location}function PP(e){a.useContext(_P).static||a.useLayoutEffect(e)}function jP(){let{isDataRoute:e}=a.useContext(CP);return e?function(){let{router:e}=HP(UP.UseNavigateStable),t=KP(zP.UseNavigateStable),n=a.useRef(!1);return PP((()=>{n.current=!0})),a.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,xP({fromRouteId:t},i)))}),[e,t])}():function(){OP()||UN(!1);let e=a.useContext(EP),{basename:t,future:n,navigator:r}=a.useContext(_P),{matches:i}=a.useContext(CP),{pathname:o}=NP(),s=JSON.stringify(hP(i,n.v7_relativeSplatPath)),l=a.useRef(!1);return PP((()=>{l.current=!0})),a.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let a=fP(n,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:pP([t,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}),[t,r,s,o,e])}()}function DP(){let{matches:e}=a.useContext(CP),t=e[e.length-1];return t?t.params:{}}function RP(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=a.useContext(_P),{matches:i}=a.useContext(CP),{pathname:o}=NP(),s=JSON.stringify(hP(i,r.v7_relativeSplatPath));return a.useMemo((()=>fP(e,JSON.parse(s),o,"path"===n)),[e,s,o,n])}function TP(e,t,n,r){OP()||UN(!1);let{navigator:i}=a.useContext(_P),{matches:o}=a.useContext(CP),s=o[o.length-1],l=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let u,d=NP();if(t){var h;let e="string"===typeof t?VN(t):t;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||UN(!1),u=e}else u=d;let f=u.pathname||"/",p=f;if("/"!==c){let e=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=YN(e,{pathname:p});let y=MP(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:pP([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:pP([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n,r);return t&&y?a.createElement(SP.Provider,{value:{location:xP({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:BN.Pop}},y):y}function IP(){let e=function(){var e;let t=a.useContext(AP),n=qP(zP.UseRouteError),r=KP(zP.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=vP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:i},n):null,null)}const FP=a.createElement(IP,null);class LP extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(CP.Provider,{value:this.props.routeContext},a.createElement(AP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BP(e){let{routeContext:t,match:n,children:r}=e,i=a.useContext(EP);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(CP.Provider,{value:t},r)}function MP(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||UN(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let a=0;a<s.length;a++){let e=s[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,r,i)=>{let o,d=!1,h=null,f=null;var p;n&&(o=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||FP,c&&(u<0&&0===i?(p="route-fallback",!1||VP[p]||(VP[p]=!0),d=!0,f=null):u===i&&(d=!0,f=r.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,i+1)),y=()=>{let t;return t=o?h:d?f:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(BP,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?a.createElement(LP,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()}),null)}var UP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(UP||{}),zP=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zP||{});function HP(e){let t=a.useContext(EP);return t||UN(!1),t}function qP(e){let t=a.useContext(kP);return t||UN(!1),t}function KP(e){let t=function(){let e=a.useContext(CP);return e||UN(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||UN(!1),n.route.id}const VP={};const GP={};const WP=(e,t,n)=>{var r;GP[r="\u26a0\ufe0f React Router Future Flag Warning: "+t+". You can use the `"+e+"` future flag to opt-in early. For more information, see "+n+"."]||(GP[r]=!0,console.warn(r))};function YP(e,t){void 0===(null==e?void 0:e.v7_startTransition)&&WP("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&t.v7_relativeSplatPath||WP("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(void 0===t.v7_fetcherPersist&&WP("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===t.v7_normalizeFormMethod&&WP("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===t.v7_partialHydration&&WP("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===t.v7_skipActionErrorRevalidation&&WP("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}s.startTransition;function ZP(e){UN(!1)}function QP(e){let{basename:t="/",children:n=null,location:r,navigationType:i=BN.Pop,navigator:o,static:s=!1,future:l}=e;OP()&&UN(!1);let c=t.replace(/^\/*/,"/"),u=a.useMemo((()=>({basename:c,navigator:o,static:s,future:xP({v7_relativeSplatPath:!1},l)})),[c,l,o,s]);"string"===typeof r&&(r=VN(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,y=a.useMemo((()=>{let e=cP(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:g},navigationType:i}}),[c,d,h,f,p,g,i]);return null==y?null:a.createElement(_P.Provider,{value:u},a.createElement(SP.Provider,{children:n,value:y}))}function $P(e){let{children:t,location:n}=e;return TP(JP(t),n)}new Promise((()=>{}));a.Component;function JP(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,((e,r)=>{if(!a.isValidElement(e))return;let i=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,JP(e.props.children,i));e.type!==ZP&&UN(!1),e.props.index&&e.props.children&&UN(!1);let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=JP(e.props.children,i)),n.push(o)})),n}var XP=__webpack_require__(7119),ej=__webpack_require__.t(XP,2);function tj(){return tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tj.apply(this,arguments)}function nj(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function rj(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ij=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oj=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(oR){}const aj=a.createContext({isTransitioning:!1});new Map;const sj=s.startTransition;ej.flushSync,s.useId;function lj(e){let{basename:t,children:n,future:r,window:i}=e,o=a.useRef();var s;null==o.current&&(o.current=(void 0===(s={window:i,v5Compat:!0})&&(s={}),GN((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=VN(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),qN("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:KN(t))}),(function(e,t){zN("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),s)));let l=o.current,[c,u]=a.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=a.useCallback((e=>{d&&sj?sj((()=>u(e))):u(e)}),[u,d]);return a.useLayoutEffect((()=>l.listen(h)),[l,h]),a.useEffect((()=>YP(r)),[r]),a.createElement(QP,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const cj="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,uj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dj=a.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=nj(e,ij),{basename:p}=a.useContext(_P),g=!1;if("string"===typeof u&&uj.test(u)&&(n=u,cj))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=cP(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(oR){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;OP()||UN(!1);let{basename:r,navigator:i}=a.useContext(_P),{hash:o,pathname:s,search:l}=RP(e,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:pP([r,s])),i.createHref({pathname:c,search:l,hash:o})}(u,{relative:i}),m=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:l}=void 0===t?{}:t,c=jP(),u=NP(),d=RP(e,{relative:s});return a.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:KN(u)===KN(d);c(e,{replace:n,state:i,preventScrollReset:o,relative:s,viewTransition:l})}}),[u,c,d,r,i,n,e,o,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});return a.createElement("a",tj({},f,{href:n||y,onClick:g||o?r:function(e){r&&r(e),e.defaultPrevented||m(e)},ref:t,target:c}))}));const hj=a.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:i="",end:o=!1,style:s,to:l,viewTransition:c,children:u}=e,d=nj(e,oj),h=RP(l,{relative:d.relative}),f=NP(),p=a.useContext(kP),{navigator:g,basename:y}=a.useContext(_P),m=null!=p&&function(e,t){void 0===t&&(t={});let n=a.useContext(aj);null==n&&UN(!1);let{basename:r}=gj(fj.useViewTransitionState),i=RP(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=cP(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=cP(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=sP(i.pathname,s)||null!=sP(i.pathname,o)}(h)&&!0===c,v=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,b=f.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(b=b.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&y&&(w=cP(w,y)||w);const x="/"!==v&&v.endsWith("/")?v.length-1:v.length;let E,k=b===v||!o&&b.startsWith(v)&&"/"===b.charAt(x),_=null!=w&&(w===v||!o&&w.startsWith(v)&&"/"===w.charAt(v.length)),S={isActive:k,isPending:_,isTransitioning:m},C=k?n:void 0;E="function"===typeof i?i(S):[i,k?"active":null,_?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof s?s(S):s;return a.createElement(dj,tj({},d,{"aria-current":C,className:E,ref:t,style:A,to:l,viewTransition:c}),"function"===typeof u?u(S):u)}));var fj,pj;function gj(e){let t=a.useContext(EP);return t||UN(!1),t}function yj(e){let t=a.useRef(rj(e)),n=a.useRef(!1),r=NP(),i=a.useMemo((()=>function(e,t){let n=rj(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),o=jP(),s=a.useCallback(((e,t)=>{const r=rj("function"===typeof e?e(i):e);n.current=!0,o("?"+r,t)}),[o,i]);return[i,s]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fj||(fj={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(pj||(pj={}));var mj;const vj=["title","titleId"];function bj(){return bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bj.apply(null,arguments)}function wj(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,vj);return a.createElement("svg",bj({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,mj||(mj=a.createElement("path",{d:"M5 12h14m0 0l-6-6m6 6l-6 6"})))}const xj=a.forwardRef(wj);__webpack_require__.p;const Ej=function(){return(0,RN.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"50vh",marginTop:"25vh",backgroundColor:"transparent"},children:(0,RN.jsxs)("div",{className:"lds-ellipsis",children:[(0,RN.jsx)("div",{}),(0,RN.jsx)("div",{}),(0,RN.jsx)("div",{}),(0,RN.jsx)("div",{})]})})};var kj=new TextDecoder("utf-8");new TextEncoder;function _j(e){let{prefix:t,words:n}=Pt.decode(e,5e3),r=new Uint8Array(Pt.fromWords(n));switch(t){case"nprofile":{var i;let e=Sj(r);if(null===(i=e[0])||void 0===i||!i[0])throw new Error("missing TLV 0 for nprofile");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:C(e[0][0]),relays:e[1]?e[1].map((e=>kj.decode(e))):[]}}}case"nevent":{var o,a,s;let e=Sj(r);if(null===(o=e[0])||void 0===o||!o[0])throw new Error("missing TLV 0 for nevent");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");if(e[2]&&32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(e[3]&&4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:C(e[0][0]),relays:e[1]?e[1].map((e=>kj.decode(e))):[],author:null!==(a=e[2])&&void 0!==a&&a[0]?C(e[2][0]):void 0,kind:null!==(s=e[3])&&void 0!==s&&s[0]?parseInt(C(e[3][0]),16):void 0}}}case"naddr":{var l,c,u;let e=Sj(r);if(null===(l=e[0])||void 0===l||!l[0])throw new Error("missing TLV 0 for naddr");if(null===(c=e[2])||void 0===c||!c[0])throw new Error("missing TLV 2 for naddr");if(32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(null===(u=e[3])||void 0===u||!u[0])throw new Error("missing TLV 3 for naddr");if(4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:kj.decode(e[0][0]),pubkey:C(e[2][0]),kind:parseInt(C(e[3][0]),16),relays:e[1]?e[1].map((e=>kj.decode(e))):[]}}}case"nrelay":{var d;let e=Sj(r);if(null===(d=e[0])||void 0===d||!d[0])throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:kj.decode(e[0][0])}}case"nsec":case"npub":case"note":return{type:t,data:C(r)};default:throw new Error("unknown prefix ".concat(t))}}function Sj(e){let t={},n=e;for(;n.length>0;){let e=n[0],r=n[1];if(!r)throw new Error("malformed TLV ".concat(e));let i=n.slice(2,2+r);if(n=n.slice(2+r),i.length<r)throw new Error("not enough data to read on TLV ".concat(e));t[e]=t[e]||[],t[e].push(i)}return t}var Cj=/\bnostr:((note|npub|naddr|nevent|nprofile)1\w+)\b|#\[(\d+)\]/g;function Aj(e){let t=[];for(let r of e.content.matchAll(Cj))if(r[2])try{let{type:e,data:n}=_j(r[1]);switch(e){case"npub":t.push({text:r[0],profile:{pubkey:n,relays:[]}});break;case"nprofile":t.push({text:r[0],profile:n});break;case"note":t.push({text:r[0],event:{id:n,relays:[]}});break;case"nevent":t.push({text:r[0],event:n});break;case"naddr":t.push({text:r[0],address:n})}}catch(n){}else if(r[3]){let i=parseInt(r[3],10),o=e.tags[i];if(!o)continue;switch(o[0]){case"p":t.push({text:r[0],profile:{pubkey:o[1],relays:o[2]?[o[2]]:[]}});break;case"e":t.push({text:r[0],event:{id:o[1],relays:o[2]?[o[2]]:[]}});break;case"a":try{let[e,n,i]=o[1].split(":");t.push({text:r[0],address:{identifier:i,pubkey:n,kind:parseInt(e,10),relays:o[2]?[o[2]]:[]}})}catch(n){}}}return t}const Oj=e=>Ha.decode(e).data;let Nj={};const Pj=async e=>{let{profile:t,event:n,amount:r,relays:i,comment:o}=e;return(async e=>{if(jj())try{return await window.nostr.signEvent(e)}catch(oR){}const t=localStorage.getItem("memestr");if(!t)return void alert("Login required to upvote.");let n=JSON.parse(t).privateKey;return ka(e,Ha.decode(n).data)})(Ws.makeZapRequest({profile:t,event:n,amount:r,relays:i,comment:o}))},jj=()=>void 0!==window&&void 0!==window.nostr;function Dj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rj(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}function Tj(){let e=[],t={addEventListener:(e,n,r,i)=>(e.addEventListener(n,r,i),t.add((()=>e.removeEventListener(n,r,i)))),requestAnimationFrame(){let e=requestAnimationFrame(...arguments);return t.add((()=>cancelAnimationFrame(e)))},nextFrame(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.requestAnimationFrame((()=>t.requestAnimationFrame(...n)))},setTimeout(){let e=setTimeout(...arguments);return t.add((()=>clearTimeout(e)))},microTask(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];let i={current:!0};return Rj((()=>{i.current&&n[0]()})),t.add((()=>{i.current=!1}))},style(e,t,n){let r=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:n}),this.add((()=>{Object.assign(e.style,{[t]:r})}))},group(e){let t=Tj();return e(t),this.add((()=>t.dispose()))},add:t=>(e.push(t),()=>{let n=e.indexOf(t);if(n>=0)for(let t of e.splice(n,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function Ij(){let[e]=(0,a.useState)(Tj);return(0,a.useEffect)((()=>()=>e.dispose()),[e]),e}var Fj=Object.defineProperty,Lj=(e,t,n)=>(((e,t,n)=>{t in e?Fj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);let Bj=new class{constructor(){Lj(this,"current",this.detect()),Lj(this,"handoffState","pending"),Lj(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}},Mj=(e,t)=>{Bj.isServer?(0,a.useEffect)(e,t):(0,a.useLayoutEffect)(e,t)};function Uj(e){let t=(0,a.useRef)(e);return Mj((()=>{t.current=e}),[e]),t}let zj=function(e){let t=Uj(e);return a.useCallback((function(){return t.current(...arguments)}),[t])};function Hj(){let e=(0,a.useRef)(!1);return Mj((()=>(e.current=!0,()=>{e.current=!1})),[]),e}function qj(){let e=function(){let e="undefined"==typeof document;return(e=>e.useSyncExternalStore)(s)((()=>()=>{}),(()=>!1),(()=>!e))}(),[t,n]=a.useState(Bj.isHandoffComplete);return t&&!1===Bj.isHandoffComplete&&n(!1),a.useEffect((()=>{!0!==t&&n(!0)}),[t]),a.useEffect((()=>Bj.handoff()),[]),!e&&t}let Kj=Symbol();function Vj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=(0,a.useRef)(t);(0,a.useEffect)((()=>{r.current=t}),[t]);let i=zj((e=>{for(let t of r.current)null!=t&&("function"==typeof t?t(e):t.current=e)}));return t.every((e=>null==e||(null==e?void 0:e[Kj])))?void 0:i}function Gj(e,t){if(e in t){let o=t[e];for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return"function"==typeof o?o(...r):o}let o=new Error('Tried to handle "'.concat(e,'" but there is no handler defined. Only defined handlers are: ').concat(Object.keys(t).map((e=>'"'.concat(e,'"'))).join(", "),"."));throw Error.captureStackTrace&&Error.captureStackTrace(o,Gj),o}function Wj(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e&&n.length>0&&e.classList.add(...n)}function Yj(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e&&n.length>0&&e.classList.remove(...n)}function Zj(e,t,n,r){let i=n?"enter":"leave",o=Tj(),a=void 0!==r?function(e){let t={called:!1};return function(){if(!t.called)return t.called=!0,e(...arguments)}}(r):()=>{};"enter"===i&&(e.removeAttribute("hidden"),e.style.display="");let s=Gj(i,{enter:()=>t.enter,leave:()=>t.leave}),l=Gj(i,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),c=Gj(i,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Yj(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Wj(e,...t.base,...s,...c),o.nextFrame((()=>{Yj(e,...t.base,...s,...c),Wj(e,...t.base,...s,...l),function(e,t){let n=Tj();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(e),[o,a]=[r,i].map((e=>{let[t=0]=e.split(",").filter(Boolean).map((e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e))).sort(((e,t)=>t-e));return t})),s=o+a;if(0!==s){n.group((n=>{n.setTimeout((()=>{t(),n.dispose()}),s),n.addEventListener(e,"transitionrun",(e=>{e.target===e.currentTarget&&n.dispose()}))}));let r=n.addEventListener(e,"transitionend",(e=>{e.target===e.currentTarget&&(t(),r())}))}else t();n.add((()=>t())),n.dispose}(e,(()=>(Yj(e,...t.base,...s),Wj(e,...t.base,...t.entered),a())))})),o.dispose}let Qj=(0,a.createContext)(null);Qj.displayName="OpenClosedContext";var $j=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))($j||{});function Jj(){return(0,a.useContext)(Qj)}function Xj(e){let{value:t,children:n}=e;return a.createElement(Qj.Provider,{value:t},n)}function eD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.from(new Set(t.flatMap((e=>"string"==typeof e?e.split(" "):[])))).filter(Boolean).join(" ")}const tD=["static"],nD=["unmount"],rD=["as","children","refName"];var iD=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(iD||{}),oD=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(oD||{});function aD(e){let{ourProps:t,theirProps:n,slot:r,defaultTag:i,features:o,visible:a=!0,name:s,mergeRefs:l}=e;l=null!=l?l:lD;let c=cD(n,t);if(a)return sD(c,r,i,s,l);let u=null!=o?o:0;if(2&u){let{static:e=!1}=c,t=Dj(c,tD);if(e)return sD(t,r,i,s,l)}if(1&u){let{unmount:e=!0}=c,t=Dj(c,nD);return Gj(e?0:1,{0:()=>null,1:()=>sD(f(f({},t),{},{hidden:!0,style:{display:"none"}}),r,i,s,l)})}return sD(c,r,i,s,l)}function sD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=hD(e,["unmount","static"]),{as:s=n,children:l,refName:c="ref"}=o,u=Dj(o,rD),d=void 0!==e.ref?{[c]:e.ref}:{},h="function"==typeof l?l(t):l;"className"in u&&u.className&&"function"==typeof u.className&&(u.className=u.className(t));let f={};if(t){let e=!1,n=[];for(let[r,i]of Object.entries(t))"boolean"==typeof i&&(e=!0),!0===i&&n.push(r);e&&(f["data-headlessui-state"]=n.join(" "))}if(s===a.Fragment&&Object.keys(dD(u)).length>0){if(!(0,a.isValidElement)(h)||Array.isArray(h)&&h.length>1)throw new Error(['Passing props on "Fragment"!',"","The current component <".concat(r,' /> is rendering a "Fragment".'),"However we need to passthrough the following props:",Object.keys(u).map((e=>"  - ".concat(e))).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>"  - ".concat(e))).join("\n")].join("\n"));let e=h.props,t="function"==typeof(null==e?void 0:e.className)?function(){return eD(null==e?void 0:e.className(...arguments),u.className)}:eD(null==e?void 0:e.className,u.className),n=t?{className:t}:{};return(0,a.cloneElement)(h,Object.assign({},cD(h.props,dD(hD(u,["ref"]))),f,d,{ref:i(h.ref,d.ref)},n))}return(0,a.createElement)(s,Object.assign({},hD(u,["ref"]),s!==a.Fragment&&d,s!==a.Fragment&&f),h)}function lD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((e=>null==e))?void 0:e=>{for(let n of t)null!=n&&("function"==typeof n?n(e):n.current=e)}}function cD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return{};if(1===t.length)return t[0];let r={},i={};for(let o of t)for(let e in o)e.startsWith("on")&&"function"==typeof o[e]?(null!=i[e]||(i[e]=[]),i[e].push(o[e])):r[e]=o[e];if(r.disabled||r["aria-disabled"])return Object.assign(r,Object.fromEntries(Object.keys(i).map((e=>[e,void 0]))));for(let o in i)Object.assign(r,{[o](e){let t=i[o];for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(let i of t){if((e instanceof Event||(null==e?void 0:e.nativeEvent)instanceof Event)&&e.defaultPrevented)return;i(e,...r)}}});return r}function uD(e){var t;return Object.assign((0,a.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function dD(e){let t=Object.assign({},e);for(let n in t)void 0===t[n]&&delete t[n];return t}function hD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}const fD=["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"],pD=["show","appear","unmount"];function gD(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(/\s+/).filter((e=>e.length>1))}let yD=(0,a.createContext)(null);yD.displayName="TransitionContext";var mD=(e=>(e.Visible="visible",e.Hidden="hidden",e))(mD||{});let vD=(0,a.createContext)(null);function bD(e){return"children"in e?bD(e.children):e.current.filter((e=>{let{el:t}=e;return null!==t.current})).filter((e=>{let{state:t}=e;return"visible"===t})).length>0}function wD(e,t){let n=Uj(e),r=(0,a.useRef)([]),i=Hj(),o=Ij(),s=zj((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oD.Hidden,a=r.current.findIndex((t=>{let{el:n}=t;return n===e}));-1!==a&&(Gj(t,{[oD.Unmount](){r.current.splice(a,1)},[oD.Hidden](){r.current[a].state="hidden"}}),o.microTask((()=>{var e;!bD(r)&&i.current&&(null==(e=n.current)||e.call(n))})))})),l=zj((e=>{let t=r.current.find((t=>{let{el:n}=t;return n===e}));return t?"visible"!==t.state&&(t.state="visible"):r.current.push({el:e,state:"visible"}),()=>s(e,oD.Unmount)})),c=(0,a.useRef)([]),u=(0,a.useRef)(Promise.resolve()),d=(0,a.useRef)({enter:[],leave:[],idle:[]}),h=zj(((e,n,r)=>{c.current.splice(0),t&&(t.chains.current[n]=t.chains.current[n].filter((t=>{let[n]=t;return n!==e}))),null==t||t.chains.current[n].push([e,new Promise((e=>{c.current.push(e)}))]),null==t||t.chains.current[n].push([e,new Promise((e=>{Promise.all(d.current[n].map((e=>{let[t,n]=e;return n}))).then((()=>e()))}))]),"enter"===n?u.current=u.current.then((()=>null==t?void 0:t.wait.current)).then((()=>r(n))):r(n)})),f=zj(((e,t,n)=>{Promise.all(d.current[t].splice(0).map((e=>{let[t,n]=e;return n}))).then((()=>{var e;null==(e=c.current.shift())||e()})).then((()=>n(t)))}));return(0,a.useMemo)((()=>({children:r,register:l,unregister:s,onStart:h,onStop:f,wait:u,chains:d})),[l,s,r,h,f,d,u])}function xD(){}vD.displayName="NestingContext";let ED=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function kD(e){var t;let n={};for(let r of ED)n[r]=null!=(t=e[r])?t:xD;return n}let _D=iD.RenderStrategy;let SD=uD((function(e,t){let{show:n,appear:r=!1,unmount:i=!0}=e,o=Dj(e,pD),s=(0,a.useRef)(null),l=Vj(s,t);qj();let c=Jj();if(void 0===n&&null!==c&&(n=(c&$j.Open)===$j.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=(0,a.useState)(n?"visible":"hidden"),h=wD((()=>{d("hidden")})),[p,g]=(0,a.useState)(!0),y=(0,a.useRef)([n]);Mj((()=>{!1!==p&&y.current[y.current.length-1]!==n&&(y.current.push(n),g(!1))}),[y,n]);let m=(0,a.useMemo)((()=>({show:n,appear:r,initial:p})),[n,r,p]);(0,a.useEffect)((()=>{if(n)d("visible");else if(bD(h)){let e=s.current;if(!e)return;let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&d("hidden")}else d("hidden")}),[n,h]);let v={unmount:i},b=zj((()=>{var t;p&&g(!1),null==(t=e.beforeEnter)||t.call(e)})),w=zj((()=>{var t;p&&g(!1),null==(t=e.beforeLeave)||t.call(e)}));return a.createElement(vD.Provider,{value:h},a.createElement(yD.Provider,{value:m},aD({ourProps:f(f({},v),{},{as:a.Fragment,children:a.createElement(CD,f(f(f({ref:l},v),o),{},{beforeEnter:b,beforeLeave:w}))}),theirProps:{},defaultTag:a.Fragment,features:_D,visible:"visible"===u,name:"Transition"})))})),CD=uD((function(e,t){var n,r;let{beforeEnter:i,afterEnter:o,beforeLeave:s,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:h,leave:p,leaveFrom:g,leaveTo:y}=e,m=Dj(e,fD),v=(0,a.useRef)(null),b=Vj(v,t),w=null==(n=m.unmount)||n?oD.Unmount:oD.Hidden,{show:x,appear:E,initial:k}=function(){let e=(0,a.useContext)(yD);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[_,S]=(0,a.useState)(x?"visible":"hidden"),C=function(){let e=(0,a.useContext)(vD);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:A,unregister:O}=C;(0,a.useEffect)((()=>A(v)),[A,v]),(0,a.useEffect)((()=>{if(w===oD.Hidden&&v.current)return x&&"visible"!==_?void S("visible"):Gj(_,{hidden:()=>O(v),visible:()=>A(v)})}),[_,v,A,O,x,w]);let N=Uj({base:gD(m.className),enter:gD(c),enterFrom:gD(u),enterTo:gD(d),entered:gD(h),leave:gD(p),leaveFrom:gD(g),leaveTo:gD(y)}),P=function(e){let t=(0,a.useRef)(kD(e));return(0,a.useEffect)((()=>{t.current=kD(e)}),[e]),t}({beforeEnter:i,afterEnter:o,beforeLeave:s,afterLeave:l}),j=qj();(0,a.useEffect)((()=>{if(j&&"visible"===_&&null===v.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[v,_,j]);let D=E&&x&&k,R=!j||k&&!E?"idle":x?"enter":"leave",T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,[t,n]=(0,a.useState)(e),r=Hj(),i=(0,a.useCallback)((e=>{r.current&&n((t=>t|e))}),[t,r]),o=(0,a.useCallback)((e=>Boolean(t&e)),[t]),s=(0,a.useCallback)((e=>{r.current&&n((t=>t&~e))}),[n,r]),l=(0,a.useCallback)((e=>{r.current&&n((t=>t^e))}),[n]);return{flags:t,addFlag:i,hasFlag:o,removeFlag:s,toggleFlag:l}}(0),I=zj((e=>Gj(e,{enter:()=>{T.addFlag($j.Opening),P.current.beforeEnter()},leave:()=>{T.addFlag($j.Closing),P.current.beforeLeave()},idle:()=>{}}))),F=zj((e=>Gj(e,{enter:()=>{T.removeFlag($j.Opening),P.current.afterEnter()},leave:()=>{T.removeFlag($j.Closing),P.current.afterLeave()},idle:()=>{}}))),L=wD((()=>{S("hidden"),O(v)}),C),B=(0,a.useRef)(!1);!function(e){let{immediate:t,container:n,direction:r,classes:i,onStart:o,onStop:a}=e,s=Hj(),l=Ij(),c=Uj(r);Mj((()=>{t&&(c.current="enter")}),[t]),Mj((()=>{let e=Tj();l.add(e.dispose);let t=n.current;if(t&&"idle"!==c.current&&s.current)return e.dispose(),o.current(c.current),e.add(Zj(t,i.current,"enter"===c.current,(()=>{e.dispose(),a.current(c.current)}))),e.dispose}),[r])}({immediate:D,container:v,classes:N,direction:R,onStart:Uj((e=>{B.current=!0,L.onStart(v,e,I)})),onStop:Uj((e=>{B.current=!1,L.onStop(v,e,F),"leave"===e&&!bD(L)&&(S("hidden"),O(v))}))});let M=m,U={ref:b};return D?M=f(f({},M),{},{className:eD(m.className,...N.current.enter,...N.current.enterFrom)}):B.current&&(M.className=eD(m.className,null==(r=v.current)?void 0:r.className),""===M.className&&delete M.className),a.createElement(vD.Provider,{value:L},a.createElement(Xj,{value:Gj(_,{visible:$j.Open,hidden:$j.Closed})|T.flags},aD({ourProps:U,theirProps:M,defaultTag:"div",features:_D,visible:"visible"===_,name:"Transition.Child"})))})),AD=uD((function(e,t){let n=null!==(0,a.useContext)(yD),r=null!==Jj();return a.createElement(a.Fragment,null,!n&&r?a.createElement(SD,f({ref:t},e)):a.createElement(CD,f({ref:t},e)))})),OD=Object.assign(SD,{Child:AD,Root:SD});function ND(e,t,n,r){let i=Uj(n);(0,a.useEffect)((()=>{function n(e){i.current(e)}return(e=null!=e?e:window).addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}),[e,t,r])}function PD(e){let t=zj(e),n=(0,a.useRef)(!1);(0,a.useEffect)((()=>(n.current=!1,()=>{n.current=!0,Rj((()=>{n.current&&t()}))})),[t])}function jD(e){return Bj.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function DD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.useMemo)((()=>jD(...t)),[...t])}function RD(e,t,n){let r=Uj(t);(0,a.useEffect)((()=>{function t(e){r.current(e)}return window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)}),[e,n])}var TD=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(TD||{});function ID(e,t){let n=(0,a.useRef)([]),r=zj(e);(0,a.useEffect)((()=>{let e=[...n.current];for(let[i,o]of t.entries())if(n.current[i]!==o){let i=r(t,e);return n.current=t,i}}),[r,...t])}const FD=["features"];var LD=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(LD||{});let BD=uD((function(e,t){var n;let{features:r=1}=e,i=Dj(e,FD);return aD({ourProps:{ref:t,"aria-hidden":2===(2&r)||(null!=(n=i["aria-hidden"])?n:void 0),hidden:4===(4&r)||void 0,style:f({position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},4===(4&r)&&2!==(2&r)&&{display:"none"})},theirProps:i,slot:{},defaultTag:"div",name:"Hidden"})}));let MD=[];!function(e){function t(){"loading"!==document.readyState&&(e(),document.removeEventListener("DOMContentLoaded",t))}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",t),t())}((()=>{function e(e){e.target instanceof HTMLElement&&e.target!==document.body&&MD[0]!==e.target&&(MD.unshift(e.target),MD=MD.filter((e=>null!=e&&e.isConnected)),MD.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})}));let UD=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>"".concat(e,":not([tabindex='-1'])"))).join(",");var zD=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(zD||{}),HD=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(HD||{}),qD=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(qD||{});function KD(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(UD)).sort(((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER))))}var VD=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(VD||{});function GD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var n;return e!==(null==(n=jD(e))?void 0:n.body)&&Gj(t,{0:()=>e.matches(UD),1(){let t=e;for(;null!==t;){if(t.matches(UD))return!0;t=t.parentElement}return!1}})}function WD(e){let t=jD(e);Tj().nextFrame((()=>{t&&!GD(t.activeElement,0)&&ZD(e)}))}var YD=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(YD||{});function ZD(e){null==e||e.focus({preventScroll:!0})}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",(e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")}),!0),document.addEventListener("click",(e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")}),!0));let QD=["textarea","input"].join(",");function $D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return e.slice().sort(((e,n)=>{let r=t(e),i=t(n);if(null===r||null===i)return 0;let o=r.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function JD(e,t){let{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?$D(e):e:KD(e);i.length>0&&a.length>1&&(a=a.filter((e=>!i.includes(e)))),r=null!=r?r:o.activeElement;let s,l=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,a.indexOf(r))-1;if(4&t)return Math.max(0,a.indexOf(r))+1;if(8&t)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=32&t?{preventScroll:!0}:{},d=0,h=a.length;do{if(d>=h||d+h<=0)return 0;let e=c+d;if(16&t)e=(e+h)%h;else{if(e<0)return 3;if(e>=h)return 1}s=a[e],null==s||s.focus(u),d+=l}while(s!==o.activeElement);return 6&t&&function(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,QD))&&n}(s)&&s.select(),2}const XD=["initialFocus","containers","features"];function eR(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}var tR=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(tR||{});let nR=uD((function(e,t){let n=(0,a.useRef)(null),r=Vj(n,t),{initialFocus:i,containers:o,features:s=30}=e,l=Dj(e,XD);qj()||(s=1);let c=DD(n);!function(e,t){let{ownerDocument:n}=e,r=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,a.useRef)(MD.slice());return ID(((e,n)=>{let[r]=e,[i]=n;!0===i&&!1===r&&Rj((()=>{t.current.splice(0)})),!1===i&&!0===r&&(t.current=MD.slice())}),[e,MD,t]),zj((()=>{var e;return null!=(e=t.current.find((e=>null!=e&&e.isConnected)))?e:null}))}(t);ID((()=>{t||(null==n?void 0:n.activeElement)===(null==n?void 0:n.body)&&ZD(r())}),[t]),PD((()=>{t&&ZD(r())}))}({ownerDocument:c},Boolean(16&s));let u=function(e,t){let{ownerDocument:n,container:r,initialFocus:i}=e,o=(0,a.useRef)(null),s=Hj();return ID((()=>{if(!t)return;let e=r.current;e&&Rj((()=>{if(!s.current)return;let t=null==n?void 0:n.activeElement;if(null!=i&&i.current){if((null==i?void 0:i.current)===t)return void(o.current=t)}else if(e.contains(t))return void(o.current=t);null!=i&&i.current?ZD(i.current):JD(e,zD.First)===HD.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.current=null==n?void 0:n.activeElement}))}),[t]),o}({ownerDocument:c,container:n,initialFocus:i},Boolean(2&s));!function(e,t){let{ownerDocument:n,container:r,containers:i,previousActiveElement:o}=e,a=Hj();ND(null==n?void 0:n.defaultView,"focus",(e=>{if(!t||!a.current)return;let n=eR(i);r.current instanceof HTMLElement&&n.add(r.current);let s=o.current;if(!s)return;let l=e.target;l&&l instanceof HTMLElement?iR(n,l)?(o.current=l,ZD(l)):(e.preventDefault(),e.stopPropagation(),ZD(s)):ZD(o.current)}),!0)}({ownerDocument:c,container:n,containers:o,previousActiveElement:u},Boolean(8&s));let d=function(){let e=(0,a.useRef)(0);return RD("keydown",(t=>{"Tab"===t.key&&(e.current=t.shiftKey?1:0)}),!0),e}(),h=zj((e=>{let t=n.current;t&&Gj(d.current,{[TD.Forwards]:()=>{JD(t,zD.First,{skipElements:[e.relatedTarget]})},[TD.Backwards]:()=>{JD(t,zD.Last,{skipElements:[e.relatedTarget]})}})})),f=Ij(),p=(0,a.useRef)(!1),g={ref:r,onKeyDown(e){"Tab"==e.key&&(p.current=!0,f.requestAnimationFrame((()=>{p.current=!1})))},onBlur(e){let t=eR(o);n.current instanceof HTMLElement&&t.add(n.current);let r=e.relatedTarget;r instanceof HTMLElement&&"true"!==r.dataset.headlessuiFocusGuard&&(iR(t,r)||(p.current?JD(n.current,Gj(d.current,{[TD.Forwards]:()=>zD.Next,[TD.Backwards]:()=>zD.Previous})|zD.WrapAround,{relativeTo:e.target}):e.target instanceof HTMLElement&&ZD(e.target)))}};return a.createElement(a.Fragment,null,Boolean(4&s)&&a.createElement(BD,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:LD.Focusable}),aD({ourProps:g,theirProps:l,defaultTag:"div",name:"FocusTrap"}),Boolean(4&s)&&a.createElement(BD,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:LD.Focusable}))})),rR=Object.assign(nR,{features:tR});function iR(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let oR=(0,a.createContext)(!1);function aR(){return(0,a.useContext)(oR)}function sR(e){return a.createElement(oR.Provider,{value:e.force},e.children)}const lR=["target"];let cR=a.Fragment;let uR=a.Fragment,dR=(0,a.createContext)(null);let hR=(0,a.createContext)(null);let fR=uD((function(e,t){let n=e,r=(0,a.useRef)(null),i=Vj(function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object.assign(e,{[Kj]:t})}((e=>{r.current=e})),t),o=DD(r),s=function(e){let t=aR(),n=(0,a.useContext)(dR),r=DD(e),[i,o]=(0,a.useState)((()=>{if(!t&&null!==n||Bj.isServer)return null;let e=null==r?void 0:r.getElementById("headlessui-portal-root");if(e)return e;if(null===r)return null;let i=r.createElement("div");return i.setAttribute("id","headlessui-portal-root"),r.body.appendChild(i)}));return(0,a.useEffect)((()=>{null!==i&&(null!=r&&r.body.contains(i)||null==r||r.body.appendChild(i))}),[i,r]),(0,a.useEffect)((()=>{t||null!==n&&o(n.current)}),[n,o,t]),i}(r),[l]=(0,a.useState)((()=>{var e;return Bj.isServer?null:null!=(e=null==o?void 0:o.createElement("div"))?e:null})),c=(0,a.useContext)(hR),u=qj();return Mj((()=>{!s||!l||s.contains(l)||(l.setAttribute("data-headlessui-portal",""),s.appendChild(l))}),[s,l]),Mj((()=>{if(l&&c)return c.register(l)}),[c,l]),PD((()=>{var e;!s||!l||(l instanceof Node&&s.contains(l)&&s.removeChild(l),s.childNodes.length<=0&&(null==(e=s.parentElement)||e.removeChild(s)))})),u&&s&&l?(0,XP.createPortal)(aD({ourProps:{ref:i},theirProps:n,defaultTag:cR,name:"Portal"}),l):null})),pR=uD((function(e,t){let{target:n}=e,r=Dj(e,lR),i={ref:Vj(t)};return a.createElement(dR.Provider,{value:n},aD({ourProps:i,theirProps:r,defaultTag:uR,name:"Popover.Group"}))})),gR=Object.assign(fR,{Group:pR});const yR="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},{useState:mR,useEffect:vR,useLayoutEffect:bR,useDebugValue:wR}=s;function xR(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!yR(n,e)}catch(cY){return!0}}"undefined"!=typeof window&&"undefined"!=typeof window.document&&window.document.createElement;const ER=(e=>e.useSyncExternalStore)(s);function kR(){let e;return{before(t){let{doc:n}=t;var r;let i=n.documentElement;e=(null!=(r=n.defaultView)?r:window).innerWidth-i.clientWidth},after(t){let{doc:n,d:r}=t,i=n.documentElement,o=i.clientWidth-i.offsetWidth,a=e-o;r.style(i,"paddingRight","".concat(a,"px"))}}}function _R(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function SR(){return _R()||/Android/gi.test(window.navigator.userAgent)}function CR(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let AR=function(e,t){let n=e(),r=new Set;return{getSnapshot:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e)),dispatch(e){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];let s=t[e].call(n,...o);s&&(n=s,r.forEach((e=>e())))}}}((()=>new Map),{PUSH(e,t){var n;let r=null!=(n=this.get(e))?n:{doc:e,count:0,d:Tj(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT(e){let{doc:t,d:n,meta:r}=e,i={doc:t,d:n,meta:CR(r)},o=[_R()?{before(e){let{doc:t,d:n,meta:r}=e;function i(e){return r.containers.flatMap((e=>e())).some((t=>t.contains(e)))}n.microTask((()=>{var e;if("auto"!==window.getComputedStyle(t.documentElement).scrollBehavior){let e=Tj();e.style(t.documentElement,"scrollBehavior","auto"),n.add((()=>n.microTask((()=>e.dispose()))))}let r=null!=(e=window.scrollY)?e:window.pageYOffset,o=null;n.addEventListener(t,"click",(e=>{if(e.target instanceof HTMLElement)try{let n=e.target.closest("a");if(!n)return;let{hash:r}=new URL(n.href),a=t.querySelector(r);a&&!i(a)&&(o=a)}catch(cY){}}),!0),n.addEventListener(t,"touchstart",(e=>{if(e.target instanceof HTMLElement)if(i(e.target)){let t=e.target;for(;t.parentElement&&i(t.parentElement);)t=t.parentElement;n.style(t,"overscrollBehavior","contain")}else n.style(e.target,"touchAction","none")})),n.addEventListener(t,"touchmove",(e=>{if(e.target instanceof HTMLElement)if(i(e.target)){let t=e.target;for(;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()}),{passive:!1}),n.add((()=>{var e;let t=null!=(e=window.scrollY)?e:window.pageYOffset;r!==t&&window.scrollTo(0,r),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)}))}))}}:{},kR(),{before(e){let{doc:t,d:n}=e;n.style(t.documentElement,"overflow","hidden")}}];o.forEach((e=>{let{before:t}=e;return null==t?void 0:t(i)})),o.forEach((e=>{let{after:t}=e;return null==t?void 0:t(i)}))},SCROLL_ALLOW(e){let{d:t}=e;t.dispose()},TEARDOWN(e){let{doc:t}=e;this.delete(t)}});function OR(e,t,n){let r=function(e){return ER(e.subscribe,e.getSnapshot,e.getSnapshot)}(AR),i=e?r.get(e):void 0,o=!!i&&i.count>0;return Mj((()=>{if(e&&t)return AR.dispatch("PUSH",e,n),()=>AR.dispatch("POP",e,n)}),[t,e]),o}var NR;AR.subscribe((()=>{let e=AR.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let e="hidden"===t.get(n.doc),r=0!==n.count;(r&&!e||!r&&e)&&AR.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),0===n.count&&AR.dispatch("TEARDOWN",n)}}));let PR=null!=(NR=a.useId)?NR:function(){let e=qj(),[t,n]=a.useState(e?()=>Bj.nextId():null);return Mj((()=>{null===t&&n(Bj.nextId())}),[t]),null!=t?""+t:void 0},jR=new Map,DR=new Map;function RR(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Mj((()=>{var n;if(!t)return;let r="function"==typeof e?e():e.current;if(!r)return;let i=null!=(n=DR.get(r))?n:0;return DR.set(r,i+1),0!==i||(jR.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),function(){var e;if(!r)return;let t=null!=(e=DR.get(r))?e:1;if(1===t?DR.delete(r):DR.set(r,t-1),1!==t)return;let n=jR.get(r);n&&(null===n["aria-hidden"]?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",n["aria-hidden"]),r.inert=n.inert,jR.delete(r))}}),[e,t])}function TR(e,t,n){let r=Uj(t);(0,a.useEffect)((()=>{function t(e){r.current(e)}return document.addEventListener(e,t,n),()=>document.removeEventListener(e,t,n)}),[e,n])}function IR(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(0,a.useRef)(!1);function i(n,i){if(!r.current||n.defaultPrevented)return;let o=i(n);if(null===o||!o.getRootNode().contains(o)||!o.isConnected)return;let a=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e);for(let e of a){if(null===e)continue;let t=e instanceof HTMLElement?e:e.current;if(null!=t&&t.contains(o)||n.composed&&n.composedPath().includes(t))return}return!GD(o,VD.Loose)&&-1!==o.tabIndex&&n.preventDefault(),t(n,o)}(0,a.useEffect)((()=>{requestAnimationFrame((()=>{r.current=n}))}),[n]);let o=(0,a.useRef)(null);TR("pointerdown",(e=>{var t,n;r.current&&(o.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target)}),!0),TR("mousedown",(e=>{var t,n;r.current&&(o.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target)}),!0),TR("click",(e=>{SR()||o.current&&(i(e,(()=>o.current)),o.current=null)}),!0),TR("touchend",(e=>i(e,(()=>e.target instanceof HTMLElement?e.target:null))),!0),RD("blur",(e=>i(e,(()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null))),!0)}let FR=(0,a.createContext)((()=>{}));FR.displayName="StackContext";var LR=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(LR||{});function BR(e){let{children:t,onUpdate:n,type:r,element:i,enabled:o}=e,s=(0,a.useContext)(FR),l=zj((function(){null==n||n(...arguments),s(...arguments)}));return Mj((()=>{let e=void 0===o||!0===o;return e&&l(0,r,i),()=>{e&&l(1,r,i)}}),[l,r,i,o]),a.createElement(FR.Provider,{value:l},t)}function MR(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}const UR=["id"];let zR=(0,a.createContext)(null);function HR(){let e=(0,a.useContext)(zR);if(null===e){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,HR),e}return e}let qR=uD((function(e,t){let n=PR(),{id:r="headlessui-description-".concat(n)}=e,i=Dj(e,UR),o=HR(),a=Vj(t);return Mj((()=>o.register(r)),[r,o.register]),aD({ourProps:f(f({ref:a},o.props),{},{id:r}),theirProps:i,slot:o.slot||{},defaultTag:"p",name:o.name||"Description"})})),KR=Object.assign(qR,{});var VR=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(VR||{});const GR=["id","open","onClose","initialFocus","role","__demoMode"],WR=["id"],YR=["id"],ZR=["id"],QR=["id"];var $R=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))($R||{}),JR=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(JR||{});let XR={0:(e,t)=>e.titleId===t.id?e:f(f({},e),{},{titleId:t.id})},eT=(0,a.createContext)(null);function tT(e){let t=(0,a.useContext)(eT);if(null===t){let t=new Error("<".concat(e," /> is missing a parent <Dialog /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(t,tT),t}return t}function nT(e,t){return Gj(t.type,XR,e,t)}eT.displayName="DialogContext";let rT=iD.RenderStrategy|iD.Static;let iT=uD((function(e,t){let n=PR(),{id:r="headlessui-dialog-".concat(n),open:i,onClose:o,initialFocus:s,role:l="dialog",__demoMode:c=!1}=e,u=Dj(e,GR),[d,h]=(0,a.useState)(0),f=(0,a.useRef)(!1);l="dialog"===l||"alertdialog"===l?l:(f.current||(f.current=!0,console.warn("Invalid role [".concat(l,"] passed to <Dialog />. Only `dialog` and and `alertdialog` are supported. Using `dialog` instead."))),"dialog");let p=Jj();void 0===i&&null!==p&&(i=(p&$j.Open)===$j.Open);let g=(0,a.useRef)(null),y=Vj(g,t),m=DD(g),v=e.hasOwnProperty("open")||null!==p,b=e.hasOwnProperty("onClose");if(!v&&!b)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!v)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!b)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof i)throw new Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: ".concat(i));if("function"!=typeof o)throw new Error("You provided an `onClose` prop to the `Dialog`, but the value is not a function. Received: ".concat(o));let w=i?0:1,[x,E]=(0,a.useReducer)(nT,{titleId:null,descriptionId:null,panelRef:(0,a.createRef)()}),k=zj((()=>o(!1))),_=zj((e=>E({type:0,id:e}))),S=!!qj()&&(!c&&0===w),C=d>1,A=null!==(0,a.useContext)(eT),[O,N]=function(){let e=(0,a.useContext)(hR),t=(0,a.useRef)([]),n=zj((n=>(t.current.push(n),e&&e.register(n),()=>r(n)))),r=zj((n=>{let r=t.current.indexOf(n);-1!==r&&t.current.splice(r,1),e&&e.unregister(n)})),i=(0,a.useMemo)((()=>({register:n,unregister:r,portals:t})),[n,r,t]);return[t,(0,a.useMemo)((()=>function(e){let{children:t}=e;return a.createElement(hR.Provider,{value:i},t)}),[i])]}(),P={get current(){var e;return null!=(e=x.panelRef.current)?e:g.current}},{resolveContainers:j,mainTreeNodeRef:D,MainTreeNode:R}=function(){let{defaultContainers:e=[],portals:t,mainTreeNodeRef:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r;let i=(0,a.useRef)(null!=(r=null==n?void 0:n.current)?r:null),o=DD(i),s=zj((()=>{var n,r,a;let s=[];for(let t of e)null!==t&&(t instanceof HTMLElement?s.push(t):"current"in t&&t.current instanceof HTMLElement&&s.push(t.current));if(null!=t&&t.current)for(let e of t.current)s.push(e);for(let e of null!=(n=null==o?void 0:o.querySelectorAll("html > *, body > *"))?n:[])e!==document.body&&e!==document.head&&e instanceof HTMLElement&&"headlessui-portal-root"!==e.id&&(e.contains(i.current)||e.contains(null==(a=null==(r=i.current)?void 0:r.getRootNode())?void 0:a.host)||s.some((t=>e.contains(t)))||s.push(e));return s}));return{resolveContainers:s,contains:zj((e=>s().some((t=>t.contains(e))))),mainTreeNodeRef:i,MainTreeNode:(0,a.useMemo)((()=>function(){return null!=n?null:a.createElement(BD,{features:LD.Hidden,ref:i})}),[i,n])}}({portals:O,defaultContainers:[P]}),T=C?"parent":"leaf",I=null!==p&&(p&$j.Closing)===$j.Closing,F=!A&&!I&&S,L=(0,a.useCallback)((()=>{var e,t;return null!=(t=Array.from(null!=(e=null==m?void 0:m.querySelectorAll("body > *"))?e:[]).find((e=>"headlessui-portal-root"!==e.id&&(e.contains(D.current)&&e instanceof HTMLElement))))?t:null}),[D]);RR(L,F);let B=!!C||S,M=(0,a.useCallback)((()=>{var e,t;return null!=(t=Array.from(null!=(e=null==m?void 0:m.querySelectorAll("[data-headlessui-portal]"))?e:[]).find((e=>e.contains(D.current)&&e instanceof HTMLElement)))?t:null}),[D]);RR(M,B),IR(j,(e=>{e.preventDefault(),k()}),!(!S||C));let U=!(C||0!==w);ND(null==m?void 0:m.defaultView,"keydown",(e=>{U&&(e.defaultPrevented||e.key===VR.Escape&&(e.preventDefault(),e.stopPropagation(),k()))})),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>[document.body];OR(e,t,(e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],n]}}))}(m,!(I||0!==w||A),j),(0,a.useEffect)((()=>{if(0!==w||!g.current)return;let e=new ResizeObserver((e=>{for(let t of e){let e=t.target.getBoundingClientRect();0===e.x&&0===e.y&&0===e.width&&0===e.height&&k()}}));return e.observe(g.current),()=>e.disconnect()}),[w,g,k]);let[z,H]=function(){let[e,t]=(0,a.useState)([]);return[e.length>0?e.join(" "):void 0,(0,a.useMemo)((()=>function(e){let n=zj((e=>(t((t=>[...t,e])),()=>t((t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))))),r=(0,a.useMemo)((()=>({register:n,slot:e.slot,name:e.name,props:e.props})),[n,e.slot,e.name,e.props]);return a.createElement(zR.Provider,{value:r},e.children)}),[t])]}(),q=(0,a.useMemo)((()=>[{dialogState:w,close:k,setTitleId:_},x]),[w,x,k,_]),K=(0,a.useMemo)((()=>({open:0===w})),[w]),V={ref:y,id:r,role:l,"aria-modal":0===w||void 0,"aria-labelledby":x.titleId,"aria-describedby":z};return a.createElement(BR,{type:"Dialog",enabled:0===w,element:g,onUpdate:zj(((e,t)=>{"Dialog"===t&&Gj(e,{[LR.Add]:()=>h((e=>e+1)),[LR.Remove]:()=>h((e=>e-1))})}))},a.createElement(sR,{force:!0},a.createElement(gR,null,a.createElement(eT.Provider,{value:q},a.createElement(gR.Group,{target:g},a.createElement(sR,{force:!1},a.createElement(H,{slot:K,name:"Dialog.Description"},a.createElement(rR,{initialFocus:s,containers:j,features:S?Gj(T,{parent:rR.features.RestoreFocus,leaf:rR.features.All&~rR.features.FocusLock}):rR.features.None},a.createElement(N,null,aD({ourProps:V,theirProps:u,slot:K,defaultTag:"div",features:rT,visible:0===w,name:"Dialog"}))))))))),a.createElement(R,null))})),oT=uD((function(e,t){let n=PR(),{id:r="headlessui-dialog-backdrop-".concat(n)}=e,i=Dj(e,YR),[{dialogState:o},s]=tT("Dialog.Backdrop"),l=Vj(t);(0,a.useEffect)((()=>{if(null===s.panelRef.current)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")}),[s.panelRef]);let c=(0,a.useMemo)((()=>({open:0===o})),[o]);return a.createElement(sR,{force:!0},a.createElement(gR,null,aD({ourProps:{ref:l,id:r,"aria-hidden":!0},theirProps:i,slot:c,defaultTag:"div",name:"Dialog.Backdrop"})))})),aT=uD((function(e,t){let n=PR(),{id:r="headlessui-dialog-panel-".concat(n)}=e,i=Dj(e,ZR),[{dialogState:o},s]=tT("Dialog.Panel"),l=Vj(t,s.panelRef),c=(0,a.useMemo)((()=>({open:0===o})),[o]),u=zj((e=>{e.stopPropagation()}));return aD({ourProps:{ref:l,id:r,onClick:u},theirProps:i,slot:c,defaultTag:"div",name:"Dialog.Panel"})})),sT=uD((function(e,t){let n=PR(),{id:r="headlessui-dialog-overlay-".concat(n)}=e,i=Dj(e,WR),[{dialogState:o,close:s}]=tT("Dialog.Overlay"),l=Vj(t),c=zj((e=>{if(e.target===e.currentTarget){if(MR(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),s()}}));return aD({ourProps:{ref:l,id:r,"aria-hidden":!0,onClick:c},theirProps:i,slot:(0,a.useMemo)((()=>({open:0===o})),[o]),defaultTag:"div",name:"Dialog.Overlay"})})),lT=uD((function(e,t){let n=PR(),{id:r="headlessui-dialog-title-".concat(n)}=e,i=Dj(e,QR),[{dialogState:o,setTitleId:s}]=tT("Dialog.Title"),l=Vj(t);(0,a.useEffect)((()=>(s(r),()=>s(null))),[r,s]);let c=(0,a.useMemo)((()=>({open:0===o})),[o]);return aD({ourProps:{ref:l,id:r},theirProps:i,slot:c,defaultTag:"h2",name:"Dialog.Title"})})),cT=Object.assign(iT,{Backdrop:oT,Panel:aT,Overlay:sT,Title:lT,Description:KR});const uT=e=>{let{isOpenm:t,onConfirm:n}=e;const[r,i]=(0,a.useState)(11);let o=(0,a.useRef)(null),[s,l]=(0,a.useState)(t);(0,a.useEffect)((()=>{l(t)}),[t]);return(0,RN.jsx)(OD.Root,{show:s,as:a.Fragment,children:(0,RN.jsxs)(cT,{as:"div",className:"relative z-10",initialFocus:o,onClose:l,children:[(0,RN.jsx)(OD.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,RN.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,RN.jsx)("div",{className:"fixed inset-0 z-10 overflow-hidden",children:(0,RN.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0",children:(0,RN.jsx)(OD.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,RN.jsxs)(cT.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[(0,RN.jsx)("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:(0,RN.jsx)("div",{className:"sm:flex sm:items-start",children:(0,RN.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[(0,RN.jsx)(cT.Title,{as:"h3",className:"text-base font-semibold leading-6 text-gray-900",children:"Zap User"}),(0,RN.jsxs)("div",{className:"mt-2",children:[(0,RN.jsx)("p",{className:"text-sm text-gray-500",children:"Enter the amount you want to Zap."}),(0,RN.jsxs)("div",{children:[(0,RN.jsx)("label",{htmlFor:"sats",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Sats"}),(0,RN.jsx)("input",{type:"number",id:"sats",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"11",value:r,onChange:e=>i(e.target.value),required:!0})]})]})]})})}),(0,RN.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[(0,RN.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-sky-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto",onClick:()=>{l(!1),n(r)},children:"Submit"}),(0,RN.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:()=>l(!1),ref:o,children:"Cancel"})]})]})})})})]})})};var dT;const hT=["title","titleId"];function fT(){return fT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fT.apply(null,arguments)}function pT(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,hT);return a.createElement("svg",fT({width:"800px",height:"800px",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"none",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,dT||(dT=a.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M4 9a5 5 0 1110 0A5 5 0 014 9zm5-7a7 7 0 104.2 12.6.999.999 0 00.093.107l3 3a1 1 0 001.414-1.414l-3-3a.999.999 0 00-.107-.093A7 7 0 009 2z"})))}const gT=a.forwardRef(pT);__webpack_require__.p;var yT,mT;const vT=["title","titleId"];function bT(){return bT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bT.apply(null,arguments)}function wT(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,vT);return a.createElement("svg",bT({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,yT||(yT=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 8C21 6.34315 19.6569 5 18 5H10C8.34315 5 7 6.34315 7 8V20C7 21.6569 8.34315 23 10 23H18C19.6569 23 21 21.6569 21 20V8ZM19 8C19 7.44772 18.5523 7 18 7H10C9.44772 7 9 7.44772 9 8V20C9 20.5523 9.44772 21 10 21H18C18.5523 21 19 20.5523 19 20V8Z",fill:"#0F0F0F"})),mT||(mT=a.createElement("path",{d:"M6 3H16C16.5523 3 17 2.55228 17 2C17 1.44772 16.5523 1 16 1H6C4.34315 1 3 2.34315 3 4V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V4C5 3.44772 5.44772 3 6 3Z",fill:"#0F0F0F"})))}const xT=a.forwardRef(wT);__webpack_require__.p;var ET;const kT=["title","titleId"];function _T(){return _T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_T.apply(null,arguments)}function ST(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,kT);return a.createElement("svg",_T({fill:"#fff",width:"800px",height:"800px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,ET||(ET=a.createElement("path",{d:"M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm5.676,8.237-6,5.5a1,1,0,0,1-1.383-.03l-3-3a1,1,0,1,1,1.414-1.414l2.323,2.323,5.294-4.853a1,1,0,1,1,1.352,1.474Z"})))}const CT=a.forwardRef(ST);__webpack_require__.p;var AT;const OT=["title","titleId"];function NT(){return NT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NT.apply(null,arguments)}function PT(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,OT);return a.createElement("svg",NT({width:"800px",height:"800px",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,AT||(AT=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.877075 7.49972C0.877075 3.84204 3.84222 0.876892 7.49991 0.876892C11.1576 0.876892 14.1227 3.84204 14.1227 7.49972C14.1227 11.1574 11.1576 14.1226 7.49991 14.1226C3.84222 14.1226 0.877075 11.1574 0.877075 7.49972ZM7.49991 1.82689C4.36689 1.82689 1.82708 4.36671 1.82708 7.49972C1.82708 10.6327 4.36689 13.1726 7.49991 13.1726C10.6329 13.1726 13.1727 10.6327 13.1727 7.49972C13.1727 4.36671 10.6329 1.82689 7.49991 1.82689ZM8.24993 10.5C8.24993 10.9142 7.91414 11.25 7.49993 11.25C7.08571 11.25 6.74993 10.9142 6.74993 10.5C6.74993 10.0858 7.08571 9.75 7.49993 9.75C7.91414 9.75 8.24993 10.0858 8.24993 10.5ZM6.05003 6.25C6.05003 5.57211 6.63511 4.925 7.50003 4.925C8.36496 4.925 8.95003 5.57211 8.95003 6.25C8.95003 6.74118 8.68002 6.99212 8.21447 7.27494C8.16251 7.30651 8.10258 7.34131 8.03847 7.37854L8.03841 7.37858C7.85521 7.48497 7.63788 7.61119 7.47449 7.73849C7.23214 7.92732 6.95003 8.23198 6.95003 8.7C6.95004 9.00376 7.19628 9.25 7.50004 9.25C7.8024 9.25 8.04778 9.00601 8.05002 8.70417L8.05056 8.7033C8.05924 8.6896 8.08493 8.65735 8.15058 8.6062C8.25207 8.52712 8.36508 8.46163 8.51567 8.37436L8.51571 8.37433C8.59422 8.32883 8.68296 8.27741 8.78559 8.21506C9.32004 7.89038 10.05 7.35382 10.05 6.25C10.05 4.92789 8.93511 3.825 7.50003 3.825C6.06496 3.825 4.95003 4.92789 4.95003 6.25C4.95003 6.55376 5.19628 6.8 5.50003 6.8C5.80379 6.8 6.05003 6.55376 6.05003 6.25Z",fill:"#000000"})))}const jT=a.forwardRef(PT);__webpack_require__.p;const DT=function(e){let{isOpen:t,onClose:n,sk:r,pk:i}=e;const[o,s]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),[u,d]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(o){const e=document.createElement("div");e.innerHTML='\n                <div class="fixed top-8 right-6 flex items-center px-3 py-2 bg-white text-black rounded-md z-50">\n                <svg class="mr-2" fill="#000" width="40" height="40" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm5.676,8.237-6,5.5a1,1,0,0,1-1.383-.03l-3-3a1,1,0,1,1,1.414-1.414l2.323,2.323,5.294-4.853a1,1,0,1,1,1.352,1.474Z"/></svg>\n                    Copied to clipboard\n                </div>\n            ',document.body.appendChild(e),setTimeout((()=>document.body.removeChild(e)),2e3)}}),[o]),(0,RN.jsx)(RN.Fragment,{children:(0,RN.jsx)(OD.Root,{show:t,as:a.Fragment,children:(0,RN.jsxs)(cT,{as:"div",className:"relative z-50",onClose:()=>{n()},children:[(0,RN.jsx)(OD.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-10",children:(0,RN.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,RN.jsx)("div",{className:"fixed inset-0 z-10 overflow-hidden",children:(0,RN.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0",children:(0,RN.jsx)(OD.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,RN.jsxs)(cT.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[(0,RN.jsx)("div",{className:"bg-white px-6 py-5",children:(0,RN.jsxs)("div",{className:"text-center",children:[(0,RN.jsx)(cT.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-800",children:"Your Keys"}),(0,RN.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Please save these keys securely."}),(0,RN.jsxs)("div",{className:"mt-4",children:[(0,RN.jsxs)("div",{className:"text-left",children:[(0,RN.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,RN.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Public Key:"}),(0,RN.jsx)("div",{onClick:()=>(e=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),s(!0),setTimeout((()=>s(!1)),2e3),c(!0),setTimeout((()=>c(!1)),500)})(i),className:"cursor-pointer transition duration-300 ease-in-out transform ",children:l?(0,RN.jsx)("div",{className:"opacity-0 transition-opacity duration-1000",children:(0,RN.jsx)(CT,{className:"h-6 w-6 text-green-500"})}):(0,RN.jsx)("div",{className:"opacity-100 transition-opacity duration-1000",children:(0,RN.jsx)(xT,{className:"h-6 w-6"})})})]}),(0,RN.jsx)("div",{className:"bg-gray-50 p-2 text-sm text-gray-700 border border-gray-300 rounded-md shadow-sm",children:(0,RN.jsx)("div",{className:"break-all",children:i})})]}),(0,RN.jsxs)("div",{className:"text-left mt-4",children:[(0,RN.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,RN.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Private Key:"}),(0,RN.jsx)("div",{onClick:()=>(e=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),s(!0),setTimeout((()=>s(!1)),2e3),d(!0),setTimeout((()=>d(!1)),500)})(r),className:"cursor-pointer transition duration-300 ease-in-out transform ",children:u?(0,RN.jsx)("div",{className:"opacity-0 transition-opacity duration-1000",children:(0,RN.jsx)(CT,{className:"h-6 w-6 text-green-500"})}):(0,RN.jsx)("div",{className:"opacity-100 transition-opacity duration-1000",children:(0,RN.jsx)(xT,{className:"h-6 w-6"})})})]}),(0,RN.jsx)("div",{className:"bg-gray-50 p-2 text-sm text-gray-700 border border-gray-300 rounded-md shadow-sm hide-scrollbar",children:(0,RN.jsx)("div",{className:"break-all",children:r})})]})]})]})}),(0,RN.jsxs)("div",{className:"flex justify-between items-center bg-white px-6 py-3",children:[(0,RN.jsx)("div",{className:"relative",children:(0,RN.jsx)(jT,{className:"h-6 w-6 cursor-pointer",onClick:()=>{f(!h)}})}),(0,RN.jsx)("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-gradient-to-r from-blue-500 to-teal-500 hover:bg-blue-700 px-4 py-2 text-sm font-medium text-white shadow-sm focus:outline-none",onClick:()=>n(),children:"I've Saved my Keys"})]}),h&&(0,RN.jsx)("div",{className:" m-4 p-4 bg-white border border-gray-300 shadow-lg rounded-lg text-sm",children:(0,RN.jsx)("p",{children:"Our application leverages cryptographic keys for security. The public key is your identifier, while the private key should be kept secret."})})]})})})})]})})})};const RT=__webpack_require__.p+"static/media/noImageUser.5b53716144eef1098381daadb39c3f9c.svg";var TT;const IT=["title","titleId"];function FT(){return FT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FT.apply(null,arguments)}function LT(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,IT);return a.createElement("svg",FT({className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,TT||(TT=a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))}const BT=a.forwardRef(LT);__webpack_require__.p;var MT,UT,zT,HT;const qT=["title","titleId"];function KT(){return KT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KT.apply(null,arguments)}function VT(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,qT);return a.createElement("svg",KT({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 30",fill:"none",stroke:"currentColor",strokeWidth:2,height:"2rem",width:"2rem",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-link",x:"0px",y:"0px",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,MT||(MT=a.createElement("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"})),UT||(UT=a.createElement("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})),zT||(zT=a.createElement("text",{x:0,y:39,fill:"#000000",fontSize:"5px",fontWeight:"bold",fontFamily:"'Helvetica Neue', Helvetica, Arial-Unicode, Arial, Sans-serif"},"\n        Created by Michiel Willemsen\n    ")),HT||(HT=a.createElement("text",{x:0,y:44,fill:"#000000",fontSize:"5px",fontWeight:"bold",fontFamily:"'Helvetica Neue', Helvetica, Arial-Unicode, Arial, Sans-serif"},"\n        from the Noun Project\n    ")))}const GT=a.forwardRef(VT);__webpack_require__.p;function WT(e){let{isOpen:t,onClose:n,postUrl:r}=e;const[i,o]=(0,a.useState)(""),[s,l]=(0,a.useState)([]),[c,u]=(0,a.useState)(!1),[d,h]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!1),[g,y]=(0,a.useState)([]);let m="https://memestr.app/#"+r;const[v,b]=(0,a.useState)(!1),[w,x]=(0,a.useState)(!0),E=e=>s.includes(e),k=e=>{const t=new Set,n=[];return e.forEach((e=>{if(!t.has(e.pubkey)){t.add(e.pubkey);const r=JSON.parse(e.content);let i="Anonymous";r.name&&""!==r.name.trim&&(i=r.name),n.push({pubKey:e.pubkey,picture:r.picture,name:i})}})),n};function _(){l([])}function S(){if(g&&g.length>0)return g;const e=JSON.parse(localStorage.getItem("frequent_shares"));return e?Object.values(e):null}return(0,RN.jsxs)(RN.Fragment,{children:[(0,RN.jsx)(OD,{appear:!0,show:t,as:a.Fragment,className:"z-50",children:(0,RN.jsxs)(cT,{as:"div",className:"relative z-10",onClose:n,children:[(0,RN.jsx)(OD.Child,{as:a.Fragment,enter:"transform ease-out duration-50 transition-transform",enterFrom:"opacity-0 translate-y-full",enterTo:"opacity-100 translate-y-0",leave:"transform ease-in duration-50 transition-transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-full",children:(0,RN.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50"})}),(0,RN.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,RN.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,RN.jsx)(OD.Child,{as:a.Fragment,enter:"transform ease-out duration-100 transition-transform",enterFrom:"opacity-0 translate-y-full",enterTo:"opacity-100 translate-y-0",leave:"transform ease-in duration-100 transition-transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-full",children:(0,RN.jsxs)(cT.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,RN.jsx)(cT.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Share"}),(0,RN.jsxs)("form",{className:"flex",onSubmit:async e=>{if(e.preventDefault(),h(!0),y(null),""!==i.trim())try{const e=await async function(e){const t=PN();let n=["wss://relay.nostr.band/","wss://saltivka.org"];const r={kinds:[0],search:e,limit:5};let i=await t.list(n,[r]);return t&&t.close(n),i}(i),t=k(e);y(t)}finally{h(!1)}else h(!1)},children:[(0,RN.jsx)("input",{type:"text",value:i,onChange:async e=>{const t=e.target.value;o(t)},className:"flex-grow w-full border border-gray-300 p-2 mt-2",placeholder:"Username..."}),(0,RN.jsx)("button",{type:"submit",className:"mt-2 ml-2 p-2 bg-blue-500 text-white rounded",children:(0,RN.jsx)(gT,{className:"h-6 w-6"})})]}),(0,RN.jsx)("div",{className:"mt-4",children:d?(0,RN.jsx)("div",{className:"flex justify-center items-center",children:(0,RN.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):S()&&(0,RN.jsx)("div",{className:"flex flex-wrap pl-4 ",children:S().map((e=>(0,RN.jsxs)("div",{className:"flex flex-col items-center m-2 "+(E(e.pubKey)?"selected-user":""),style:{width:"80px"},onClick:()=>{var t;t=e.pubKey,l((e=>{const n=e.includes(t)?e.filter((e=>e!==t)):[...e,t];return x(0===n.length),n})),function(e){const t=JSON.parse(localStorage.getItem("frequent_shares"))||{},n=Object.keys(t),r=n.length,i=n[0];r>6&&delete t[i],t[e.pubKey],t[e.pubKey]={name:e.name,pubKey:e.pubKey,picture:e.picture},localStorage.setItem("frequent_shares",JSON.stringify(t))}(e)},children:[(0,RN.jsxs)("div",{className:"w-full h-12 flex items-center justify-center overflow-hidden ",children:[(0,RN.jsx)("img",{src:e.picture||RT,alt:e.name||"Anonymous",className:"w-12 h-12 rounded-full",onError:e=>{e.target.src=RT,e.target.alt="Default Image"}}),E(e.pubKey)&&(0,RN.jsx)("div",{className:"selected-overlay",children:"\u2713"})]}),(0,RN.jsx)("span",{className:"mt-1 text-s text-center block",children:e.name})]},e.pubKey)))})}),(0,RN.jsx)("span",{className:"flex flex-row gap-2 m-2 justify-start",children:(0,RN.jsxs)("span",{children:[(0,RN.jsx)("button",{className:"flex items-center my-2",onClick:()=>{var e;!function(e){const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}(encodeURIComponent(m)),e=3e3,b(!0),setTimeout((()=>{b(!1)}),e)},children:(0,RN.jsx)(GT,{})}),(0,RN.jsx)("span",{className:"text-sm text-gray-500 my-2",children:"Copy Link"})]})}),(0,RN.jsxs)("div",{className:"my-4",children:[(0,RN.jsx)("button",{type:"button",onClick:()=>{var e;null!==localStorage.getItem("memestr")?(!async function(e,t){const n=localStorage.getItem("memestr");if(!n)return void alert("Login required to upvote.");const r=JSON.parse(n);let i=JSON.parse(n).pubKey,o=JSON.parse(n).privateKey;for(const a of e){const e=Ba("wss://relay.damus.io");await e.connect();let n,s,l=a;r.privateKey?(s=Ha.decode(o),n=await rs.encrypt(s.data,l,t)):window.nostr&&(n=await window.nostr.nip04.encrypt(l,t));let c,u={pubkey:i,created_at:Math.floor(Date.now()/1e3),kind:4,tags:[["p",l]],content:n};r.privateKey?(s=Ha.decode(o),c=ka(u,s.data)):window.nostr&&(c=await window.nostr.signEvent(u)),await e.publish(c)}}(s,m),_(),e=3e3,u(!0),setTimeout((()=>{u(!1)}),e)):(p(!0),setTimeout((()=>p(!1)),3e3))},className:"mt-2 p-2 bg-green-500 text-white rounded ".concat(w?"cursor-not-allowed opacity-50":""),disabled:w,children:"Send"}),(0,RN.jsx)("button",{type:"button",className:"mx-2 inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:()=>{n(),y([]),_()},children:"I'm done, thanks!"})]})]})})})})]})}),v&&(0,RN.jsx)("div",{className:"fixed top-0 inset-x-0 flex justify-center items-start z-50",children:(0,RN.jsx)("div",{className:"mt-12 p-4 bg-black text-white rounded-lg shadow-lg transition-transform transform-gpu animate-slideInSlideOut",children:(0,RN.jsx)("p",{children:"Link Copied Successfully"})})}),c&&(0,RN.jsx)("div",{className:"fixed top-0 inset-x-0 flex justify-center items-start z-50",children:(0,RN.jsx)("div",{className:"mt-12 p-4 bg-black text-white rounded-lg shadow-lg transition-transform transform-gpu animate-slideInSlideOut",children:(0,RN.jsx)("p",{children:"Meme Sent Successfully"})})}),f&&(0,RN.jsx)("div",{className:"fixed top-0 inset-x-0 flex justify-center items-start notification",children:(0,RN.jsxs)("div",{className:"mt-12 p-4 bg-black text-white rounded-lg shadow-lg transition-transform transform-gpu animate-slideInSlideOut flex items-center",children:[(0,RN.jsx)("p",{className:"text-bold text-white px-2",children:"Please Login to Send Messages"}),(0,RN.jsx)(BT,{className:"h-6 w-6 mr-2 text-white",onClick:()=>p(!1)})]})})]})}var YT,ZT,QT;const $T=["title","titleId"];function JT(){return JT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JT.apply(null,arguments)}function XT(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,$T);return a.createElement("svg",JT({viewBox:"0 -0.5 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,YT||(YT=a.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0})),ZT||(ZT=a.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"})),QT||(QT=a.createElement("g",{id:"SVGRepo_iconCarrier"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.734 15.8974L19.22 12.1374C19.3971 11.9927 19.4998 11.7761 19.4998 11.5474C19.4998 11.3187 19.3971 11.1022 19.22 10.9574L14.734 7.19743C14.4947 6.9929 14.1598 6.94275 13.8711 7.06826C13.5824 7.19377 13.3906 7.47295 13.377 7.78743V9.27043C7.079 8.17943 5.5 13.8154 5.5 16.9974C6.961 14.5734 10.747 10.1794 13.377 13.8154V15.3024C13.3888 15.6178 13.5799 15.8987 13.8689 16.0254C14.158 16.1521 14.494 16.1024 14.734 15.8974Z",stroke:"#000000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}))))}const eI=a.forwardRef(XT);__webpack_require__.p;var tI;const nI=["title","titleId"];function rI(){return rI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rI.apply(null,arguments)}function iI(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,nI);return a.createElement("svg",rI({xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,tI||(tI=a.createElement("path",{d:"M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"})))}const oI=a.forwardRef(iI);__webpack_require__.p;var aI;const sI=["title","titleId"];function lI(){return lI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lI.apply(null,arguments)}function cI(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,sI);return a.createElement("svg",lI({xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,aI||(aI=a.createElement("path",{d:"M13 2L3 14 12 14 11 22 21 10 12 10 13 2z"})))}const uI=a.forwardRef(cI);__webpack_require__.p;var dI;const hI=["title","titleId"];function fI(){return fI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fI.apply(null,arguments)}function pI(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,hI);return a.createElement("svg",fI({xmlns:"http://www.w3.org/2000/svg",height:16,width:16,viewBox:"0 0 512 512",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,dI||(dI=a.createElement("path",{d:"M123.6 391.3c12.9-9.4 29.6-11.8 44.6-6.4c26.5 9.6 56.2 15.1 87.8 15.1c124.7 0 208-80.5 208-160s-83.3-160-208-160S48 160.5 48 240c0 32 12.4 62.8 35.7 89.2c8.6 9.7 12.8 22.5 11.8 35.5c-1.4 18.1-5.7 34.7-11.3 49.4c17-7.9 31.1-16.7 39.4-22.7zM21.2 431.9c1.8-2.7 3.5-5.4 5.1-8.1c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208s-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6c-15.1 6.6-32.3 12.6-50.1 16.1c-.8 .2-1.6 .3-2.4 .5c-4.4 .8-8.7 1.5-13.2 1.9c-.2 0-.5 .1-.7 .1c-5.1 .5-10.2 .8-15.3 .8c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c4.1-4.2 7.8-8.7 11.3-13.5c1.7-2.3 3.3-4.6 4.8-6.9c.1-.2 .2-.3 .3-.5z"})))}const gI=a.forwardRef(pI),yI=(__webpack_require__.p,(0,a.createContext)(null)),mI=()=>(0,a.useContext)(yI),vI=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=()=>{const e=localStorage.getItem("memestr");r(!!e)};return e(),window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}}),[]);const i={isLoggedIn:n,setIsLoggedIn:r};return(0,RN.jsx)(yI.Provider,{value:i,children:t})};var bI;const wI=["title","titleId"];function xI(){return xI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xI.apply(null,arguments)}function EI(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,wI);return a.createElement("svg",xI({width:"800px",height:"800px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,bI||(bI=a.createElement("g",{stroke:"#000000",strokeWidth:2},a.createElement("path",{strokeLinejoin:"round",d:"M6 9H3v6h3l5 4V5L6 9z"}),a.createElement("path",{strokeLinecap:"round",d:"M18.5 5.5a9.192 9.192 0 010 13"}),a.createElement("path",{strokeLinecap:"round",d:"M15 8a5.657 5.657 0 010 8"}))))}const kI=a.forwardRef(EI);__webpack_require__.p;var _I;const SI=["title","titleId"];function CI(){return CI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CI.apply(null,arguments)}function AI(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,SI);return a.createElement("svg",CI({width:"800px",height:"800px",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":r},i),void 0===n?a.createElement("title",{id:r},"sound-off-filled"):n?a.createElement("title",{id:r},n):null,_I||(_I=a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},a.createElement("g",{id:"icon",fill:"#000000",transform:"translate(42.666667, 59.581722)"},a.createElement("path",{d:"M47.0849493,-1.42108547e-14 L298.668,251.583611 L304.101001,257.015597 L304.101,257.016 L353.573532,306.488791 C353.573732,306.488458 353.573933,306.488124 353.574133,306.48779 L384.435257,337.348961 L384.434,337.349 L409.751616,362.666662 L379.581717,392.836561 L191.749,205.003 L191.749973,369.105851 L81.0208,283.647505 L7.10542736e-15,283.647505 L7.10542736e-15,112.980838 L80.8957867,112.980838 L91.433,104.688 L16.9150553,30.169894 L47.0849493,-1.42108547e-14 Z M361.298133,28.0146513 C429.037729,103.653701 443.797162,209.394226 405.578884,298.151284 L372.628394,265.201173 C396.498256,194.197542 381.626623,113.228555 328.013013,54.642278 L361.298133,28.0146513 Z M276.912853,95.5237713 C305.539387,127.448193 318.4688,168.293162 315.701304,208.275874 L266.464558,159.040303 C261.641821,146.125608 254.316511,133.919279 244.488548,123.156461 L243.588693,122.182545 L276.912853,95.5237713 Z M191.749973,25.7516113 L191.749,84.3256113 L158.969,51.5456113 L191.749973,25.7516113 Z",id:"Combined-Shape"})))))}const OI=a.forwardRef(AI);__webpack_require__.p;var NI;const PI=["title","titleId"];function jI(){return jI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jI.apply(null,arguments)}function DI(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,PI);return a.createElement("svg",jI({fill:"#000000",height:"800px",width:"800px",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 459 459",xmlSpace:"preserve",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,NI||(NI=a.createElement("g",null,a.createElement("g",null,a.createElement("path",{d:"M229.5,0C102.751,0,0,102.751,0,229.5S102.751,459,229.5,459S459,356.249,459,229.5S356.249,0,229.5,0z M310.292,239.651 l-111.764,76.084c-3.761,2.56-8.63,2.831-12.652,0.704c-4.022-2.128-6.538-6.305-6.538-10.855V153.416 c0-4.55,2.516-8.727,6.538-10.855c4.022-2.127,8.891-1.857,12.652,0.704l111.764,76.084c3.359,2.287,5.37,6.087,5.37,10.151 C315.662,233.564,313.652,237.364,310.292,239.651z"})))))}const RI=a.forwardRef(DI);__webpack_require__.p;function TI(e){let{imageLink:t}=e;const[n,r]=(0,a.useState)(!0),[i,o]=(0,a.useState)(!1),s=(0,a.useRef)(null),l=()=>{if(s.current.paused||s.current.ended){const e=s.current.play();void 0!==e&&e.then((()=>{o(!0)})).catch((e=>{console.error("Error attempting to play video:",e)}))}else s.current.pause(),o(!1)};return(0,a.useEffect)((()=>{const e=new IntersectionObserver((e=>{if(e[0].isIntersecting){const e=s.current.play();void 0!==e&&e.then((()=>{o(!0)})).catch((e=>{console.error("Error attempting to play video:",e)}))}else s.current.pause(),o(!1)}),{threshold:.5});return e.observe(s.current),()=>{e.disconnect()}}),[]),(0,RN.jsxs)("div",{className:" relative w-full max-w-screen-md mx-auto",children:[(0,RN.jsx)("video",{ref:s,className:"w-full h-auto rounded-lg overflow-hidden shadow-lg bg-black",autoPlay:!0,muted:n,playsInline:!0,loop:!0,onClick:l,children:(0,RN.jsx)("source",{src:t,type:"video/mp4"})}),!i&&(0,RN.jsx)("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center z-10",onClick:l,children:(0,RN.jsx)(RI,{className:"h-12 w-12"})}),(0,RN.jsx)("button",{onClick:()=>{r((e=>!e))},className:"absolute bottom-4 right-4 bg-white p-2 rounded-full shadow-lg focus:outline-none z-10",children:n?(0,RN.jsx)(OI,{className:"h-3 w-3"}):(0,RN.jsx)(kI,{className:"h-3 w-3"})})]})}const II=__webpack_require__.p+"static/media/default_profile.d8a94809b7a8f5c3211c.jpg",FI=e=>{let{initialFollowState:t=!1,onFollowToggle:n}=e;const[r,i]=(0,a.useState)(t);return(0,RN.jsx)("button",{onClick:()=>{const e=!r;i(e),n&&n(e)},className:"\n        px-3 py-1\n        text-xs\n        rounded-full\n        text-white\n        font-semibold\n        ".concat(r?"bg-gray-500":"bg-black hover:bg-gray-800","\n        transition-colors\n        duration-200\n      "),children:r?"Following":"Follow"})};var LI;const BI=["title","titleId"];function MI(){return MI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MI.apply(null,arguments)}function UI(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,BI);return a.createElement("svg",MI({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 125",enableBackground:"new 0 0 100 100",xmlSpace:"preserve",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,LI||(LI=a.createElement("g",null,a.createElement("circle",{cx:28.25,cy:50,r:8.063}),a.createElement("circle",{cx:50,cy:50,r:8.063}),a.createElement("circle",{cx:71.75,cy:50,r:8.063}))))}const zI=a.forwardRef(UI),HI=(__webpack_require__.p,e=>{let{options:t=[],onOptionSelect:n}=e;const[r,i]=(0,a.useState)(!1),o=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);return(0,RN.jsxs)("div",{className:"relative z-10",ref:o,children:[(0,RN.jsx)("button",{onClick:()=>i(!r),className:"p-2 hover:bg-gray-100 rounded-full",children:(0,RN.jsx)(zI,{width:20,height:20})}),r&&(0,RN.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-gray-200 bg-opacity-95 duration-200 border rounded-lg shadow-lg",children:(0,RN.jsx)("ul",{children:t.map(((e,t)=>(0,RN.jsx)("li",{onClick:()=>(e=>{null===n||void 0===n||n(e),i(!1)})(e),className:"px-4 py-2 text-16/[20]  hover:bg-gray-100 rounded cursor-pointer duration-200",children:e.label},t)))})})]})}),qI=(0,a.createContext)(!1),KI=e=>{let{profile:t,size:n="md",className:r=""}=e;const i=jP(),o=(0,a.useContext)(qI),s=(null===t||void 0===t?void 0:t.image)||II,l=(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.displayName)||"Anonymous";return(0,RN.jsxs)("div",{className:"flex items-center border-b rounded-lg bg-white p-1 ",children:[(0,RN.jsxs)("div",{className:"flex grow",children:[(0,RN.jsx)("div",{className:"\n                      ".concat({xs:"w-8 h-8",sm:"w-10 h-10",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-20 h-20"}[n],"\n                      rounded-full\n                      overflow-hidden\n                      border-2\n                      border-gray-200\n                      flex-shrink-0\n                      cursor-pointer\n                      justify-center\n                      ").concat(r,"\n                    "),onClick:()=>i("/userprofile/".concat(t.pubkey)),children:(0,RN.jsx)("img",{src:s,alt:l||"User Profile",className:"w-full h-full object-cover"})}),(0,RN.jsxs)("div",{className:"flex flex-col ml-1.5 cursor-pointer justify-center",onClick:()=>i("/userprofile/".concat(t.pubkey)),children:[(0,RN.jsx)("h3",{className:"font-semibold text-gray-800",children:l}),(null===t||void 0===t?void 0:t.nip05)&&(0,RN.jsx)("p",{className:"text-xs text-gray-500",children:t.nip05})]})]}),o&&(0,RN.jsxs)("div",{className:"flex justify-center ml-auto",children:[(0,RN.jsx)(FI,{initialFollowState:!1,onFollowToggle:e=>{console.log("Follow state:",e)}}),(0,RN.jsx)(HI,{options:[{label:"View Profile",value:"profile"},{label:"Report User",value:"block"},{label:"Report",value:"report"}],onOptionSelect:e=>{console.log("Selected option:",e)}})]})]})},VI=(e,t,n)=>{let r=JSON.parse(localStorage.getItem("usersLikes"))||{};r[t]||(r[t]={}),r[t][e]=n;const i=Object.keys(r[t]);i.length>200&&delete r[t][i[0]],localStorage.setItem("usersLikes",JSON.stringify(r))};function GI(e){const t=/#(\w+)/g,n=[];let r,i=0;for(;null!==(r=t.exec(e));)r.index>i&&n.push(e.slice(i,r.index)),n.push((0,RN.jsx)(dj,{to:"/search/".concat(r[1]),className:"text-customBlue hover:text-customBlue-700 hover:decoration-customBlue-700 transition duration-300 ease-in-out hover:scale-112",children:r[0]},r[1])),i=r.index+r[0].length;return i<e.length&&n.push(e.slice(i)),n}function WI(e){try{const t=e.split(".").pop();if("undefined"===t)return;return["jpg","jpeg","gif","png"].includes(t)?(0,RN.jsx)("img",{alt:"",src:e,style:{width:"100%",height:"auto",display:"block",objectFit:"cover"}}):(0,RN.jsx)(TI,{imageLink:e})}catch(oR){console.log("Something happened here"+oR)}}function YI(e){const t=/\.(jpg|jpeg)$/i,n=/\.mp4$/i,r=/\.gif$/i,i=e.match(/(https?:\/\/[^\s]+)/g);return i?i.map((e=>{try{const t=new URL(e);return t.hash="",t.toString()}catch(kU){return console.error("Error parsing URL: ".concat(e)),null}})).filter((e=>null!==e)).filter((e=>t.test(e)||n.test(e)||r.test(e))):[]}const ZI=e=>e.replace(/(https?:\/\/[^\s]+)/g,"");async function QI(e,t){const n=localStorage.getItem("memestr");if(!n)return alert("Login required to upvote."),!1;const r=JSON.parse(n);let i={kind:7,pubkey:t=r.pubKey,created_at:Math.floor(Date.now()/1e3),tags:[["e",e],["p",r.pubKey]],content:"+"};try{if(r.privateKey){let e=Ha.decode(r.privateKey);i.id=_a(i),i.sig=Oa(i,e.data)}else{if(!window.nostr)throw new Error("No authentication method available");i=await window.nostr.signEvent(i)}const n=PN();let o=["wss://relay.damus.io","wss://relay.primal.net"];return await n.publish(o,i),VI(e,t,!0),n.close(o),!0}catch(kU){return console.error("Error publishing upvote event:",kU),!1}}const $I=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:11;const r=t;const i=Ha.noteEncode(e);let o=await(async e=>{if(Nj[e])return Nj[e];const t=PN(),n=["wss://relay.nostr.band","wss://purplepag.es","wss://relay.damus.io"];try{return await t.get(n,{authors:[e],kinds:[0]})}catch(kU){throw new Error("failed to fetch user profile :(")}finally{t.close(n)}})(r),a=await(async e=>{const t=await Ws.getZapEndpoint(e);if(!t)throw new Error("failed to retrieve zap endpoint :(");return t})(o),s=await(async e=>{let{zapEndpoint:t,amount:n,comment:r,authorId:i,noteId:o,normalizedRelays:a}=e;const s=await Pj({profile:i,event:o?Oj(o):void 0,amount:n,relays:a,comment:r});let l="".concat(t,"?amount=").concat(n,"&nostr=").concat(encodeURIComponent(JSON.stringify(s)));r&&(l="".concat(l,"&comment=").concat(encodeURIComponent(r)));const c=await fetch(l),{pr:u}=await c.json();return u})({zapEndpoint:a,amount:1e3*n,comment:"You got zapped!",authorId:r,noteId:i,normalizedRelays:["wss://relay.damus.io","wss://relay.primal.net","wss://nos.lol","wss://nostr.bitcoiner.social"]}),l="lightning:"+s;window.location.assign(l)};const JI=function(e){const t=YI(e.note.content),[n,r]=(0,a.useState)(0),i=(0,a.useState)(sessionStorage.getItem("cc_"+e.note.id)),[o,s]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),[u,d]=(0,a.useState)({unit:"",duration:0}),[h,f]=(0,a.useState)(!1),[p,g]=(0,a.useState)(null),[y,m]=(0,a.useState)(!1),{isLoggedIn:v}=mI(),b=(0,a.useState)(null),[w,x]=(0,a.useState)(!1),[E,k]=(0,a.useState)("");let _=e.note.created_at;(0,a.useEffect)((()=>{r(e.note.voteCount);let{unit:t,duration:n}=function(e){const t=Math.floor(Date.now()/1e3)-e;let n="",r=0;return t<60?(n="seconds",r=t):t<3600?(n="m",r=Math.floor(t/60)):t<86400?(n="h",r=Math.floor(t/3600)):(n="d",r=Math.floor(t/86400)),{unit:n,duration:r}}(_);0!==n&&d({unit:t,duration:n})}),[_,e.note.voteCount,e.note.id]);let S=ZI(e.note.content);0===S.length&&(S=" ");const C=t[0];let A=function(e,t){return e.length>t?e.substring(0,t)+"...":e}(S,300),O=S.match(/#\w+/g)||[],N=(e=>e.replace(/#\w+/g,"").replace(/(https?:\/\/[^\s]+)/g,""))(A);const P=jP();let j="/post/".concat(e.note.id,"?voteCount=").concat(n);return(0,RN.jsxs)(RN.Fragment,{children:[(0,RN.jsxs)("div",{className:"flex flex-col items-center mt-2",children:[(0,RN.jsx)("div",{className:"flex flex-col w-full border-t-2 border-x-2 rounded-t-md border-gray-100 max-w-md",children:(0,RN.jsx)(KI,{profile:e.note.profile,size:"md",className:"ml-0.5"})}),(0,RN.jsxs)("div",{className:"bg-white rounded-sm w-full max-w-md",children:[""!==N.trim()&&(0,RN.jsx)("div",{className:"border-x border-grey-100 p-2",children:(0,RN.jsx)("h3",{className:"truncate font-nunito font-semibold text-gray-700",children:N})}),(0,RN.jsx)("div",{className:"h-max lg: bg-gray-200 border-y border-gray-300",children:WI(C)}),(0,RN.jsxs)("div",{className:"border-x border-grey-100 flex justify-between items-center px-2",children:[(0,RN.jsx)("div",{className:"flex gap-2 py-2",children:O.slice(0,3).map(((e,t)=>(0,RN.jsxs)("button",{onClick:()=>{return t=e.substring(1),void P("/search/".concat(t));var t},className:"bg-gray-100 text-blue-800 font-semibold font-medium rounded-full px-4 py-1 text-sm focus:outline-none",children:["#",e.substring(1)]},t)))}),(0,RN.jsxs)("span",{className:"text-xs text-gray-500",children:[u.duration,u.unit]})]}),(0,RN.jsx)("div",{className:"border-t border-grey-100 rounded-b-md "}),(0,RN.jsx)("div",{className:"border-x border-grey-100 flex flex-col p-2",children:(0,RN.jsxs)("div",{className:"flex justify-between items-center",children:[(0,RN.jsx)("div",{className:"flex items-center",children:(0,RN.jsxs)(dj,{to:j,className:"flex items-center",children:[(0,RN.jsx)(gI,{className:"h-4 w-4 text-black-600"}),(0,RN.jsx)("span",{className:"text-xs text-gray-600 ml-1",children:i>0?i:""})]})}),(0,RN.jsx)("div",{className:"flex items-center",children:(0,RN.jsxs)("button",{onClick:function(){if(!localStorage.getItem("memestr"))return k("Login to send Zaps"),x(!0),setTimeout((()=>x(!1)),3e3),!1;f(!0),c(!0)},className:"flex items-center ".concat(l?"text-yellow-300":"text-black-600"),children:[(0,RN.jsx)(uI,{className:"h-4 w-4 text-black-600"}),p&&(0,RN.jsx)("span",{className:"text-xs ml-1",children:p}),(0,RN.jsx)(uT,{isOpenm:h,onConfirm:t=>{const n=e.note.id;let r=e.note.pubkey;$I(n,r,t),g(t)}})]})}),(0,RN.jsx)("div",{className:"flex items-center",children:(0,RN.jsxs)("button",{onClick:function(){if(!v)return k("Login required to upvote"),x(!0),void setTimeout((()=>x(!1)),3e3);QI(e.note.id,b).then((t=>{t&&(VI(e.note.id,b,!0),r(e.note.voteCount+1),s(!0))}))},disabled:function(){var t;return!(null===(t=(JSON.parse(localStorage.getItem("usersLikes"))||{})[b])||void 0===t||!t[e.note.id])}(),className:"flex items-center ".concat(o?"text-red-600":"text-black-600"),children:[(0,RN.jsx)(oI,{fill:o?"red":"none",className:"h-4 w-4"}),(0,RN.jsx)("span",{className:"text-xs ml-1 text-black-600",children:n})]})}),(0,RN.jsx)("button",{onClick:()=>{m(!0)},className:"p-1",children:(0,RN.jsx)(eI,{className:"h-6 w-6 text-gray-600"})})]})}),(0,RN.jsx)("div",{className:"border-t border-grey-200 border-2 rounded-b-md "})]})]}),(0,RN.jsx)(WT,{isOpen:y,onClose:()=>{m(!1)},postUrl:j}),w&&(0,RN.jsx)("div",{className:"fixed top-0 inset-x-0 flex justify-center items-start z-50",children:(0,RN.jsxs)("div",{className:"mt-12 p-4 bg-black text-white rounded-lg shadow-lg transition-transform transform-gpu animate-slideInSlideOut flex items-center",children:[(0,RN.jsx)("p",{className:"text-bold text-white px-2",children:E}),(0,RN.jsx)(BT,{className:"h-6 w-6 mr-2 text-white",onClick:()=>x(!1)})]})})]})},XI=NN();async function eF(e){const t=await XI.cacheAdapter.fetchProfile(e);if(t)return t;const n=PN(),r={kinds:[0],authors:[e]};let i=await n.list(CN,[r]);const o=new $b(XI,i[0]),a=await fw(o);return await XI.cacheAdapter.saveProfile(e,a),a}const tF=async e=>{const t=PN(),n={kinds:[0],authors:[e]};let r=await t.list(CN,[n]);if(r.length>0){let e=r[0].content;return e=JSON.parse(e),e}},nF=async function(e){const t=pa(Ha.decode(e).data);let n=(await eF(t)).content;return n=JSON.parse(n),n},rF=__webpack_require__.p+"static/media/profile.11a801837c2346393a2b.jpeg";const iF=function(e){let{reply:t}=e;const n=jP(),[r,i]=(0,a.useState)(rF),[o,s]=(0,a.useState)("Unknown"),[l,c]=(0,a.useState)("Anonymous"),u=t.pubkey;return(0,a.useEffect)((()=>{(async()=>{try{const e=await tF(u);e&&(i(e.picture||rF),s(e.display_name||e.name||"Unknown"),c(e.name||"Anonymous"))}catch(kU){console.error("Error fetching user details:",kU)}})()}),[u]),(0,RN.jsx)(RN.Fragment,{children:(0,RN.jsxs)("div",{className:"comment-container",children:[(0,RN.jsx)("img",{className:"profile1",src:r,alt:"Profile"}),(0,RN.jsx)("div",{className:"comment-content",children:(0,RN.jsxs)("div",{className:"flex flex-col w-full",children:[(0,RN.jsx)("span",{className:"username-comment cursor-pointer",onClick:()=>n("/userprofile/".concat(u)),children:o}),(0,RN.jsxs)("span",{className:"name-comment text-gray-400",children:["@",l]}),(0,RN.jsx)("p",{className:"comment",children:(d=t.content,d.split(/(@@[^@]+@@)/).map(((e,t)=>{if(e.startsWith("@@")&&e.endsWith("@@")){const r=e.slice(2,-2);return(0,RN.jsxs)("strong",{className:"profile-mention text-purple-500 cursor-pointer",onClick:()=>n("/userprofile/".concat(u)),children:["@",r]},t)}return e})))})]})})]})});var d};const oF=function(){return(0,RN.jsx)("div",{className:"flex justify-center mt-8 h-100vh",children:(0,RN.jsxs)("div",{className:"lds-ring",children:[(0,RN.jsx)("div",{}),(0,RN.jsx)("div",{}),(0,RN.jsx)("div",{}),(0,RN.jsx)("div",{})]})})};var aF;const sF=["title","titleId"];function lF(){return lF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lF.apply(null,arguments)}function cF(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,sF);return a.createElement("svg",lF({xmlns:"http://www.w3.org/2000/svg",height:16,width:18,viewBox:"0 0 576 512",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,aF||(aF=a.createElement("path",{d:"M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"})))}const uF=a.forwardRef(cF);__webpack_require__.p;var dF;const hF=["title","titleId"];function fF(){return fF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fF.apply(null,arguments)}function pF(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,hF);return a.createElement("svg",fF({xmlns:"http://www.w3.org/2000/svg",height:16,width:16,viewBox:"0 0 512 512",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,dF||(dF=a.createElement("path",{d:"M272 96c-78.6 0-145.1 51.5-167.7 122.5c33.6-17 71.5-26.5 111.7-26.5h88c8.8 0 16 7.2 16 16s-7.2 16-16 16H288 216s0 0 0 0c-16.6 0-32.7 1.9-48.3 5.4c-25.9 5.9-49.9 16.4-71.4 30.7c0 0 0 0 0 0C38.3 298.8 0 364.9 0 440v16c0 13.3 10.7 24 24 24s24-10.7 24-24V440c0-48.7 20.7-92.5 53.8-123.2C121.6 392.3 190.3 448 272 448l1 0c132.1-.7 239-130.9 239-291.4c0-42.6-7.5-83.1-21.1-119.6c-2.6-6.9-12.7-6.6-16.2-.1C455.9 72.1 418.7 96 376 96L272 96z"})))}const gF=a.forwardRef(pF);__webpack_require__.p;var yF;const mF=["title","titleId"];function vF(){return vF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vF.apply(null,arguments)}function bF(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,mF);return a.createElement("svg",vF({xmlns:"http://www.w3.org/2000/svg",height:16,width:16,viewBox:"0 0 512 512",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,yF||(yF=a.createElement("path",{d:"M0 192c0-35.3 28.7-64 64-64c.5 0 1.1 0 1.6 0C73 91.5 105.3 64 144 64c15 0 29 4.1 40.9 11.2C198.2 49.6 225.1 32 256 32s57.8 17.6 71.1 43.2C339 68.1 353 64 368 64c38.7 0 71 27.5 78.4 64c.5 0 1.1 0 1.6 0c35.3 0 64 28.7 64 64c0 11.7-3.1 22.6-8.6 32H8.6C3.1 214.6 0 203.7 0 192zm0 91.4C0 268.3 12.3 256 27.4 256H484.6c15.1 0 27.4 12.3 27.4 27.4c0 70.5-44.4 130.7-106.7 154.1L403.5 452c-2 16-15.6 28-31.8 28H140.2c-16.1 0-29.8-12-31.8-28l-1.8-14.4C44.4 414.1 0 353.9 0 283.4z"})))}const wF=a.forwardRef(bF);__webpack_require__.p;var xF;const EF=["title","titleId"];function kF(){return kF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kF.apply(null,arguments)}function _F(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,EF);return a.createElement("svg",kF({xmlns:"http://www.w3.org/2000/svg",height:16,width:16,viewBox:"0 0 512 512",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,xF||(xF=a.createElement("path",{d:"M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6h96 32H424c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"})))}const SF=a.forwardRef(_F);__webpack_require__.p;var CF;const AF=["title","titleId"];function OF(){return OF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OF.apply(null,arguments)}function NF(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,AF);return a.createElement("svg",OF({xmlns:"http://www.w3.org/2000/svg",className:"ionicon",viewBox:"0 0 512 512",width:16,height:16,ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,CF||(CF=a.createElement("path",{d:"M494.26 276.22c-3.6-40.41-9.53-48.28-11.77-51.24-5.15-6.84-13.39-11.31-22.11-16a3.6 3.6 0 01-.91-5.68 15.93 15.93 0 004.53-12.53A16.27 16.27 0 00447.65 176h-15.6a17 17 0 00-2 .13 8.5 8.5 0 00-1.41-.47c-9.24-19.53-21.89-46.27-48.11-59.32C341.64 97 270 96 256 96s-85.64 1-124.48 20.31c-26.22 13.05-38.87 39.79-48.11 59.32l-.08.16a6.52 6.52 0 00-1.35.34 17 17 0 00-2-.13H64.35A16.27 16.27 0 0048 190.77a15.93 15.93 0 004.59 12.47 3.6 3.6 0 01-.91 5.68c-8.72 4.72-17 9.19-22.11 16-2.24 3-8.16 10.83-11.77 51.24-2 22.74-2.3 46.28-.73 61.44 3.29 31.5 9.46 50.54 9.72 51.33a16 16 0 0013.2 10.87v.2a16 16 0 0016 16h56a16 16 0 0016-16c8.61 0 14.6-1.54 20.95-3.18a158.83 158.83 0 0128-4.91C207.45 389 237.79 388 256 388c17.84 0 49.52 1 80.08 3.91a159.16 159.16 0 0128.11 4.93c6.08 1.56 11.85 3 19.84 3.15a16 16 0 0016 16h56a16 16 0 0016-16v-.12A16 16 0 00485.27 389c.26-.79 6.43-19.83 9.72-51.33 1.57-15.17 1.29-38.67-.73-61.45zm-381.93-86.91c8-17 17.15-36.24 33.44-44.35 23.54-11.72 72.33-17 110.23-17s86.69 5.24 110.23 17c16.29 8.11 25.4 27.36 33.44 44.35l1 2.17a8 8 0 01-7.44 11.42C360 202 290 199.12 256 199.12s-104 2.95-137.28 3.85a8 8 0 01-7.44-11.42c.35-.74.72-1.49 1.05-2.24zm11.93 79.63A427.17 427.17 0 0172.42 272c-10.6 0-21.53-3-23.56-12.44-1.39-6.35-1.24-9.92-.49-13.51C49 243 50 240.78 55 240c13-2 20.27.51 41.55 6.78 14.11 4.15 24.29 9.68 30.09 14.06 2.91 2.16 1.36 7.8-2.38 8.1zm221.38 82c-13.16 1.5-39.48.95-89.34.95s-76.17.55-89.33-.95c-13.58-1.51-30.89-14.35-19.07-25.79 7.87-7.54 26.23-13.18 50.68-16.35s34.8-4.8 57.62-4.8 32.12 1 57.62 4.81 44.77 9.52 50.68 16.35c10.78 12.24-5.29 24.19-18.86 25.84zm117.5-91.39c-2 9.48-13 12.44-23.56 12.44a455.91 455.91 0 01-52.84-3.06c-3.06-.29-4.48-5.66-1.38-8.1 5.71-4.49 16-9.91 30.09-14.06 21.28-6.27 33.55-8.78 44.09-6.69 2.57.51 3.93 3.27 4.09 5a40.64 40.64 0 01-.49 14.48z"})))}const PF=a.forwardRef(NF);__webpack_require__.p;var jF;const DF=["title","titleId"];function RF(){return RF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RF.apply(null,arguments)}function TF(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,DF);return a.createElement("svg",RF({xmlns:"http://www.w3.org/2000/svg",height:16,width:16,viewBox:"0 0 512 512",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,jF||(jF=a.createElement("path",{d:"M226.5 92.9c14.3 42.9-.3 86.2-32.6 96.8s-70.1-15.6-84.4-58.5s.3-86.2 32.6-96.8s70.1 15.6 84.4 58.5zM100.4 198.6c18.9 32.4 14.3 70.1-10.2 84.1s-59.7-.9-78.5-33.3S-2.7 179.3 21.8 165.3s59.7 .9 78.5 33.3zM69.2 401.2C121.6 259.9 214.7 224 256 224s134.4 35.9 186.8 177.2c3.6 9.7 5.2 20.1 5.2 30.5v1.6c0 25.8-20.9 46.7-46.7 46.7c-11.5 0-22.9-1.4-34-4.2l-88-22c-15.3-3.8-31.3-3.8-46.6 0l-88 22c-11.1 2.8-22.5 4.2-34 4.2C84.9 480 64 459.1 64 433.3v-1.6c0-10.4 1.6-20.8 5.2-30.5zM421.8 282.7c-24.5-14-29.1-51.7-10.2-84.1s54-47.3 78.5-33.3s29.1 51.7 10.2 84.1s-54 47.3-78.5 33.3zM310.1 189.7c-32.3-10.6-46.9-53.9-32.6-96.8s52.1-69.1 84.4-58.5s46.9 53.9 32.6 96.8s-52.1 69.1-84.4 58.5z"})))}const IF=a.forwardRef(TF);__webpack_require__.p;var FF;const LF=["title","titleId"];function BF(){return BF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BF.apply(null,arguments)}function MF(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,LF);return a.createElement("svg",BF({xmlns:"http://www.w3.org/2000/svg",className:"ionicon",viewBox:"0 0 512 512",width:16,height:16,ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,FF||(FF=a.createElement("path",{d:"M256 448a32 32 0 01-18-5.57c-78.59-53.35-112.62-89.93-131.39-112.8-40-48.75-59.15-98.8-58.61-153C48.63 114.52 98.46 64 159.08 64c44.08 0 74.61 24.83 92.39 45.51a6 6 0 009.06 0C278.31 88.81 308.84 64 352.92 64c60.62 0 110.45 50.52 111.08 112.64.54 54.21-18.63 104.26-58.61 153-18.77 22.87-52.8 59.45-131.39 112.8a32 32 0 01-18 5.56z"})))}const UF=a.forwardRef(MF);__webpack_require__.p;var zF;const HF=["title","titleId"];function qF(){return qF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qF.apply(null,arguments)}function KF(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,HF);return a.createElement("svg",qF({xmlns:"http://www.w3.org/2000/svg",className:"ionicon",viewBox:"0 0 512 512",width:16,height:16,ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,zF||(zF=a.createElement("path",{d:"M410.47 279.2c-5-11.5-12.7-21.6-28.1-30.1a98.15 98.15 0 00-25.4-10 62.22 62.22 0 0016.3-11 56.37 56.37 0 0015.6-23.3 77.11 77.11 0 003.5-28.2c-1.1-16.8-4.4-33.1-13.2-44.8s-21.2-20.7-37.6-27c-12.6-4.8-25.5-7.8-45.5-8.9V32h-40v64h-32V32h-41v64H96v48h27.87c8.7 0 14.6.8 17.6 2.3a13.22 13.22 0 016.5 6c1.3 2.5 1.9 8.4 1.9 17.5V343c0 9-.6 14.8-1.9 17.4s-2 4.9-5.1 6.3-3.2 1.3-11.8 1.3h-26.4L96 416h87v64h41v-64h32v64h40v-64.4c26-1.3 44.5-4.7 59.4-10.3 19.3-7.2 34.1-17.7 44.7-31.5s14-34.9 14.93-51.2c.67-14.5-.03-33.2-4.56-43.4zM224 150h32v74h-32zm0 212v-90h32v90zm72-208.1c6 2.5 9.9 7.5 13.8 12.7 4.3 5.7 6.5 13.3 6.5 21.4 0 7.8-2.9 14.5-7.5 20.5-3.8 4.9-6.8 8.3-12.8 11.1zm28.8 186.7c-7.8 6.9-12.3 10.1-22.1 13.8a56.06 56.06 0 01-6.7 1.9v-82.8a40.74 40.74 0 0111.3 3.4c7.8 3.3 15.2 6.9 19.8 13.2a43.82 43.82 0 018 24.7c-.03 10.9-2.83 19.2-10.33 25.8z"})))}const VF=a.forwardRef(KF);__webpack_require__.p;const GF=function(e){let{setShowMemeEditor:t}=e;const n=e=>{let{isActive:t}=e;return t?"flex items-center px-4 py-2 mt-5 text-gray-700 hover:bg-gray-100 rounded-md font-extrabold":"flex items-center px-4 py-2 mt-5 text-gray-700 hover:bg-gray-100 rounded-md"};return(0,RN.jsxs)("aside",{className:"hidden md:block md:w-72 bg-white p-5 sticky top-0 h-screen overflow-y-auto border-r z-50",children:[(0,RN.jsx)("h1",{className:"font-bungee px-4 py-2 text-xl ",children:"Category"}),(0,RN.jsxs)("nav",{className:"mt-8 ",children:[(0,RN.jsxs)(hj,{to:"/",className:n,children:[(0,RN.jsx)(uF,{}),(0,RN.jsx)("span",{className:"ml-3",children:"Home"})]}),(0,RN.jsxs)(hj,{to:"/pets",className:n,children:[(0,RN.jsx)(IF,{}),(0,RN.jsx)("span",{className:"ml-3",children:"Pets"})]}),(0,RN.jsxs)(hj,{to:"/nature",className:n,children:[(0,RN.jsx)(gF,{}),(0,RN.jsx)("span",{className:"ml-3",children:"Nature"})]}),(0,RN.jsxs)(hj,{to:"/food",className:n,children:[(0,RN.jsx)(wF,{}),(0,RN.jsx)("span",{className:"ml-3",children:"Food"})]}),(0,RN.jsxs)(hj,{to:"/photography",className:n,children:[(0,RN.jsx)(SF,{}),(0,RN.jsx)("span",{className:"ml-3",children:"Photography"})]}),(0,RN.jsxs)(hj,{to:"/vehicles",className:n,children:[(0,RN.jsx)(PF,{}),(0,RN.jsx)("span",{className:"ml-3",children:"Vehicles"})]}),(0,RN.jsxs)(hj,{to:"/crypto",className:n,children:[(0,RN.jsx)(VF,{}),(0,RN.jsx)("span",{className:"ml-3",children:"Crypto"})]}),(0,RN.jsxs)(hj,{to:"/relationship",className:n,children:[(0,RN.jsx)(UF,{}),(0,RN.jsx)("span",{className:"ml-3",children:"Love & Relationship"})]})]}),(0,RN.jsx)("div",{className:"absolute bottom-0 left-0 w-full px-6 pb-6",children:(0,RN.jsx)("button",{type:"button",className:"w-full text-white bg-gradient-to-r from-blue-500 to-teal-500 hover:from-pink-500 hover:to-yellow-500 focus:outline-none focus:ring-4 font-medium rounded-full text-md px-5 py-3 me-2 mb-2 flex items-center justify-center",onClick:()=>t(!0),children:"Make a Meme"})})]})};const WF=function(){let e=DP();const[t]=yj(),n=e.postId,r=t.get("voteCount"),[i,o]=(0,a.useState)([]),[s,l]=(0,a.useState)(""),[c,u]=(0,a.useState)({}),[d,h]=(0,a.useState)(!1),{isLoggedIn:p}=mI(),[g,y]=(0,a.useState)(!1),[m,v]=(0,a.useState)(null);(0,a.useEffect)((()=>{const e=localStorage.getItem("memestr"),t=e?JSON.parse(e):null;if(v(null===t||void 0===t?void 0:t.pubKey),p){var r;let e=JSON.parse(localStorage.getItem("usersLikes"))||{};T(!(null===(r=e[m])||void 0===r||!r[n]))}else T(!1)}),[p,n,m]);let b="/post/".concat(n,"?voteCount=").concat(r);async function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;y(!0);const n=PN();let r=["wss://relay.damus.io","wss://relay.primal.net","wss://relay.snort.social"],i=null;for(let o=0;o<t&&(i=await n.get(r,{ids:[e]}),!i||!i.content);o++);if(n&&n.close(r),i&&i.content){let e={title:GI(ZI(i.content)),imageLink:YI(i.content),opPubKey:i.pubKey};u(e),y(!1)}else console.error("Post with ID ".concat(e," not found after ").concat(t," retries"))}const[x,E]=(0,a.useState)(!0),k=e=>e.map((e=>(0,RN.jsx)(iF,{reply:e},e.id))),_=e=>{let{rootMessage:t,replies:n}=e;const[r,i]=(0,a.useState)(!1);return(0,RN.jsxs)("div",{children:[(0,RN.jsx)(iF,{reply:t}),(0,RN.jsxs)("div",{className:"ml-16 mb-2",children:[n.length>0&&(0,RN.jsx)("div",{onClick:()=>{i((e=>!e))},className:"cursor-pointer text-blue-700 font-nunito text-normal ",children:r?"Hide Replies":"View Replies"}),r&&k(n)]})]},t.id)};(0,a.useEffect)((()=>{h(!0),E(!0);const e=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((t=>{n.push(t),t.children.length>0&&e(t.children,n)})),n};Promise.all([w(n),(async()=>{const t=PN(),r=["wss://relay.damus.io","wss://relay.primal.net","wss://nos.lol","wss://nostr.bitcoiner.social"],i={kinds:[1],"#e":[n]};let a=await t.list(r,[i]);for(let e=0;e<a.length;e++){let t=a[e],n=Aj(t),r=t.content;for(let e=0;e<n.length;e++){let{text:t,profile:i}=n[e];if(i){let e=await eF(i.pubkey),n=JSON.parse(e.content).display_name,o=i?"@@".concat(n,"@@"):"";r=r.replaceAll(t,o)}}a[e].content=r}t.close(r);const s=(e=>{const t=[],n={};return e.forEach((e=>{n[e.id]=f(f({},e),{},{children:[]})})),e.forEach((e=>{var r;const i=null===(r=e.parsed.reply)||void 0===r?void 0:r.id;i&&n[i]?n[i].children.push(n[e.id]):t.push(n[e.id])})),t})(a.map((e=>f(f({},e),{},{parsed:gs.parse(e)})))),l=s.map((t=>({rootMessage:t,replies:e(t.children,[])})));o(l),E(!1)})()]).finally((()=>{h(!1)}))}),[n]);const[S,C]=(0,a.useState)(!1),[A,O]=(0,a.useState)(!1),[N,P]=(0,a.useState)(null),[j,D]=(0,a.useState)(parseInt(r,10)),[R,T]=(0,a.useState)(!1),[I,F]=(0,a.useState)(!1);return(0,RN.jsx)(RN.Fragment,{children:(0,RN.jsxs)("div",{className:"flex flex-col md:flex-row min-h-screen",children:[(0,RN.jsx)(GF,{}),d||g||x?(0,RN.jsx)("div",{className:"flex-1  md:mr-40",children:(0,RN.jsx)(Ej,{})}):(0,RN.jsxs)("main",{className:"flex-1 overflow-y-auto",children:[(0,RN.jsx)("div",{className:"mt-16 flex flex-col items-center lg:mr-60",children:(0,RN.jsxs)("div",{className:"bg-white rounded-sm shadow-sm w-full max-w-md my-1 border border-gray-400 ",children:[(0,RN.jsx)("div",{className:"px-4 py-2 ",children:(0,RN.jsx)("h3",{className:"text-sm font-nunito font-bold text-gray-900 break-words whitespace-normal",children:c.title})}),(0,RN.jsx)("div",{className:"w-full border-t-2 border-gray-300",children:c.imageLink&&WI(c.imageLink[0])}),(0,RN.jsxs)("div",{className:"flex justify-between items-center p-4 bg-gray-50",children:[(0,RN.jsxs)("button",{onClick:function(){if(!localStorage.getItem("memestr"))return alert("Login to send zaps."),!1;C(!0),O(!0)},className:"flex items-center",children:[(0,RN.jsx)(uI,{className:"".concat(A?"text-yellow-300":"text-black"," h-4 w-4")}),N&&(0,RN.jsx)("span",{className:"ml-1",children:N}),(0,RN.jsx)(uT,{isOpenm:S,onConfirm:e=>{$I(n,c.opPubKey,e),P(e)}})]}),(0,RN.jsxs)("button",{onClick:function(){p?QI(n,m).then((e=>{if(e){VI(n,m,!0);const e=function(e){let t=JSON.parse(localStorage.getItem("usersLikes"))||{},n=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&t[r][e]&&n++;return n}(n);D(e+parseInt(r,10)),T(!0)}})):alert("Login required to upvote.")},disabled:function(){var e;return!(null===(e=(JSON.parse(localStorage.getItem("usersLikes"))||{})[m])||void 0===e||!e[n])}(),className:"flex items-center ".concat(R?"text-red-600":"text-black-600"),children:[(0,RN.jsx)(oI,{fill:R?"red":"none",className:"h-4 w-4"}),(0,RN.jsx)("span",{className:"text-xs ml-1 text-black-600",children:j})]}),(0,RN.jsx)("button",{onClick:()=>{F(!0)},className:"flex items-center",children:(0,RN.jsx)(eI,{className:"h-6 w-6 text-black"})})]})]})}),(0,RN.jsx)("div",{className:"flex justify-center lg:mr-60",children:(0,RN.jsx)("div",{className:"bg-gray-50 p-4 w-full max-w-md border border-gray-400",children:(0,RN.jsxs)("form",{className:"flex items-center justify-between",onSubmit:async e=>{e.preventDefault(),await(async e=>{let t=["wss://relay.damus.io","wss://relay.primal.net","wss://nos.lol"];const r=PN(),i=localStorage.getItem("memestr");if(!i)return void alert("Login required to comment.");const a=JSON.parse(i);let s=JSON.parse(i).pubKey,c=JSON.parse(i).privateKey,u={kind:1,pubkey:s,created_at:Math.floor(Date.now()/1e3),tags:[["e",n," ","root"],["p",s],["alt","reply"]],content:e};if(a.privateKey){let e=Ha.decode(c);u.id=_a(u),u.sig=Oa(u,e.data)}else{if(!window.nostr)throw new Error("No authentication method available");u=await window.nostr.signEvent(u)}try{let e=await r.publish(t,u);Promise.resolve(e)}catch(kU){console.error("Error while publishing comment:",kU)}const d=[{content:e,pubkey:s}];o((e=>[...d,...e])),l("")})(s)},children:[(0,RN.jsx)("input",{type:"text",placeholder:"Add a reply...",className:"flex-grow p-2 text-sm border border-gray-400 rounded-l-md",value:s,onChange:e=>{l(e.target.value)},required:!0}),(0,RN.jsx)("button",{type:"submit",className:"ml-2 bg-black text-white p-2 rounded-r-md",children:(0,RN.jsx)(xj,{})})]})})}),(0,RN.jsx)("div",{children:d?(0,RN.jsx)(oF,{}):0===i.length?(0,RN.jsx)("div",{className:"pb-16 md:text-gray-500 text-center my-4 lg:mr-60",children:"No comments yet."}):(0,RN.jsx)("div",{className:"flex justify-center lg:mr-60",children:(0,RN.jsx)("div",{className:" pb-16 md:bg-white rounded-b-sm shadow overflow-hidden w-full max-w-md mx-auto",children:(L=i,L.map((e=>{let{rootMessage:t,replies:n}=e;return(0,RN.jsx)(_,{rootMessage:t,replies:n},t.id)})))})})}),(0,RN.jsx)(WT,{isOpen:I,onClose:()=>{F(!1)},postUrl:b})]})]})});var L};var YF;const ZF=["title","titleId"];function QF(){return QF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QF.apply(null,arguments)}function $F(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ZF);return a.createElement("svg",QF({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,YF||(YF=a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})))}const JF=a.forwardRef($F);__webpack_require__.p;function XF(){const[e,t]=(0,a.useState)(!1),n=jP(),r=()=>{t(!1)},i=()=>{r()};return(0,a.useEffect)((()=>(e?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>document.body.classList.remove("overflow-hidden"))),[e]),(0,RN.jsxs)("div",{className:"relative z-50",children:[(0,RN.jsxs)("div",{className:"md:hidden HAMBURGER-ICON space-y-2",onClick:()=>t((e=>!e)),children:[(0,RN.jsx)("span",{className:"block h-0.5 w-8 animate-pulse bg-gray-700"}),(0,RN.jsx)("span",{className:"block h-0.5 w-8 animate-pulse bg-gray-700"}),(0,RN.jsx)("span",{className:"block h-0.5 w-8 animate-pulse bg-gray-700"})]}),(0,RN.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity ".concat(e?"opacity-100":"opacity-0 pointer-events-none"),onClick:r}),(0,RN.jsxs)("div",{className:"fixed inset-y-0 left-0 transform w-full max-w-xs bg-white p-6 overflow-y-auto transition-transform duration-300 ".concat(e?"translate-x-0":"-translate-x-full"),children:[(0,RN.jsxs)("div",{className:"flex justify-between items-center z-49",children:[(0,RN.jsx)("h1",{className:"font-bungee px-4 py-2 text-xl",children:"Category"}),(0,RN.jsx)("button",{onClick:r,className:"rounded-md text-gray-600 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-purple-500",children:(0,RN.jsx)(JF,{})})]}),(0,RN.jsxs)("nav",{className:"mt-8",children:[(0,RN.jsxs)(dj,{to:"/",onClick:i,className:"flex items-center px-4 py-2 mt-5 text-gray-700 hover:bg-gray-100 rounded-md",children:[(0,RN.jsx)(uF,{}),(0,RN.jsx)("span",{className:"ml-3",children:"Home"})]}),(0,RN.jsxs)(dj,{to:"/pets",onClick:i,className:"flex items-center px-4 py-2 mt-5 text-gray-700 hover:bg-gray-100 rounded-md",children:[(0,RN.jsx)(IF,{}),(0,RN.jsx)("span",{className:"ml-3",children:"Pets"})]}),(0,RN.jsxs)(dj,{to:"/nature",onClick:i,className:"flex items-center px-4 py-2 mt-5 text-gray-700 hover:bg-gray-100 rounded-md",children:[(0,RN.jsx)(gF,{}),(0,RN.jsx)("span",{className:"ml-3",children:"Nature"})]}),(0,RN.jsxs)(dj,{to:"/food",onClick:i,className:"flex items-center px-4 py-2 mt-5 text-gray-700 hover:bg-gray-100 rounded-md",children:[(0,RN.jsx)(wF,{}),(0,RN.jsx)("span",{className:"ml-3",children:"Food"})]}),(0,RN.jsxs)(dj,{to:"/photography",onClick:i,className:"flex items-center px-4 py-2 mt-5 text-gray-700 hover:bg-gray-100 rounded-md",children:[(0,RN.jsx)(SF,{}),(0,RN.jsx)("span",{className:"ml-3",children:"Photography"})]}),(0,RN.jsxs)(dj,{to:"/vehicles",onClick:i,className:"flex items-center px-4 py-2 mt-5 text-gray-700 hover:bg-gray-100 rounded-md",children:[(0,RN.jsx)(PF,{}),(0,RN.jsx)("span",{className:"ml-3",children:"Vehicles"})]}),(0,RN.jsxs)(dj,{to:"/crypto",onClick:i,className:"flex items-center px-4 py-2 mt-5 text-gray-700 hover:bg-gray-100 rounded-md",children:[(0,RN.jsx)(VF,{}),(0,RN.jsx)("span",{className:"ml-3",children:"Crypto"})]}),(0,RN.jsxs)(dj,{to:"/relationship",onClick:i,className:"flex items-center px-4 py-2 mt-5 text-gray-700 hover:bg-gray-100 rounded-md",children:[(0,RN.jsx)(UF,{}),(0,RN.jsx)("span",{className:"ml-3",children:"Love & Relationships"})]})]}),(0,RN.jsx)("div",{className:"absolute bottom-0 left-0 w-full px-6 pb-6",children:(0,RN.jsx)("button",{type:"button",className:"w-full py-3 text-white bg-gradient-to-r from-blue-500 to-teal-500 hover:from-pink-500 hover:to-yellow-500 focus:outline-none focus:ring-4 font-medium rounded-full text-md px-5 me-2 mb-8 flex items-center justify-center",onClick:()=>{r(),n("/meme-editor")},children:"Make a Meme"})})]})]})}function eL(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function tL(e,t){let[n,r]=(0,a.useState)((()=>eL(e)));return Mj((()=>{r(eL(e))}),[e.type,e.as]),Mj((()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")}),[n,t]),n}let nL=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function rL(e){var t,n;let r=null!=(t=e.innerText)?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let o=!1;for(let s of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))s.remove(),o=!0;let a=o?null!=(n=i.innerText)?n:"":r;return nL.test(a)&&(a=a.replace(nL,"")),a}function iL(e){let t=(0,a.useRef)(""),n=(0,a.useRef)("");return zj((()=>{let r=e.current;if(!r)return"";let i=r.innerText;if(t.current===i)return n.current;let o=function(e){let t=e.getAttribute("aria-label");if("string"==typeof t)return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let e=n.split(" ").map((e=>{let t=document.getElementById(e);if(t){let e=t.getAttribute("aria-label");return"string"==typeof e?e.trim():rL(t).trim()}return null})).filter(Boolean);if(e.length>0)return e.join(", ")}return rL(e).trim()}(r).trim().toLowerCase();return t.current=i,n.current=o,o}))}function oL(e){return[e.screenX,e.screenY]}var aL=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(aL||{});function sL(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=null!=r?r:-1;switch(e.focus){case 0:for(let e=0;e<n.length;++e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 1:for(let e=i-1;e>=0;--e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 2:for(let e=i+1;e<n.length;++e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 3:for(let e=n.length-1;e>=0;--e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 4:for(let r=0;r<n.length;++r)if(t.resolveId(n[r],r,n)===e.id)return r;return r;case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}const lL=["__demoMode"],cL=["id"],uL=["id"],dL=["id","disabled"];var hL=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(hL||{}),fL=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(fL||{}),pL=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(pL||{});function gL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e,n=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,r=$D(t(e.items.slice()),(e=>e.dataRef.current.domRef.current)),i=n?r.indexOf(n):null;return-1===i&&(i=null),{items:r,activeItemIndex:i}}let yL={1:e=>1===e.menuState?e:f(f({},e),{},{activeItemIndex:null,menuState:1}),0:e=>0===e.menuState?e:f(f({},e),{},{__demoMode:!1,menuState:0}),2:(e,t)=>{var n;let r=gL(e),i=sL(t,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return f(f(f({},e),r),{},{searchQuery:"",activeItemIndex:i,activationTrigger:null!=(n=t.trigger)?n:1})},3:(e,t)=>{let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find((e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))&&!e.dataRef.current.disabled})),o=i?e.items.indexOf(i):-1;return-1===o||o===e.activeItemIndex?f(f({},e),{},{searchQuery:r}):f(f({},e),{},{searchQuery:r,activeItemIndex:o,activationTrigger:1})},4:e=>""===e.searchQuery?e:f(f({},e),{},{searchQuery:"",searchActiveItemIndex:null}),5:(e,t)=>{let n=gL(e,(e=>[...e,{id:t.id,dataRef:t.dataRef}]));return f(f({},e),n)},6:(e,t)=>{let n=gL(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return f(f(f({},e),n),{},{activationTrigger:1})}},mL=(0,a.createContext)(null);function vL(e){let t=(0,a.useContext)(mL);if(null===t){let t=new Error("<".concat(e," /> is missing a parent <Menu /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(t,vL),t}return t}function bL(e,t){return Gj(t.type,yL,e,t)}mL.displayName="MenuContext";let wL=a.Fragment;let xL=iD.RenderStrategy|iD.Static;let EL=a.Fragment;let kL=uD((function(e,t){let{__demoMode:n=!1}=e,r=Dj(e,lL),i=(0,a.useReducer)(bL,{__demoMode:n,menuState:n?0:1,buttonRef:(0,a.createRef)(),itemsRef:(0,a.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:o,itemsRef:s,buttonRef:l},c]=i,u=Vj(t);IR([l,s],((e,t)=>{var n;c({type:1}),GD(t,VD.Loose)||(e.preventDefault(),null==(n=l.current)||n.focus())}),0===o);let d=zj((()=>{c({type:1})})),h=(0,a.useMemo)((()=>({open:0===o,close:d})),[o,d]),f={ref:u};return a.createElement(mL.Provider,{value:i},a.createElement(Xj,{value:Gj(o,{0:$j.Open,1:$j.Closed})},aD({ourProps:f,theirProps:r,slot:h,defaultTag:wL,name:"Menu"})))})),_L=uD((function(e,t){var n;let r=PR(),{id:i="headlessui-menu-button-".concat(r)}=e,o=Dj(e,cL),[s,l]=vL("Menu.Button"),c=Vj(s.buttonRef,t),u=Ij(),d=zj((e=>{switch(e.key){case VR.Space:case VR.Enter:case VR.ArrowDown:e.preventDefault(),e.stopPropagation(),l({type:0}),u.nextFrame((()=>l({type:2,focus:aL.First})));break;case VR.ArrowUp:e.preventDefault(),e.stopPropagation(),l({type:0}),u.nextFrame((()=>l({type:2,focus:aL.Last})))}})),h=zj((e=>{if(e.key===VR.Space)e.preventDefault()})),f=zj((t=>{if(MR(t.currentTarget))return t.preventDefault();e.disabled||(0===s.menuState?(l({type:1}),u.nextFrame((()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(t.preventDefault(),l({type:0})))})),p=(0,a.useMemo)((()=>({open:0===s.menuState})),[s]);return aD({ourProps:{ref:c,id:i,type:tL(e,s.buttonRef),"aria-haspopup":"menu","aria-controls":null==(n=s.itemsRef.current)?void 0:n.id,"aria-expanded":0===s.menuState,onKeyDown:d,onKeyUp:h,onClick:f},theirProps:o,slot:p,defaultTag:"button",name:"Menu.Button"})})),SL=uD((function(e,t){var n,r;let i=PR(),{id:o="headlessui-menu-items-".concat(i)}=e,s=Dj(e,uL),[l,c]=vL("Menu.Items"),u=Vj(l.itemsRef,t),d=DD(l.itemsRef),h=Ij(),f=Jj(),p=null!==f?(f&$j.Open)===$j.Open:0===l.menuState;(0,a.useEffect)((()=>{let e=l.itemsRef.current;e&&0===l.menuState&&e!==(null==d?void 0:d.activeElement)&&e.focus({preventScroll:!0})}),[l.menuState,l.itemsRef,d]),function(e){let{container:t,accept:n,walk:r,enabled:i=!0}=e,o=(0,a.useRef)(n),s=(0,a.useRef)(r);(0,a.useEffect)((()=>{o.current=n,s.current=r}),[n,r]),Mj((()=>{if(!t||!i)return;let e=jD(t);if(!e)return;let n=o.current,r=s.current,a=Object.assign((e=>n(e)),{acceptNode:n}),l=e.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,a,!1);for(;l.nextNode();)r(l.currentNode)}),[t,i,o,s])}({container:l.itemsRef.current,enabled:0===l.menuState,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let g=zj((e=>{var t,n;switch(h.dispose(),e.key){case VR.Space:if(""!==l.searchQuery)return e.preventDefault(),e.stopPropagation(),c({type:3,value:e.key});case VR.Enter:if(e.preventDefault(),e.stopPropagation(),c({type:1}),null!==l.activeItemIndex){let{dataRef:e}=l.items[l.activeItemIndex];null==(n=null==(t=e.current)?void 0:t.domRef.current)||n.click()}WD(l.buttonRef.current);break;case VR.ArrowDown:return e.preventDefault(),e.stopPropagation(),c({type:2,focus:aL.Next});case VR.ArrowUp:return e.preventDefault(),e.stopPropagation(),c({type:2,focus:aL.Previous});case VR.Home:case VR.PageUp:return e.preventDefault(),e.stopPropagation(),c({type:2,focus:aL.First});case VR.End:case VR.PageDown:return e.preventDefault(),e.stopPropagation(),c({type:2,focus:aL.Last});case VR.Escape:e.preventDefault(),e.stopPropagation(),c({type:1}),Tj().nextFrame((()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case VR.Tab:e.preventDefault(),e.stopPropagation(),c({type:1}),Tj().nextFrame((()=>{!function(e,t){JD(KD(),t,{relativeTo:e})}(l.buttonRef.current,e.shiftKey?zD.Previous:zD.Next)}));break;default:1===e.key.length&&(c({type:3,value:e.key}),h.setTimeout((()=>c({type:4})),350))}})),y=zj((e=>{if(e.key===VR.Space)e.preventDefault()})),m=(0,a.useMemo)((()=>({open:0===l.menuState})),[l]);return aD({ourProps:{"aria-activedescendant":null===l.activeItemIndex||null==(n=l.items[l.activeItemIndex])?void 0:n.id,"aria-labelledby":null==(r=l.buttonRef.current)?void 0:r.id,id:o,onKeyDown:g,onKeyUp:y,role:"menu",tabIndex:0,ref:u},theirProps:s,slot:m,defaultTag:"div",features:xL,visible:p,name:"Menu.Items"})})),CL=uD((function(e,t){let n=PR(),{id:r="headlessui-menu-item-".concat(n),disabled:i=!1}=e,o=Dj(e,dL),[s,l]=vL("Menu.Item"),c=null!==s.activeItemIndex&&s.items[s.activeItemIndex].id===r,u=(0,a.useRef)(null),d=Vj(t,u);Mj((()=>{if(s.__demoMode||0!==s.menuState||!c||0===s.activationTrigger)return;let e=Tj();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=u.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[s.__demoMode,u,c,s.menuState,s.activationTrigger,s.activeItemIndex]);let h=iL(u),f=(0,a.useRef)({disabled:i,domRef:u,get textValue(){return h()}});Mj((()=>{f.current.disabled=i}),[f,i]),Mj((()=>(l({type:5,id:r,dataRef:f}),()=>l({type:6,id:r}))),[f,r]);let p=zj((()=>{l({type:1})})),g=zj((e=>{if(i)return e.preventDefault();l({type:1}),WD(s.buttonRef.current)})),y=zj((()=>{if(i)return l({type:2,focus:aL.Nothing});l({type:2,focus:aL.Specific,id:r})})),m=function(){let e=(0,a.useRef)([-1,-1]);return{wasMoved(t){let n=oL(t);return(e.current[0]!==n[0]||e.current[1]!==n[1])&&(e.current=n,!0)},update(t){e.current=oL(t)}}}(),v=zj((e=>m.update(e))),b=zj((e=>{m.wasMoved(e)&&(i||c||l({type:2,focus:aL.Specific,id:r,trigger:0}))})),w=zj((e=>{m.wasMoved(e)&&(i||c&&l({type:2,focus:aL.Nothing}))})),x=(0,a.useMemo)((()=>({active:c,disabled:i,close:p})),[c,i,p]);return aD({ourProps:{id:r,ref:d,role:"menuitem",tabIndex:!0===i?void 0:-1,"aria-disabled":!0===i||void 0,disabled:void 0,onClick:g,onFocus:y,onPointerEnter:v,onMouseEnter:v,onPointerMove:b,onMouseMove:b,onPointerLeave:w,onMouseLeave:w},theirProps:o,slot:x,defaultTag:EL,name:"Menu.Item"})})),AL=Object.assign(kL,{Button:_L,Items:SL,Item:CL});var OL;const NL=["title","titleId"];function PL(){return PL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PL.apply(null,arguments)}function jL(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,NL);return a.createElement("svg",PL({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"800px",height:"800px",viewBox:"0 0 36 32",enableBackground:"new 0 0 36 32",xmlSpace:"preserve",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,OL||(OL=a.createElement("g",null,a.createElement("path",{fill:"#828282",d:"M0.5,31.983c0.268,0.067,0.542-0.088,0.612-0.354c1.03-3.843,5.216-4.839,7.718-5.435         c0.627-0.149,1.122-0.267,1.444-0.406c2.85-1.237,3.779-3.227,4.057-4.679c0.034-0.175-0.029-0.355-0.165-0.473         c-1.484-1.281-2.736-3.204-3.526-5.416c-0.022-0.063-0.057-0.121-0.103-0.171c-1.045-1.136-1.645-2.337-1.645-3.294         c0-0.559,0.211-0.934,0.686-1.217c0.145-0.087,0.236-0.24,0.243-0.408C10.042,5.036,13.67,1.026,18.12,1         c0.005,0,0.102,0.007,0.107,0.007c4.472,0.062,8.077,4.158,8.206,9.324c0.004,0.143,0.068,0.277,0.178,0.369         c0.313,0.265,0.459,0.601,0.459,1.057c0,0.801-0.427,1.786-1.201,2.772c-0.037,0.047-0.065,0.101-0.084,0.158         c-0.8,2.536-2.236,4.775-3.938,6.145c-0.144,0.116-0.212,0.302-0.178,0.483c0.278,1.451,1.207,3.44,4.057,4.679         c0.337,0.146,0.86,0.26,1.523,0.403c2.477,0.536,6.622,1.435,7.639,5.232c0.06,0.223,0.262,0.37,0.482,0.37         c0.043,0,0.086-0.006,0.13-0.017c0.267-0.072,0.425-0.346,0.354-0.613c-1.175-4.387-5.871-5.404-8.393-5.95         c-0.585-0.127-1.09-0.236-1.336-0.344c-1.86-0.808-3.006-2.039-3.411-3.665c1.727-1.483,3.172-3.771,3.998-6.337         c0.877-1.14,1.359-2.314,1.359-3.317c0-0.669-0.216-1.227-0.644-1.663C27.189,4.489,23.19,0.076,18.227,0.005l-0.149-0.002         c-4.873,0.026-8.889,4.323-9.24,9.83c-0.626,0.46-0.944,1.105-0.944,1.924c0,1.183,0.669,2.598,1.84,3.896         c0.809,2.223,2.063,4.176,3.556,5.543c-0.403,1.632-1.55,2.867-3.414,3.676c-0.241,0.105-0.721,0.22-1.277,0.352         c-2.541,0.604-7.269,1.729-8.453,6.147C0.075,31.638,0.233,31.911,0.5,31.983z"}))))}const DL=a.forwardRef(jL);__webpack_require__.p;var RL;const TL=["title","titleId"];function IL(){return IL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IL.apply(null,arguments)}function FL(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,TL);return a.createElement("svg",IL({className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,RL||(RL=a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})))}const LL=a.forwardRef(FL);__webpack_require__.p;var BL;const ML=["title","titleId"];function UL(){return UL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UL.apply(null,arguments)}function zL(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ML);return a.createElement("svg",UL({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"mx-auto h-12 w-12 text-gray-400",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,BL||(BL=a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})))}const HL=a.forwardRef(zL),qL=(__webpack_require__.p,async e=>{const t=new FormData;t.append("image",e);const n=new Headers;n.append("Authorization","Client-ID c41537d03e6c984");const r=await fetch("https://api.imgur.com/3/upload",{method:"POST",headers:n,body:t}),i=await r.json();if(!r.ok)throw new Error("Upload failed");return i}),KL=e=>{let{isOpen:t,onClose:n,onUploadSuccess:r}=e;const[i,o]=(0,a.useState)(null),[s,l]=(0,a.useState)(""),[c,u]=(0,a.useState)([]),[d,h]=(0,a.useState)(""),[f,p]=(0,a.useState)(""),[g,y]=(0,a.useState)(0),[m,v]=(0,a.useState)(0),[b,w]=(0,a.useState)(!1),[x,E]=(0,a.useState)(!1);let k=(0,a.useRef)(null);const _=async e=>{v(1);const t=e.target.files[0];if(t){w(!0);try{const e=await qL(t);o(e.data.link),v(2)}catch(kU){console.error("An error occurred:",kU),o(null)}w(!1),t&&p(URL.createObjectURL(t))}};return(0,a.useEffect)((()=>()=>{k&&clearTimeout(k)}),[]),(0,RN.jsx)(RN.Fragment,{children:(0,RN.jsx)("div",{className:"z-50",children:(0,RN.jsx)(OD.Root,{show:t,as:a.Fragment,children:(0,RN.jsxs)(cT,{as:"div",className:"relative z-50",onClose:n,children:[(0,RN.jsx)(OD.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-10",children:(0,RN.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,RN.jsx)("div",{className:"fixed inset-0 z-10 p-4 overflow-y-auto",children:(0,RN.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0",children:(0,RN.jsx)(OD.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,RN.jsxs)(cT.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all w-full max-w-[95%]  sm:max-w-lg mx-auto",children:[(0,RN.jsxs)("div",{className:"flex items-center justify-between px-2 pt-2 sm:p-4",children:[(0,RN.jsx)("div",{className:"mb-1",children:(0,RN.jsx)("h3",{className:"text-lg pt-2 px-2 font-medium text-gray-900",children:"Upload"})}),(0,RN.jsxs)("button",{type:"button",className:"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:n,children:[(0,RN.jsx)("span",{className:"sr-only",children:"Close"}),(0,RN.jsx)(BT,{})]})]}),(0,RN.jsx)("div",{className:"flex-1 overflow-auto",style:{paddingBottom:"70px"},children:(0,RN.jsx)("div",{className:"bg-white px-4 pt-2 pb-4",children:(0,RN.jsxs)("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-1",children:[(0,RN.jsxs)("div",{className:"sm:col-span-2",children:[(0,RN.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700"}),(0,RN.jsx)("div",{className:"mt-1",children:(0,RN.jsx)("input",{type:"text",name:"title",id:"title",onChange:function(e){l(e.target.value)},value:s,className:"bg-gray-50 border text-wrap border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 ",placeholder:"Add a Title...(140 Characters Max)"})})]}),(0,RN.jsxs)("div",{className:"sm:col-span-2",children:[(0,RN.jsx)("label",{htmlFor:"hashtags",className:"block text-sm font-medium text-gray-700"}),(0,RN.jsxs)("div",{className:"mt-1 flex flex-wrap gap-2 ",children:[(0,RN.jsxs)("div",{className:"flex w-full",children:[(0,RN.jsx)("div",{className:"bg-white border border-gray-300 rounded-l-md p-2.5 flex items-center",children:(0,RN.jsx)("span",{className:"text-indigo-600",children:"#"})}),(0,RN.jsx)("input",{type:"text",name:"hashtags",id:"hashtags",value:d,onChange:e=>{h(e.target.value)},onKeyDown:e=>{if(" "===e.key&&""!==e.target.value.trim()){let t=e.target.value.trim();t.startsWith("#")||(t="#".concat(t)),c.length<3?(u([...c,t]),h(""),E(!1)):(E(!0),clearTimeout(k),k=setTimeout((()=>{E(!1)}),3e3)),e.preventDefault()}},className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-r-md focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"Add Tags"})]}),(0,RN.jsx)("div",{className:"pl-2 text-gray-400 text-sm",children:"Upto 3 tags, seperated with space."}),c.map(((e,t)=>(0,RN.jsxs)("div",{className:"flex items-center text-wrap gap-1 bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded",children:[e,(0,RN.jsx)("button",{type:"button",onClick:()=>{return e=t,void u(c.filter(((t,n)=>n!==e)));var e},className:"text-blue-500 hover:text-blue-700",children:"\xd7"})]},e))),x&&(0,RN.jsx)("div",{className:"fixed top-0 inset-x-0 flex justify-center items-start z-50",children:(0,RN.jsx)("div",{className:"mt-2 p-4 bg-black text-white rounded-lg shadow-lg transition-transform transform-gpu animate-slideInSlideOut",children:(0,RN.jsx)("p",{children:"Max allowed tags: 3"})})})]})]}),(0,RN.jsxs)("div",{className:"sm:col-span-2",children:[(0,RN.jsx)("label",{htmlFor:"file-upload",className:"block text-sm font-medium text-gray-700"}),(0,RN.jsx)("div",{className:"mt-1 flex justify-center items-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:(0,RN.jsxs)("div",{className:"space-y-1 text-center",children:[!f&&!b&&(0,RN.jsxs)(RN.Fragment,{children:[(0,RN.jsx)(HL,{}),(0,RN.jsxs)("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none",children:[(0,RN.jsx)("span",{children:"Upload a file"}),(0,RN.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",onChange:_,className:"sr-only"})]}),(0,RN.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, MP4 up to 10MB"})]}),b&&(0,RN.jsx)("div",{className:"flex justify-center items-center",children:(0,RN.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}),f&&(0,RN.jsxs)("div",{className:"relative",children:[(0,RN.jsx)("img",{src:f,alt:"Preview",className:"mt-4 w-full h-auto max-h-[300px] object-contain rounded"}),(0,RN.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 flex justify-between items-center p-2 bg-white bg-opacity-75",children:[(0,RN.jsxs)("label",{htmlFor:"file-upload",className:"p-1 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-700 cursor-pointer",children:[(0,RN.jsx)(LL,{}),(0,RN.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",onChange:_,className:"sr-only"}),(0,RN.jsx)("span",{className:"sr-only",children:"Change image"})]}),(0,RN.jsxs)("button",{type:"button",onClick:()=>{p(null),o(null)},className:"p-1 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-700",children:[(0,RN.jsx)(BT,{}),(0,RN.jsx)("span",{className:"sr-only",children:"Remove image"})]})]})]})]})})]})]})})}),(0,RN.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-50 p-3 sm:p-4 text-right shadow-top",children:(0,RN.jsx)("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-gradient-to-r from-blue-500 to-teal-500 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm",onClick:()=>{(()=>{if(0===m||""===s)return void alert("Can not create post without media and title.");if(2!==m){if(!(g<3))return void alert("Timed out before we could upload post. Try again later");setTimeout((()=>{y((e=>e+1))}),1e3)}if(!s)return void alert("Can not create post without title.");i||alert("Image could not be uploaded. Please try again.");const e=PN(),t=localStorage.getItem("memestr");if(!t)return void alert("Login required to Upload Post.");let o=JSON.parse(t).pubKey,a=JSON.parse(t).privateKey,l=Ha.decode(a),u={kind:1,pubkey:o,created_at:Math.floor(Date.now()/1e3),tags:[["d","memestr"],["url",i],["p",o],["category","memestrrr"]],content:s+" "+i+" "+c.join(" ")};u.id=_a(u),u.sig=Oa(u,l.data);let d=e.publish(["wss://relay.damus.io"],u);Promise.resolve(d).then((e=>{console.log("Success",e),v(4),r&&r(),n()}),(e=>{console.error("something went wrong",e)}))})()},children:"Post"})})]})})})})]})})})})},VL=e=>{let{setPicture:t}=e;const[n,r]=(0,a.useState)(null);return(0,RN.jsx)("div",{className:"mt-4 border border-gray-200 shadow-sm rounded-lg p-4 bg-gray-50",children:(0,RN.jsx)("div",{className:"flex items-center justify-center",children:(0,RN.jsxs)("label",{className:"cursor-pointer",children:[(0,RN.jsx)("div",{className:"w-24 h-24 rounded-full overflow-hidden border-2 border-gray-300 flex items-center justify-center ".concat(n?"border-blue-500":"border-gray-300"),children:n?(0,RN.jsx)("img",{src:URL.createObjectURL(n),alt:"Uploaded",className:"w-full h-full object-cover"}):(0,RN.jsx)("div",{className:"flex items-center justify-center",children:(0,RN.jsx)(DL,{className:"w-16 h-16 text-gray-400"})})}),(0,RN.jsxs)("div",{className:"flex flex-col items-center mt-3",children:[(0,RN.jsx)("span",{className:"block text-sm font-medium text-gray-700",children:n?"Change Image":"Upload Image"}),(0,RN.jsx)("span",{className:"block text-xs text-gray-500",children:n?"Tap to select another":"Tap to select a file"})]}),(0,RN.jsx)("input",{type:"file",className:"hidden",onChange:async e=>{const n=e.target.files[0];if(n)try{const e=await qL(n);t(e.data.link),r(n)}catch(kU){console.error("An error occured",kU),t(null)}}})]})})})};function GL(e){let{label:t,placeholder:n,value:r,onChange:i}=e;return(0,RN.jsxs)("div",{children:[(0,RN.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:t}),(0,RN.jsx)("input",{type:"text",className:"w-full px-4 py-2 mt-1 border rounded-md bg-gray-50 text-gray-700 focus:ring-blue-500 focus:border-blue-500",placeholder:n,value:r,onChange:i})]})}function WL(e){let{label:t,placeholder:n,value:r,onChange:i}=e;return(0,RN.jsxs)("div",{children:[(0,RN.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:t}),(0,RN.jsx)("textarea",{className:"w-full px-4 py-2 mt-1 border rounded-md bg-gray-50 text-gray-700 focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:n,value:r,onChange:i})]})}function YL(){return(0,RN.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex justify-center items-center",children:(0,RN.jsx)("div",{className:"flex justify-center items-center",children:(0,RN.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})})})}const ZL=function(e){let{isOpen:t,onClose:n,sk:r,pk:i}=e;const[o,s]=(0,a.useState)(""),[l,c]=(0,a.useState)(""),[u,d]=(0,a.useState)(""),[h,f]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1);return(0,RN.jsxs)(RN.Fragment,{children:[(0,RN.jsx)(OD.Root,{show:t,as:a.Fragment,children:(0,RN.jsxs)(cT,{as:"div",className:"relative z-50",onClose:n,children:[(0,RN.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),(0,RN.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,RN.jsx)("div",{className:"flex items-center justify-center min-h-full p-4 text-center",children:(0,RN.jsx)(OD.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,RN.jsxs)(cT.Panel,{className:"w-full max-w-lg transform overflow-hidden rounded-xl bg-white p-6 text-left align-middle shadow-lg transition-all",children:[(0,RN.jsxs)("div",{className:"text-center mb-4",children:[(0,RN.jsx)(cT.Title,{as:"h3",className:"text-xl font-semibold leading-6 text-gray-800",children:"Create Your Account"}),(0,RN.jsx)("p",{className:"text-sm text-gray-600",children:"Start exploring the world of memes!"})]}),(0,RN.jsxs)("div",{className:"space-y-4",children:[(0,RN.jsx)(GL,{label:"Username:",placeholder:"Username",value:o,onChange:function(e){s(e.target.value)}}),(0,RN.jsx)(WL,{label:"About Me:",placeholder:"Tell us about yourself",value:l,onChange:function(e){c(e.target.value)}}),(0,RN.jsx)(VL,{label:"Profile Picture:",setPicture:e=>{d(e)}}),(0,RN.jsx)("button",{type:"button",className:"w-full rounded-md bg-gradient-to-r from-blue-500 to-teal-500 hover:bg-blue-700 px-4 py-2 text-sm font-bold text-white shadow focus:outline-none transition duration-300",onClick:async()=>{await async function(e,t){f(!0);const r=["wss://relay.damus.io","wss://relay.primal.net","wss://relay.snort.social","wss://relay.hllo.live"],i=PN(),a=e;e=Ha.decode(e),t=Ha.decode(t);const s={name:o,about:l,picture:u};u.length>0&&(s.picture=u);const c={kind:0,pubkey:t.data,created_at:Math.floor(Date.now()/1e3),tags:[["p",t.data],["w","memestrAccount"]],content:JSON.stringify(s)};c.id=_a(c),c.sig=Oa(c,e.data);try{await i.publish(r,c),i.close(r);const e=await eF(t.data);let o=JSON.parse(e.content);o.pubKey=t.data,o.privateKey=a,localStorage.setItem("memestr",JSON.stringify(o)),f(!1),n(),g(!0),setTimeout((()=>g(!1)),3e3)}catch(kU){console.error("Error during registration:",kU),f(!1)}}(r,i),n()},children:"Create Account and Login"}),h&&(0,RN.jsx)(YL,{})]})]})})})})]})}),p&&(0,RN.jsx)("div",{className:"fixed top-0 inset-x-0 flex justify-center items-start z-50",children:(0,RN.jsxs)("div",{className:"mt-12 p-4 bg-black text-white rounded-lg shadow-lg transition-transform transform-gpu animate-slideInSlideOut flex items-center",children:[(0,RN.jsx)(CT,{className:"h-6 w-6 mr-2 text-white"}),(0,RN.jsx)("p",{children:"Created Account Successfully"})]})})]})};const QL=function(e){let{isOpen:t,onClose:n}=e;const[r,i]=(0,a.useState)({}),[o,s]=(0,a.useState)("");return(0,RN.jsx)(OD.Root,{show:t,as:a.Fragment,className:"z-50",children:(0,RN.jsxs)(cT,{as:"div",className:"relative z-40",onClose:()=>{n(r)},children:[(0,RN.jsx)(OD.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-10",children:(0,RN.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,RN.jsx)("div",{className:"fixed inset-0 z-40 overflow-hidden",children:(0,RN.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0",children:(0,RN.jsx)(OD.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,RN.jsxs)(cT.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[(0,RN.jsx)("div",{className:"bg-white px-4 sm:p-6 sm:pb-4",children:(0,RN.jsx)("div",{className:"sm:flex sm:items-start",children:(0,RN.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[(0,RN.jsxs)(cT.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900 p-3 sm:p-0",children:["Login to Memestr",(0,RN.jsx)("button",{type:"button",className:"absolute top-3 right-3 p-3 sm:p-0",onClick:()=>n({}),children:(0,RN.jsx)(BT,{className:"h-6 w-6 text-gray-700","aria-hidden":"true"})})]}),(0,RN.jsx)("div",{className:"mt-5",children:(0,RN.jsx)(cT.Description,{children:(0,RN.jsxs)("div",{className:"mb-3",children:[(0,RN.jsx)("label",{htmlFor:"loginKey",className:"flex justify-start block mb-2 text-sm font-medium font-sans text-gray-500 dark:text-black",children:"Enter your Nostr private key (starting with \u201cnsec\u201d):"}),(0,RN.jsx)("input",{type:"text",id:"loginKey",onChange:function(e){s(e.target.value)},value:o,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"Guy_who_farted",required:!0}),(0,RN.jsx)("div",{className:"flex align-middle justify mt text-sm text-gray-300 p-1",children:"We don't store your keys."})]})})})]})})}),(0,RN.jsx)("div",{className:"px-6 pb-3 bg-white text-right",children:(0,RN.jsx)("button",{type:"button",className:"inline-flex justify-end rounded-full border border-transparent shadow-sm px-10 py-2 text-white font-medium sm:text-sm ".concat((o.trim(),"bg-gradient-to-r from-blue-500 to-teal-500 hover:bg-blue-700")),disabled:!o.trim(),onClick:()=>{!function(){if(""===o.trim())return;const e=localStorage.getItem("memestr");if(e){const t=JSON.parse(e);i({display_name:t.display_name,picture:t.picture,name:t.name}),n(t)}else nF(o).then((e=>{const t={display_name:e.display_name,picture:e.picture,name:e.name,pubKey:pa(Ha.decode(o).data),privateKey:o};i(t),localStorage.setItem("memestr",JSON.stringify(t)),n(t)}))}()},children:"Login"})})]})})})})]})})};var $L;const JL=["title","titleId"];function XL(){return XL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XL.apply(null,arguments)}function eB(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,JL);return a.createElement("svg",XL({width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,$L||($L=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 6C8 3.79086 9.79086 2 12 2H17.5C19.9853 2 22 4.01472 22 6.5V17.5C22 19.9853 19.9853 22 17.5 22H12C9.79086 22 8 20.2091 8 18V17C8 16.4477 8.44772 16 9 16C9.55228 16 10 16.4477 10 17V18C10 19.1046 10.8954 20 12 20H17.5C18.8807 20 20 18.8807 20 17.5V6.5C20 5.11929 18.8807 4 17.5 4H12C10.8954 4 10 4.89543 10 6V7C10 7.55228 9.55228 8 9 8C8.44772 8 8 7.55228 8 7V6ZM12.2929 8.29289C12.6834 7.90237 13.3166 7.90237 13.7071 8.29289L16.7071 11.2929C17.0976 11.6834 17.0976 12.3166 16.7071 12.7071L13.7071 15.7071C13.3166 16.0976 12.6834 16.0976 12.2929 15.7071C11.9024 15.3166 11.9024 14.6834 12.2929 14.2929L13.5858 13L5 13C4.44772 13 4 12.5523 4 12C4 11.4477 4.44772 11 5 11L13.5858 11L12.2929 9.70711C11.9024 9.31658 11.9024 8.68342 12.2929 8.29289Z",fill:"#0F1729"})))}const tB=a.forwardRef(eB);__webpack_require__.p;var nB;const rB=["title","titleId"];function iB(){return iB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iB.apply(null,arguments)}function oB(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,rB);return a.createElement("svg",iB({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5} ",stroke:"currentColor",className:"w-6 h-6 text-white",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,nB||(nB=a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 18.75a6.5 6.5 0 00-10.5 0M12 14.25a4 4 0 100-8 4 4 0 000 8zM20.25 14.25a8.75 8.75 0 11-16.5 0"})))}const aB=a.forwardRef(oB);__webpack_require__.p;var sB;const lB=["title","titleId"];function cB(){return cB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cB.apply(null,arguments)}function uB(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,lB);return a.createElement("svg",cB({width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,sB||(sB=a.createElement("path",{d:"M15 16.5V19C15 20.1046 14.1046 21 13 21H6C4.89543 21 4 20.1046 4 19V5C4 3.89543 4.89543 3 6 3H13C14.1046 3 15 3.89543 15 5V8.0625M20 12L9 12M9 12L11.5 14.5M9 12L11.5 9.5",stroke:"#000000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}const dB=a.forwardRef(uB);__webpack_require__.p;var hB,fB,pB;const gB=["title","titleId"];function yB(){return yB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yB.apply(null,arguments)}function mB(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,gB);return a.createElement("svg",yB({width:24,height:24,viewBox:"0 0 24 24",className:"icon icon-tabler icon-tabler-user",fill:"none",stroke:"#000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,hB||(hB=a.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"})),fB||(fB=a.createElement("path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0"})),pB||(pB=a.createElement("path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"})))}const vB=a.forwardRef(mB);__webpack_require__.p;var bB,wB,xB;const EB=["title","titleId"];function kB(){return kB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kB.apply(null,arguments)}function _B(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,EB);return a.createElement("svg",kB({fill:"#000000",viewBox:"0 0 256.00 256.00",id:"Flat",xmlns:"http://www.w3.org/2000/svg",transform:"matrix(-1, 0, 0, 1, 0, 0)rotate(90)",stroke:"#000000",strokeWidth:5.12,ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,bB||(bB=a.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0})),wB||(wB=a.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"})),xB||(xB=a.createElement("g",{id:"SVGRepo_iconCarrier"},a.createElement("path",{d:"M218.13721,161.9248a3.99269,3.99269,0,0,0-3.853-.23242,24.004,24.004,0,1,1-12.05078-45.6289,24.13184,24.13184,0,0,1,12.05078,2.24414A4.00028,4.00028,0,0,0,220,114.69434L219.99951,72A12.01354,12.01354,0,0,0,207.999,60l-41.00439.001A32.00614,32.00614,0,1,0,104.083,49.666a32.35032,32.35032,0,0,0,.93115,10.335L64,60A12.01343,12.01343,0,0,0,52,72l.00049,37.00488A32.0063,32.0063,0,1,0,41.666,171.917a32.35,32.35,0,0,0,10.33447-.93164L52,208a12.01312,12.01312,0,0,0,12,12H207.99951a12.01343,12.01343,0,0,0,12-12L220,165.30566A3.99856,3.99856,0,0,0,218.13721,161.9248ZM211.99951,208a4.00489,4.00489,0,0,1-4,4H64a4.00427,4.00427,0,0,1-4-4l.00049-42.69434a4.00036,4.00036,0,0,0-5.71631-3.61328A24.00314,24.00314,0,0,1,26.502,123.57422a24.02343,24.02343,0,0,1,27.78223-5.2666,4.00051,4.00051,0,0,0,5.71631-3.61328L60,72a4.00427,4.00427,0,0,1,4-4l46.69434.001h0a3.99952,3.99952,0,0,0,3.61328-5.71582,24.01013,24.01013,0,0,1,20.13476-34.23633,24.01351,24.01351,0,0,1,23.249,34.23633,4,4,0,0,0,3.61328,5.71582L207.99951,68a4.00489,4.00489,0,0,1,4,4L212,109.01465a32.37815,32.37815,0,0,0-10.335-.93164A32.00275,32.00275,0,1,0,212,170.99512Z"}))))}const SB=a.forwardRef(_B);__webpack_require__.p;const CB=function(){const e=jP(),[t,n]=(0,a.useState)(!1),[r,i]=(0,a.useState)(!1),[o,s]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),[u,d]=(0,a.useState)(!1),[h,f]=(0,a.useState)(""),[p,g]=(0,a.useState)(x()),[y,m]=(0,a.useState)(""),{isLoggedIn:v,setIsLoggedIn:b}=mI(),w=()=>{n(!0);let e=function(){const e=C(rt.utils.randomPrivateKey()),t=pa(e),n=Ha.nsecEncode(e),r=Ha.npubEncode(t);return{epk:n,epubKey:r}}();f(e.epk),m(e.epubKey)};function x(){const e=localStorage.getItem("memestr");return e?JSON.parse(e):null}const E=()=>{g(null),s(!0)},k=async()=>{if(window.nostr)try{const e=await window.nostr.getPublicKey(),t=await tF(e);t?(g({display_name:t.display_name,picture:t.picture,name:t.name,pubKey:e}),b(!0),localStorage.setItem("memestr",JSON.stringify({display_name:t.display_name,picture:t.picture,name:t.name,pubKey:e}))):alert("User details not found.")}catch(kU){console.error("Error logging in with extension:",kU),alert("There was an error during the login process.")}else alert("No extension found. Please try logging in with key instead.")};function _(){localStorage.removeItem("memestr"),g(null),b(!1),c(!0),setTimeout((()=>c(!1)),3e3)}(0,a.useEffect)((()=>{const e=localStorage.getItem("memestr");e?(g(JSON.parse(e)),b(!0)):(b(!1),g(null))}),[v,b]);const S=()=>{e("/profile")};return(0,RN.jsxs)("div",{className:"inline-block text-left",children:[(0,RN.jsxs)(AL,{as:"div",className:"relative ",children:[(0,RN.jsx)("div",{children:(0,RN.jsx)(AL.Button,{className:p?"inline-flex items-center justify-center rounded-full bg-white hidden p-1 md:inline-flex":"inline-flex items-center justify-center rounded-full bg-gradient-to-r from-blue-500 to-teal-500 p-2 hover:from-pink-500 hover:to-yellow-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 hidden md:inline-flex",children:p&&void 0!==p.picture?void 0===p.picture?(0,RN.jsx)("img",{src:II,alt:"Default Profile",className:"w-10 h-10 rounded-full"}):(0,RN.jsx)("img",{src:p.picture,alt:"Profile",className:"w-10 h-10 rounded-full"}):(0,RN.jsx)(aB,{})})}),(0,RN.jsx)("div",{className:"md:hidden",children:(0,RN.jsx)(AL.Button,{children:p?void 0===p.picture?(0,RN.jsx)("img",{src:II,alt:"Default Profile",className:"w-8 h-8 rounded-full"}):(0,RN.jsx)("img",{src:p.picture,alt:"Profile",className:"w-8 h-8 rounded-full"}):(0,RN.jsx)(vB,{})})}),(0,RN.jsx)(OD,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,RN.jsx)(AL.Items,{className:"absolute z-50 md:z-10 mb-12 md:mt-12 w-48 h-max p-2 origin-top-right bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none right-0 md:right-0 bottom-0 md:top-0",children:(0,RN.jsx)("div",{className:"py-1",children:v?(0,RN.jsxs)(RN.Fragment,{children:[(0,RN.jsx)(AL.Item,{children:e=>{let{active:t}=e;return(0,RN.jsxs)("button",{onClick:S,className:"".concat(t?"font-semibold text-gray-900":"font-normal text-gray-700"," group flex w-full items-center rounded-md px-2 py-2 text-sm"),children:[(0,RN.jsx)(vB,{className:"mr-2 h-6 w-6"}),p.name]})}}),(0,RN.jsx)(AL.Item,{children:e=>{let{active:t}=e;return(0,RN.jsxs)("button",{onClick:_,className:"".concat(t?"font-semibold text-gray-900":"font-normal text-gray-700"," group flex w-full items-center rounded-md px-2 py-2 text-sm hover:text-gray-900"),children:[(0,RN.jsx)(dB,{className:"mr-2 h-6 w-6"}),"Logout"]})}})]}):(0,RN.jsxs)(RN.Fragment,{children:[(0,RN.jsx)(AL.Item,{children:e=>{let{active:t}=e;return(0,RN.jsxs)("button",{onClick:w,className:"".concat(t?"font-semibold":"font-normal"," group flex w-full items-center rounded-md px-2 py-2 text-sm text-gray-700 hover:text-gray-900"),disabled:v,children:[(0,RN.jsx)(vB,{className:"mr-2 h-6 w-6"}),"Create Account"]})}}),(0,RN.jsx)(AL.Item,{children:e=>{let{active:t}=e;return(0,RN.jsxs)("button",{onClick:E,className:"".concat(t?"font-semibold":"font-normal"," group flex w-full items-center rounded-md px-2 py-2 text-sm text-gray-700 hover:text-gray-900"),children:[(0,RN.jsx)(tB,{className:"mr-2 h-6 w-6"}),"Login"]})}}),(0,RN.jsx)(AL.Item,{children:e=>{let{active:t}=e;return(0,RN.jsxs)("button",{onClick:k,className:"".concat(t?"font-semibold":"font-normal"," group flex w-full items-center rounded-md px-2 py-2 text-sm text-gray-700 hover:text-gray-900"),children:[(0,RN.jsx)(SB,{className:"mr-2 h-6 w-6"}),"Extension Login"]})}})]})})})})]}),(0,RN.jsx)(DT,{isOpen:t,onClose:()=>{n(!1),i(!0)},sk:h,pk:y}),(0,RN.jsx)(ZL,{isOpen:r,onClose:()=>{i(!1),x()&&b(!0)},sk:h,pk:y}),(0,RN.jsx)(QL,{isOpen:o,onClose:e=>{s(!1),e&&0!==Object.keys(e).length&&(g(e),b(!0),d(!0),setTimeout((()=>d(!1)),3e3))}}),l&&(0,RN.jsx)("div",{className:"fixed top-0 inset-x-0 flex justify-center items-start z-50",children:(0,RN.jsxs)("div",{className:"mt-12 p-4 bg-black text-white rounded-lg shadow-lg transition-transform transform-gpu animate-slideInSlideOut flex items-center",children:[(0,RN.jsx)(CT,{className:"h-6 w-6 mr-2 text-white"}),(0,RN.jsx)("p",{children:"Logged Out Successfully"})]})}),u&&(0,RN.jsx)("div",{className:"fixed top-0 inset-x-0 flex justify-center items-start z-50",children:(0,RN.jsxs)("div",{className:"mt-12 p-4 bg-black text-white rounded-lg shadow-lg transition-transform transform-gpu animate-slideInSlideOut flex items-center",children:[(0,RN.jsx)(CT,{className:"h-6 w-6 mr-2 text-white"}),(0,RN.jsx)("p",{children:"Logged In Successfully"})]})})]})};var AB;const OB=["title","titleId"];function NB(){return NB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NB.apply(null,arguments)}function PB(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,OB);return a.createElement("svg",NB({xmlns:"http://www.w3.org/2000/svg",width:120,height:26,fill:"none",viewBox:"0 0 80 17",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,AB||(AB=a.createElement("path",{fill:"#000",d:"M10.812 8.146c-.086 0-.162.068-.226.204-.272.53-.562 1.01-.87 1.44-.301.429-.605.794-.913 1.095-.308.3-.613.533-.913.698-.301.158-.584.236-.849.236a1.63 1.63 0 01-.72-.16c-.215-.115-.45-.327-.709-.635-.25-.307-.54-.734-.87-1.278A65.447 65.447 0 013.55 7.62a.965.965 0 00-.247-.311c-.079-.072-.15-.108-.215-.108-.093 0-.18.1-.258.301-.079.193-.147.469-.204.827-.057.351-.104.777-.14 1.278a28.59 28.59 0 00-.043 1.644c0 .358.018.716.054 1.074.043.358.065.727.065 1.107 0 .129-.036.25-.108.365a.985.985 0 01-.29.28 1.344 1.344 0 01-.419.203c-.157.05-.326.075-.505.075-.358 0-.616-.214-.773-.644-.158-.43-.237-1.117-.237-2.063 0-1.196.065-2.28.194-3.254.136-.982.326-1.82.57-2.514.25-.702.543-1.243.88-1.622.344-.387.727-.58 1.15-.58.372 0 .726.215 1.063.644.344.423.712 1.11 1.106 2.063.158.387.326.748.505 1.085.186.336.37.63.548.88.186.244.365.437.537.58.172.137.326.205.462.205a.897.897 0 00.387-.086c.129-.065.272-.197.43-.398a6.56 6.56 0 00.569-.902c.222-.394.494-.92.816-1.58.172-.343.326-.63.462-.858.136-.23.272-.412.408-.548.136-.144.28-.244.43-.301a1.27 1.27 0 01.505-.097c.222 0 .44.118.655.355.215.236.423.551.623.945.208.394.409.852.602 1.375s.38 1.07.558 1.644c.187.573.366 1.156.537 1.75.18.588.351 1.146.516 1.676.043.158.072.269.086.333a.669.669 0 01-.086.58 1.187 1.187 0 01-.29.312 1.564 1.564 0 01-.419.226c-.15.057-.3.085-.451.085-.2 0-.358-.021-.473-.064a.561.561 0 01-.258-.258 3.72 3.72 0 01-.182-.515c-.086-.28-.19-.61-.312-.989a38.347 38.347 0 00-.386-1.224c-.136-.43-.276-.824-.42-1.182a7.077 7.077 0 00-.397-.902c-.129-.244-.243-.365-.343-.365zm13.997 3.502c.207-.18.411-.27.612-.27.114 0 .218.03.311.087.094.057.197.147.312.268.107.165.183.301.226.409.05.1.075.2.075.3 0 .215-.108.42-.322.613a7.74 7.74 0 01-1.118.773c-.4.222-.82.412-1.257.57a7.84 7.84 0 01-1.353.354 7.623 7.623 0 01-1.386.129 5.73 5.73 0 01-1.633-.226 4.66 4.66 0 01-1.364-.623 4.051 4.051 0 01-.999-.977 3.749 3.749 0 01-.58-1.3c-.064-.2-.125-.33-.183-.387-.05-.064-.136-.097-.257-.097-.265 0-.47-.064-.613-.193-.143-.129-.215-.315-.215-.558 0-.1.008-.165.022-.194l.021-.215c.036-.257.104-.444.204-.558.108-.115.273-.172.495-.172h.16c.302 0 .513-.14.635-.42.222-.493.504-.944.848-1.353.344-.408.73-.755 1.16-1.042.43-.293.888-.519 1.375-.676a4.727 4.727 0 011.504-.247c.53 0 1.024.078 1.483.236.465.15.87.362 1.213.634.344.272.613.59.806.956.2.365.301.759.301 1.181 0 .294-.057.563-.172.806-.114.244-.28.458-.494.645a2.666 2.666 0 01-.784.44c-.301.115-.645.19-1.031.226l-3.728.376a.565.565 0 00-.354.107.358.358 0 00-.13.29c0 .186.069.365.205.537.143.172.33.326.558.462.237.129.505.233.806.312.308.078.623.118.945.118.308 0 .623-.029.946-.086a7.244 7.244 0 001.901-.677c.3-.165.584-.35.849-.559zm-2.396-2.772a.536.536 0 00.28-.15.457.457 0 000-.612 1.065 1.065 0 00-.323-.248 1.757 1.757 0 00-.473-.182 2.434 2.434 0 00-.569-.065c-.293 0-.594.043-.902.13-.308.085-.587.2-.838.343-.25.136-.455.29-.612.462-.158.164-.237.33-.237.494 0 .165.1.247.301.247.122 0 .319-.014.59-.043.273-.029.574-.06.903-.097a55.562 55.562 0 001.88-.279zm5.575 5.586a29.72 29.72 0 00-.247-2.632 32.155 32.155 0 00-.343-2.116 27.417 27.417 0 00-.312-1.461c-.086-.372-.129-.605-.129-.698 0-.136.05-.269.15-.398.108-.129.24-.24.398-.333.157-.1.326-.179.505-.236.186-.057.354-.086.505-.086a.69.69 0 01.311.064.36.36 0 01.194.215c.035.122.068.25.096.387.036.129.072.286.108.473.043.265.1.397.171.397.08 0 .169-.118.27-.354.142-.33.296-.602.461-.817a2.17 2.17 0 01.526-.505c.194-.129.39-.218.591-.268.208-.05.423-.075.645-.075.673 0 1.242.265 1.708.794.472.53.841 1.297 1.106 2.3.036.114.068.19.097.225.029.029.06.043.096.043a.172.172 0 00.108-.043.476.476 0 00.118-.204c.172-.466.372-.86.602-1.182.229-.33.465-.594.709-.795.25-.207.505-.358.762-.45a2.18 2.18 0 01.741-.14c.437 0 .831.16 1.182.483.358.315.673.805.946 1.471.279.66.519 1.497.72 2.514.207 1.01.379 2.21.515 3.599 0 .386-.118.655-.355.806-.236.157-.558.236-.966.236-.265 0-.473-.058-.623-.172a.638.638 0 01-.258-.451 50.194 50.194 0 00-.312-2.654 20.103 20.103 0 00-.354-1.965c-.13-.538-.272-.946-.43-1.225-.15-.28-.319-.419-.505-.419-.093 0-.211.068-.354.204-.136.136-.283.387-.44.752-.158.358-.323.852-.495 1.482-.172.624-.337 1.422-.494 2.396a.868.868 0 01-.398.623c-.214.143-.48.215-.794.215-.366 0-.62-.057-.763-.172-.136-.114-.211-.308-.226-.58a15.35 15.35 0 00-.15-1.407 14.064 14.064 0 00-.58-2.525 6.786 6.786 0 00-.387-.945 2.623 2.623 0 00-.419-.634c-.143-.15-.283-.225-.419-.225-.179 0-.354.125-.526.376-.165.25-.315.605-.451 1.063-.13.458-.233 1.01-.312 1.654a17.905 17.905 0 00-.118 2.16c0 .136.003.272.01.408.008.129.011.265.011.408 0 .215-.035.39-.107.526a.742.742 0 01-.29.323 1.141 1.141 0 01-.43.16 3.134 3.134 0 01-.537.044c-.179 0-.322-.015-.43-.043a.528.528 0 01-.247-.108.388.388 0 01-.118-.204 1.437 1.437 0 01-.043-.28zm23.805-2.814c.208-.18.412-.27.612-.27.115 0 .219.03.312.087.093.057.197.147.311.268.108.165.183.301.226.409.05.1.075.2.075.3 0 .215-.107.42-.322.613a7.728 7.728 0 01-1.117.773 8.65 8.65 0 01-1.257.57 7.84 7.84 0 01-1.354.354 7.623 7.623 0 01-1.385.129c-.58 0-1.125-.075-1.633-.226a4.66 4.66 0 01-1.364-.623 4.051 4.051 0 01-1-.977 3.747 3.747 0 01-.58-1.3c-.064-.2-.125-.33-.182-.387-.05-.064-.136-.097-.258-.097-.265 0-.47-.064-.612-.193-.144-.129-.215-.315-.215-.558 0-.1.007-.165.021-.194l.022-.215c.036-.257.104-.444.204-.558.107-.115.272-.172.494-.172h.161c.3 0 .512-.14.634-.42.222-.493.505-.944.849-1.353.343-.408.73-.755 1.16-1.042a5.34 5.34 0 011.375-.676 4.728 4.728 0 011.504-.247c.53 0 1.024.078 1.482.236.465.15.87.362 1.214.634s.612.59.806.956c.2.365.3.759.3 1.181 0 .294-.057.563-.172.806-.114.244-.279.458-.494.645a2.666 2.666 0 01-.784.44c-.3.115-.644.19-1.031.226l-3.728.376a.565.565 0 00-.354.107.358.358 0 00-.129.29c0 .186.068.365.204.537.143.172.33.326.559.462.236.129.505.233.805.312.308.078.623.118.946.118.308 0 .623-.029.945-.086a7.243 7.243 0 001.901-.677c.301-.165.584-.35.849-.559zm-2.395-2.772a.536.536 0 00.279-.15.458.458 0 000-.612 1.065 1.065 0 00-.322-.248 1.757 1.757 0 00-.473-.182 2.433 2.433 0 00-.57-.065c-.293 0-.594.043-.902.13-.308.085-.587.2-.838.343-.25.136-.455.29-.612.462-.158.164-.236.33-.236.494 0 .165.1.247.3.247.122 0 .32-.014.591-.043.272-.029.573-.06.903-.097a55.562 55.562 0 001.88-.279zm7.293-4.2c.48 0 .974.064 1.483.193.508.122.974.283 1.396.484.423.193.77.411 1.042.655.272.243.408.48.408.709 0 .114-.05.243-.15.387-.1.136-.222.268-.365.397-.143.122-.3.226-.473.311a1.042 1.042 0 01-.44.119c-.172 0-.365-.072-.58-.215-.208-.143-.44-.301-.699-.473a5.453 5.453 0 00-.827-.483 2.244 2.244 0 00-.977-.215.912.912 0 00-.57.172.542.542 0 00-.214.462c0 .179.085.361.257.548.172.179.398.365.677.558.287.194.609.398.967.612.358.215.723.444 1.096.688.38.243.748.508 1.106.795.358.286.677.598.956.934.287.337.516.706.688 1.107.172.394.258.824.258 1.289 0 .401-.072.766-.215 1.096a2.41 2.41 0 01-.613.848c-.265.237-.58.42-.945.548a3.59 3.59 0 01-1.203.193c-.551 0-1.06-.085-1.526-.257a3.67 3.67 0 01-1.203-.688 3.197 3.197 0 01-.794-1.052 3.197 3.197 0 01-.28-1.343c0-.63.111-1.089.333-1.375.23-.287.587-.43 1.074-.43.301 0 .541.057.72.172.18.114.269.254.269.419a.91.91 0 01-.043.268c-.029.086-.061.18-.097.28a8.241 8.241 0 00-.086.3 1.638 1.638 0 00-.032.323c0 .186.043.365.129.537.086.172.2.322.343.451.15.136.323.243.516.322.194.079.398.118.613.118.572 0 .859-.236.859-.709 0-.372-.147-.723-.44-1.052a6.286 6.286 0 00-1.107-.978 25.081 25.081 0 00-1.44-.967 16.85 16.85 0 01-1.428-1.01 6.033 6.033 0 01-1.107-1.117 2.157 2.157 0 01-.44-1.3c0-.386.079-.74.236-1.063.165-.322.387-.598.666-.827.28-.236.605-.419.978-.548.38-.129.788-.193 1.224-.193zm6.424-3.083c0-.38.108-.645.322-.795.215-.158.57-.236 1.064-.236.179 0 .33.017.451.053a.64.64 0 01.322.172c.094.086.165.2.215.344.057.136.104.311.14.526.086.666.179 1.354.28 2.063.107.709.218 1.421.332 2.137.043.323.212.484.505.484.079 0 .208-.007.387-.022.186-.021.404-.043.655-.064a38.922 38.922 0 011.676-.161c.293-.029.57-.05.827-.065.265-.021.498-.032.698-.032a.65.65 0 01.376.097.572.572 0 01.215.236.78.78 0 01.108.322c.021.115.032.233.032.355a.947.947 0 01-.065.333.99.99 0 01-.16.311.8.8 0 01-.248.215.68.68 0 01-.344.086c-.623 0-1.253.022-1.89.065-.63.035-1.26.086-1.89.15-.323.043-.484.204-.484.483 0 .022.003.05.01.086a285.59 285.59 0 01.247 1.826c.08.545.144 1.032.194 1.461.057.423.1.777.129 1.064.036.28.053.465.053.559 0 .257-.025.472-.075.644a.91.91 0 01-.247.43.917.917 0 01-.462.236 2.79 2.79 0 01-.709.075c-.272 0-.472-.064-.601-.193-.13-.129-.2-.326-.215-.59a44.05 44.05 0 00-.204-2.547 75.99 75.99 0 00-.323-2.567c-.064-.308-.225-.462-.483-.462a.316.316 0 00-.075.01.315.315 0 01-.075.011c-.444.1-.863.2-1.257.301-.394.1-.763.208-1.106.322a4.063 4.063 0 01-.516.14 2.91 2.91 0 01-.408.032.39.39 0 01-.366-.215 1.194 1.194 0 01-.118-.558c0-.079.007-.168.022-.269.014-.107.043-.211.086-.311a.8.8 0 01.172-.29.758.758 0 01.3-.226c.301-.122.702-.247 1.203-.376a20.576 20.576 0 011.698-.376.7.7 0 00.333-.172c.086-.086.129-.211.129-.376v-.107a.406.406 0 00-.022-.129 73.113 73.113 0 00-.333-1.794c-.1-.544-.19-1.01-.268-1.396l-.172-.914a3.772 3.772 0 01-.065-.386zM76.92 5.965a1.17 1.17 0 00-.698.215c-.2.136-.373.33-.516.58a3.61 3.61 0 00-.354.87c-.094.33-.169.691-.226 1.085a13.15 13.15 0 00-.118 1.235c-.022.43-.032.863-.032 1.3 0 .573.021 1.139.064 1.697.05.552.075 1.064.075 1.536 0 .308-.114.548-.344.72-.229.18-.554.269-.977.269-.079 0-.168-.008-.269-.022a1.041 1.041 0 01-.29-.086.809.809 0 01-.236-.182.475.475 0 01-.107-.301 24.137 24.137 0 00-.28-1.934 21.108 21.108 0 00-.462-1.966 17.876 17.876 0 00-.655-1.955c-.25-.644-.54-1.274-.87-1.89a5.894 5.894 0 01-.15-.301.747.747 0 01-.054-.269c0-.107.046-.222.14-.343.1-.13.222-.247.365-.355.15-.107.311-.193.483-.258.18-.071.351-.107.516-.107.272 0 .512.19.72.57.207.372.4.97.58 1.793.035.143.064.244.086.301.021.057.05.086.085.086.08 0 .13-.122.15-.365.087-.68.234-1.264.441-1.751.208-.494.466-.899.774-1.214a2.93 2.93 0 011.074-.71c.408-.15.856-.225 1.343-.225.28 0 .562.025.848.075.287.05.545.126.774.226.229.1.415.222.558.365a.668.668 0 01.215.484c0 .129-.028.283-.086.462-.05.171-.118.34-.204.504a1.772 1.772 0 01-.3.409c-.108.107-.219.16-.334.16a.732.732 0 01-.376-.107 13.96 13.96 0 00-.397-.247 3.664 3.664 0 00-.44-.236 1.095 1.095 0 00-.516-.118z"})))}const jB=a.forwardRef(PB);__webpack_require__.p;const DB=function(e){let{isSearchVisible:t}=e;const[n,r]=(0,a.useState)(!0),[i,o]=(0,a.useState)(0);(0,a.useEffect)((()=>{const e=()=>{const e=window.scrollY;r(!(e>100)||e<i),o(e)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[i]);const s="fixed w-full top-0 h-14 bg-white  z-50 text-gray-700 border-b border-gray-200 ".concat(!n||t?"transition-transform transform -translate-y-full ease-in-out duration-300":"");return(0,RN.jsx)("div",{className:s,children:(0,RN.jsxs)("header",{className:"flex flex-row items-center h-14 mb-8 px-3 lg:pr-96 md:pl-64",children:[(0,RN.jsx)("div",{className:"flex basis-1/3 justify-start ",children:(0,RN.jsx)(XF,{})}),(0,RN.jsx)("div",{className:"flex basis-1/3 justify-between items-center  md:hidden",children:(0,RN.jsx)(jB,{})}),(0,RN.jsx)("div",{className:"hidden md:flex md:flex-1 md:justify-center md:items-center",children:(0,RN.jsx)(jB,{})}),(0,RN.jsx)("div",{className:"flex basis-1/3 justify-end items-center",children:(0,RN.jsx)("button",{className:"hidden md:block pr-4",children:(0,RN.jsx)(CB,{})})})]})})};var RB,TB;const IB=["title","titleId"];function FB(){return FB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FB.apply(null,arguments)}function LB(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,IB);return a.createElement("svg",FB({width:26,height:26,viewBox:"0 -0.5 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,RB||(RB=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.867 15.8321L18.873 10.0391L14.75 5.92908C13.5057 4.69031 11.4942 4.69031 10.25 5.92908L6.13599 10.0291V15.8291C6.1393 17.5833 7.56377 19.0028 9.31799 19.0001H15.685C17.438 19.0029 18.862 17.5851 18.867 15.8321Z",stroke:"#000000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),TB||(TB=a.createElement("path",{d:"M19.624 6.01807C19.624 5.60385 19.2882 5.26807 18.874 5.26807C18.4598 5.26807 18.124 5.60385 18.124 6.01807H19.624ZM18.874 10.0391H18.124C18.124 10.2384 18.2033 10.4295 18.3445 10.5702L18.874 10.0391ZM19.9705 12.1912C20.2638 12.4837 20.7387 12.4829 21.0311 12.1896C21.3236 11.8962 21.3229 11.4214 21.0295 11.1289L19.9705 12.1912ZM6.66552 10.5602C6.95886 10.2678 6.95959 9.79289 6.66714 9.49955C6.3747 9.20621 5.89982 9.20548 5.60648 9.49793L6.66552 10.5602ZM3.97048 11.1289C3.67714 11.4214 3.67641 11.8962 3.96886 12.1896C4.2613 12.4829 4.73618 12.4837 5.02952 12.1912L3.97048 11.1289ZM13.75 19.0001C13.75 19.4143 14.0858 19.7501 14.5 19.7501C14.9142 19.7501 15.25 19.4143 15.25 19.0001H13.75ZM9.75 19.0001C9.75 19.4143 10.0858 19.7501 10.5 19.7501C10.9142 19.7501 11.25 19.4143 11.25 19.0001H9.75ZM18.124 6.01807V10.0391H19.624V6.01807H18.124ZM18.3445 10.5702L19.9705 12.1912L21.0295 11.1289L19.4035 9.50792L18.3445 10.5702ZM5.60648 9.49793L3.97048 11.1289L5.02952 12.1912L6.66552 10.5602L5.60648 9.49793ZM15.25 19.0001V17.2201H13.75V19.0001H15.25ZM15.25 17.2201C15.25 15.7013 14.0188 14.4701 12.5 14.4701V15.9701C13.1904 15.9701 13.75 16.5297 13.75 17.2201H15.25ZM12.5 14.4701C10.9812 14.4701 9.75 15.7013 9.75 17.2201H11.25C11.25 16.5297 11.8096 15.9701 12.5 15.9701V14.4701ZM9.75 17.2201V19.0001H11.25V17.2201H9.75Z",fill:"#000000"})))}const BB=a.forwardRef(LB);__webpack_require__.p;var MB;const UB=["title","titleId"];function zB(){return zB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zB.apply(null,arguments)}function HB(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,UB);return a.createElement("svg",zB({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,MB||(MB=a.createElement("path",{d:"M13.3891 13.3891L19 19M9.5 15C12.5376 15 15 12.5376 15 9.5C15 6.46243 12.5376 4 9.5 4C6.46243 4 4 6.46243 4 9.5C4 12.5376 6.46243 15 9.5 15Z",stroke:"#000000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}const qB=a.forwardRef(HB);__webpack_require__.p;var KB,VB,GB;const WB=["title","titleId"];function YB(){return YB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YB.apply(null,arguments)}function ZB(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,WB);return a.createElement("svg",YB({width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,KB||(KB=a.createElement("path",{d:"M9 12H15",stroke:"#323232",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),VB||(VB=a.createElement("path",{d:"M12 9L12 15",stroke:"#323232",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),GB||(GB=a.createElement("path",{d:"M3 12C3 4.5885 4.5885 3 12 3C19.4115 3 21 4.5885 21 12C21 19.4115 19.4115 21 12 21C4.5885 21 3 19.4115 3 12Z",stroke:"#323232",strokeWidth:2})))}const QB=a.forwardRef(ZB);__webpack_require__.p;var $B,JB;const XB=["title","titleId"];function eM(){return eM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eM.apply(null,arguments)}function tM(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,XB);return a.createElement("svg",eM({width:20,height:20,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-bell",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,$B||($B=a.createElement("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"})),JB||(JB=a.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})))}const nM=a.forwardRef(tM),rM=(__webpack_require__.p,()=>{const[e,t]=(0,a.useState)(!1),n=NP(),r=e=>n.pathname===e,i=jP(),o="font-bold underline border-t-2 border-black";return(0,RN.jsx)("div",{className:"footer-bar fixed inset-x-0 bottom-0 bg-white border-t border-gray-400 shadow-md flex justify-around items-center md:hidden z-50",children:(0,RN.jsxs)("div",{className:"flex w-full justify-around items-center",children:[(0,RN.jsx)("button",{onClick:()=>i("/"),className:"flex flex-col items-center text-center py-3 px-6 ".concat(r("/")?o:""),children:(0,RN.jsx)(BB,{className:r("/")?"text-black":"text-gray-200"})}),(0,RN.jsx)("button",{onClick:()=>i("/search"),className:"flex flex-col items-center text-center py-3 px-6 ".concat(r("/search")?o:""),children:(0,RN.jsx)(qB,{className:r("/search")?"text-black":"text-gray-200"})}),(0,RN.jsx)("button",{className:"flex flex-col items-center text-center p-1 px-6",onClick:function(){t(!0)},title:"Upload",children:(0,RN.jsx)(QB,{className:"w-10 h-10"})}),e&&(0,RN.jsx)(KL,{isOpen:e,onClose:function(){t(!1)}}),(0,RN.jsx)("button",{className:"flex flex-col items-center text-center py-3 px-6 ",children:(0,RN.jsx)(nM,{className:""})}),(0,RN.jsx)("button",{className:"flex flex-col items-center text-center p-1 px-6",children:(0,RN.jsx)(CB,{})})]})})});var iM;const oM=["title","titleId"];function aM(){return aM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aM.apply(null,arguments)}function sM(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,oM);return a.createElement("svg",aM({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,iM||(iM=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7071 4.29289C12.0976 4.68342 12.0976 5.31658 11.7071 5.70711L6.41421 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H6.41421L11.7071 18.2929C12.0976 18.6834 12.0976 19.3166 11.7071 19.7071C11.3166 20.0976 10.6834 20.0976 10.2929 19.7071L3.29289 12.7071C3.10536 12.5196 3 12.2652 3 12C3 11.7348 3.10536 11.4804 3.29289 11.2929L10.2929 4.29289C10.6834 3.90237 11.3166 3.90237 11.7071 4.29289Z",fill:"#000000"})))}const lM=a.forwardRef(sM),cM=(__webpack_require__.p,()=>{const[e,t]=(0,a.useState)(""),[n,r]=(0,a.useState)("700px"),i=jP();return(0,a.useEffect)((()=>{const e=()=>{const e=window.innerHeight;r("".concat(e-140,"px"))};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,RN.jsxs)("div",{className:"fixed inset-0 bottom-12 px-6 pr-6 pt-5 bg-white md:hidden ",style:{paddingBottom:"48rem"},children:[(0,RN.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e.trim()&&i("/search/".concat(e.trim()))},className:"flex items-center justify-center",children:[(0,RN.jsx)("button",{type:"button",onClick:()=>{i(-1)},className:"mr-6",children:(0,RN.jsx)(lM,{className:"h-6 w-6 text-white"})}),(0,RN.jsx)("input",{type:"search",value:e,onChange:e=>{t(e.target.value)},placeholder:"Search...",className:"flex-grow p-2 px-4 bg-gray-200 rounded-full shadow-md text-black"}),(0,RN.jsx)("button",{type:"submit",className:"ml-2",children:(0,RN.jsx)(qB,{className:"h-6 w-6 text-white"})})]}),(0,RN.jsx)("div",{className:"flex flex-wrap gap-2 p-2 mt-4 overflow-x-auto justify-center",style:{maxHeight:n,overflowY:"auto"},children:["bitcoin","nostr","grownstr","plebchain","siamstr","btc","meme","privacy","security","memes","tunestr","music","coffeechain","press","presse","memestr","photography","funny","france","artstr","foodstr","news","btcprague","sats","zaps","china","permaculture","inflation","primal","plebs","permies","photestr","homesteading","bible","biblestr","christian","crypto","yestr","new","thainostrich","nostrich","wisdom","hodl","us","dance"].map(((e,t)=>(0,RN.jsx)("button",{onClick:()=>(e=>{i("/search/".concat(e))})(e),className:"bg-gray-200 text-black rounded-full px-4 py-1 text-lg focus:outline-none ",style:{flex:"0 0 auto"},children:e},t)))})]})});__webpack_require__(1700);var uM=__webpack_require__(4653),dM=__webpack_require__.n(uM),hM=__webpack_require__(9235),fM=__webpack_require__.n(hM),pM=__webpack_require__(3878),gM=__webpack_require__(2829);const yM={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let mM=!1,vM=!1;const bM=".react-konva-event";let wM=!1;const xM="ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.\nPosition of a node will be changed during drag&drop, so you should update state of the react app as well.\nConsider to add onDragMove or onDragEnd events.\nFor more info see: https://github.com/konvajs/react-konva/issues/256\n",EM='ReactKonva: You are using "zIndex" attribute for a Konva node.\nreact-konva may get confused with ordering. Just define correct order of elements in your render function of a component.\nFor more info see: https://github.com/konvajs/react-konva/issues/194\n',kM={};function _M(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kM;if(!mM&&"zIndex"in t&&(console.warn(EM),mM=!0),!vM&&t.draggable){var r=void 0!==t.x||void 0!==t.y,i=t.onDragEnd||t.onDragMove;r&&!i&&(console.warn(xM),vM=!0)}for(var o in n)if(!yM[o]){var a="on"===o.slice(0,2),s=n[o]!==t[o];if(a&&s)"content"===(f=o.substr(2).toLowerCase()).substr(0,7)&&(f="content"+f.substr(7,1).toUpperCase()+f.substr(8)),e.off(f,n[o]);!t.hasOwnProperty(o)&&e.setAttr(o,void 0)}var l=wM||t._useStrictMode,c={},u=!1;const d={};for(var o in t)if(!yM[o]){a="on"===o.slice(0,2);var h=n[o]!==t[o];if(a&&h)"content"===(f=o.substr(2).toLowerCase()).substr(0,7)&&(f="content"+f.substr(7,1).toUpperCase()+f.substr(8)),t[o]&&(d[f]=t[o]);!a&&(t[o]!==n[o]||l&&t[o]!==e.getAttr(o))&&(u=!0,c[o]=t[o])}for(var f in u&&(e.setAttrs(c),SM(e)),d)e.on(f+bM,d[f])}function SM(e){if(!gM.Konva.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}var CM=__webpack_require__(5340);const AM={},OM={};function NM(e,t){"string"!==typeof t?(e.add(t),SM(e)):console.error("Do not use plain text as child of Konva.Node. You are using text: ".concat(t))}function PM(e,t,n){let r=dM()[e];r||(console.error("Konva has no node with the type ".concat(e,'. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/').concat(e,'"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html')),r=dM().Group);const i={},o={};for(var a in t){"on"===a.slice(0,2)?o[a]=t[a]:i[a]=t[a]}const s=new r(i);return _M(s,o),s}function jM(e,t,n){console.error('Text components are not supported for now in ReactKonva. Your text is: "'.concat(e,'"'))}function DM(e,t,n){return!1}function RM(e){return e}function TM(){return null}function IM(){return null}function FM(e,t,n,r){return OM}function LM(){}function BM(e){}function MM(e,t){return!1}function UM(){return AM}function zM(){return AM}dM().Node.prototype._applyProps=_M;const HM=setTimeout,qM=clearTimeout,KM=-1;function VM(e,t){return!1}const GM=!1,WM=!0,YM=!0;function ZM(e,t){t.parent===e?t.moveToTop():e.add(t),SM(e)}function QM(e,t){t.parent===e?t.moveToTop():e.add(t),SM(e)}function $M(e,t,n){t._remove(),e.add(t),t.setZIndex(n.getZIndex()),SM(e)}function JM(e,t,n){$M(e,t,n)}function XM(e,t){t.destroy(),t.off(bM),SM(e)}function eU(e,t){t.destroy(),t.off(bM),SM(e)}function tU(e,t,n){console.error('Text components are not yet supported in ReactKonva. You text is: "'.concat(n,'"'))}function nU(e,t,n){}function rU(e,t,n,r,i){_M(e,i,r)}function iU(e){e.hide(),SM(e)}function oU(e){}function aU(e,t){(null==t.visible||t.visible)&&e.show()}function sU(e,t){}function lU(e){}function cU(){}const uU=()=>pM.DefaultEventPriority;var dU,hU,fU=Object.defineProperty,pU=Object.defineProperties,gU=Object.getOwnPropertyDescriptors,yU=Object.getOwnPropertySymbols,mU=Object.prototype.hasOwnProperty,vU=Object.prototype.propertyIsEnumerable,bU=(e,t,n)=>t in e?fU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wU=(e,t)=>{for(var n in t||(t={}))mU.call(t,n)&&bU(e,n,t[n]);if(yU)for(var n of yU(t))vU.call(t,n)&&bU(e,n,t[n]);return e};"undefined"===typeof window||!(null==(dU=window.document)?void 0:dU.createElement)&&"ReactNative"!==(null==(hU=window.navigator)?void 0:hU.product)?a.useEffect:a.useLayoutEffect;function xU(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){const e=xU(r,t,n);if(e)return e;r=t?null:r.sibling}}function EU(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(hY){return e}}const kU=console.error;console.error=function(){const e=[...arguments].join("");if(!(null==e?void 0:e.startsWith("Warning:"))||!e.includes("useContext"))return kU.apply(this,arguments);console.error=kU};const _U=EU(a.createContext(null));class SU extends a.Component{render(){return a.createElement(_U.Provider,{value:this._reactInternals},this.props.children)}}function CU(){const e=a.useContext(_U);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=a.useId();return a.useMemo((()=>{for(const n of[e,null==e?void 0:e.alternate]){if(!n)continue;const e=xU(n,!1,(e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}}));if(e)return e}}),[e,t])}function AU(){const e=function(){const e=CU(),[t]=a.useState((()=>new Map));t.clear();let n=e;for(;n;){if(n.type&&"object"===typeof n.type){const e=void 0===n.type._context&&n.type.Provider===n.type?n.type:n.type._context;e&&e!==_U&&!t.has(e)&&t.set(e,a.useContext(EU(e)))}n=n.return}return t}();return a.useMemo((()=>Array.from(e.keys()).reduce(((t,n)=>r=>a.createElement(t,null,a.createElement(n.Provider,((e,t)=>pU(e,gU(t)))(wU({},r),{value:e.get(n)})))),(e=>a.createElement(SU,wU({},e))))),[e])}const OU=e=>{const t=a.useRef(),n=a.useRef(),r=a.useRef(),i=function(e){const t=a.useRef({});return a.useLayoutEffect((()=>{t.current=e})),a.useLayoutEffect((()=>()=>{t.current={}}),[]),t.current}(e),o=AU(),s=t=>{const{forwardedRef:n}=e;n&&("function"===typeof n?n(t):n.current=t)};return a.useLayoutEffect((()=>(n.current=new(dM().Stage)({width:e.width,height:e.height,container:t.current}),s(n.current),r.current=NU.createContainer(n.current,pM.LegacyRoot,!1,null),NU.updateContainer(a.createElement(o,{},e.children),r.current),()=>{dM().isBrowser&&(s(null),NU.updateContainer(null,r.current,null),n.current.destroy())})),[]),a.useLayoutEffect((()=>{s(n.current),_M(n.current,e,i),NU.updateContainer(a.createElement(o,{},e.children),r.current,null)})),a.createElement("div",{ref:t,id:e.id,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},NU=fM()(o);NU.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:a.version,rendererPackageName:"react-konva"});const PU=a.forwardRef(((e,t)=>a.createElement(SU,{},a.createElement(OU,f(f({},e),{},{forwardedRef:t})))));var jU=__webpack_require__(4691);const DU=()=>{const e=(0,a.useContext)(ZW),{templates:t,handleTemplateImageSelect:n}=e||{};return t&&0!==t.length?(0,RN.jsxs)("div",{className:"p-4",children:[(0,RN.jsx)("h2",{className:"text-xl font-nunito font-semibold mb-4",children:"Image Gallery"}),(0,RN.jsx)("div",{className:"flex flex-wrap gap-4",children:t.map(((e,t)=>(0,RN.jsx)("div",{className:"relative",children:(0,RN.jsx)("img",{src:e,alt:"".concat(t),className:"rounded-lg w-36 h-36 object-cover cursor-pointer",onClick:()=>n(e),crossOrigin:"anonymous"})},t)))})]}):(0,RN.jsx)("div",{children:"No images available."})},RU=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(0);return(0,RN.jsxs)("div",{className:"w-full",children:[(0,RN.jsx)("div",{className:"flex mb-4",children:t.map(((e,t)=>(0,RN.jsx)("button",{className:"".concat(n===t?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"," py-2 px-4 mr-2 rounded"),onClick:()=>r(t),children:e.props.title},t)))}),(0,RN.jsx)("div",{children:t[n]})]})};var TU=__webpack_require__(5617),IU={},FU=function(e,t,n,r){var i=e+"-"+t+"-"+n+(r?"-server":"");if(IU[i])return IU[i];var o=function(e,t,n,r){if("undefined"===typeof document&&!r)return null;var i=r?new r:document.createElement("canvas");i.width=2*n,i.height=2*n;var o=i.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,i.width,i.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),i.toDataURL()):null}(e,t,n,r);return IU[i]=o,o},LU=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BU=function(e){var t=e.white,n=e.grey,r=e.size,i=e.renderers,o=e.borderRadius,s=e.boxShadow,l=e.children,c=(0,TU.Ay)({default:{grid:{borderRadius:o,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+FU(t,n,r,i.canvas)+") center left"}}});return(0,a.isValidElement)(l)?a.cloneElement(l,LU({},l.props,{style:LU({},l.props.style,c.grid)})):a.createElement("div",{style:c.grid})};BU.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};const MU=BU;var UU=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zU=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function HU(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var qU=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=HU(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e){var t=function(e,t,n,r,i){var o=i.clientWidth,a=i.clientHeight,s="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,c=s-(i.getBoundingClientRect().left+window.pageXOffset),u=l-(i.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var d=void 0;if(d=u<0?0:u>a?1:Math.round(100*u/a)/100,t.a!==d)return{h:t.h,s:t.s,l:t.l,a:d,source:"rgb"}}else{var h=void 0;if(r!==(h=c<0?0:c>o?1:Math.round(100*c/o)/100))return{h:t.h,s:t.s,l:t.l,a:h,source:"rgb"}}return null}(e,r.props.hsl,r.props.direction,r.props.a,r.container);t&&"function"===typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},HU(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),zU(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,TU.Ay)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:UU({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return a.createElement("div",{style:n.alpha},a.createElement("div",{style:n.checkboard},a.createElement(MU,{renderers:this.props.renderers})),a.createElement("div",{style:n.gradient}),a.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.createElement("div",{style:n.pointer},this.props.pointer?a.createElement(this.props.pointer,this.props):a.createElement("div",{style:n.slider}))))}}]),t}(a.PureComponent||a.Component);const KU=qU;var VU=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var GU=[38,40],WU=1,YU=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t,r=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(r)&&(t=e.keyCode,GU.indexOf(t)>-1)){var i=n.getArrowOffset(),o=38===e.keyCode?r+i:r-i;n.setUpdatedValue(o,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n.inputId="rc-editable-input-"+WU++,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),VU(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=(0,TU.Ay)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return a.createElement("div",{style:t.wrap},a.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?a.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(a.PureComponent||a.Component);const ZU=YU;var QU=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function $U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var JU=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=$U(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e){var t=function(e,t,n,r){var i=r.clientWidth,o=r.clientHeight,a="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(r.getBoundingClientRect().left+window.pageXOffset),c=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var u=void 0;if(u=c<0?359:c>o?0:360*(-100*c/o+100)/100,n.h!==u)return{h:u,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var d=void 0;if(d=l<0?0:l>i?359:100*l/i*360/100,n.h!==d)return{h:d,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null}(e,r.props.direction,r.props.hsl,r.container);t&&"function"===typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},$U(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),QU(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,TU.Ay)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return a.createElement("div",{style:r.hue},a.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),a.createElement("div",{style:r.pointer},this.props.pointer?a.createElement(this.props.pointer,this.props):a.createElement("div",{style:r.slider}))))}}]),t}(a.PureComponent||a.Component);const XU=JU;var ez=__webpack_require__(1942),tz=__webpack_require__.n(ez);const nz=function(){this.__data__=[],this.size=0};const rz=function(e,t){return e===t||e!==e&&t!==t};const iz=function(e,t){for(var n=e.length;n--;)if(rz(e[n][0],t))return n;return-1};var oz=Array.prototype.splice;const az=function(e){var t=this.__data__,n=iz(t,e);return!(n<0)&&(n==t.length-1?t.pop():oz.call(t,n,1),--this.size,!0)};const sz=function(e){var t=this.__data__,n=iz(t,e);return n<0?void 0:t[n][1]};const lz=function(e){return iz(this.__data__,e)>-1};const cz=function(e,t){var n=this.__data__,r=iz(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function uz(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}uz.prototype.clear=nz,uz.prototype.delete=az,uz.prototype.get=sz,uz.prototype.has=lz,uz.prototype.set=cz;const dz=uz;const hz=function(){this.__data__=new dz,this.size=0};const fz=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const pz=function(e){return this.__data__.get(e)};const gz=function(e){return this.__data__.has(e)};const yz="object"==typeof global&&global&&global.Object===Object&&global;var mz="object"==typeof self&&self&&self.Object===Object&&self;const vz=yz||mz||Function("return this")();const bz=vz.Symbol;var wz=Object.prototype,xz=wz.hasOwnProperty,Ez=wz.toString,kz=bz?bz.toStringTag:void 0;const _z=function(e){var t=xz.call(e,kz),n=e[kz];try{e[kz]=void 0;var r=!0}catch(oR){}var i=Ez.call(e);return r&&(t?e[kz]=n:delete e[kz]),i};var Sz=Object.prototype.toString;const Cz=function(e){return Sz.call(e)};var Az=bz?bz.toStringTag:void 0;const Oz=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Az&&Az in Object(e)?_z(e):Cz(e)};const Nz=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const Pz=function(e){if(!Nz(e))return!1;var t=Oz(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const jz=vz["__core-js_shared__"];var Dz=function(){var e=/[^.]+$/.exec(jz&&jz.keys&&jz.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const Rz=function(e){return!!Dz&&Dz in e};var Tz=Function.prototype.toString;const Iz=function(e){if(null!=e){try{return Tz.call(e)}catch(oR){}try{return e+""}catch(oR){}}return""};var Fz=/^\[object .+?Constructor\]$/,Lz=Function.prototype,Bz=Object.prototype,Mz=Lz.toString,Uz=Bz.hasOwnProperty,zz=RegExp("^"+Mz.call(Uz).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Hz=function(e){return!(!Nz(e)||Rz(e))&&(Pz(e)?zz:Fz).test(Iz(e))};const qz=function(e,t){return null==e?void 0:e[t]};const Kz=function(e,t){var n=qz(e,t);return Hz(n)?n:void 0};const Vz=Kz(vz,"Map");const Gz=Kz(Object,"create");const Wz=function(){this.__data__=Gz?Gz(null):{},this.size=0};const Yz=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var Zz=Object.prototype.hasOwnProperty;const Qz=function(e){var t=this.__data__;if(Gz){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Zz.call(t,e)?t[e]:void 0};var $z=Object.prototype.hasOwnProperty;const Jz=function(e){var t=this.__data__;return Gz?void 0!==t[e]:$z.call(t,e)};const Xz=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Gz&&void 0===t?"__lodash_hash_undefined__":t,this};function eH(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}eH.prototype.clear=Wz,eH.prototype.delete=Yz,eH.prototype.get=Qz,eH.prototype.has=Jz,eH.prototype.set=Xz;const tH=eH;const nH=function(){this.size=0,this.__data__={hash:new tH,map:new(Vz||dz),string:new tH}};const rH=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const iH=function(e,t){var n=e.__data__;return rH(t)?n["string"==typeof t?"string":"hash"]:n.map};const oH=function(e){var t=iH(this,e).delete(e);return this.size-=t?1:0,t};const aH=function(e){return iH(this,e).get(e)};const sH=function(e){return iH(this,e).has(e)};const lH=function(e,t){var n=iH(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function cH(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}cH.prototype.clear=nH,cH.prototype.delete=oH,cH.prototype.get=aH,cH.prototype.has=sH,cH.prototype.set=lH;const uH=cH;const dH=function(e,t){var n=this.__data__;if(n instanceof dz){var r=n.__data__;if(!Vz||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new uH(r)}return n.set(e,t),this.size=n.size,this};function hH(e){var t=this.__data__=new dz(e);this.size=t.size}hH.prototype.clear=hz,hH.prototype.delete=fz,hH.prototype.get=pz,hH.prototype.has=gz,hH.prototype.set=dH;const fH=hH;const pH=function(){try{var e=Kz(Object,"defineProperty");return e({},"",{}),e}catch(oR){}}();const gH=function(e,t,n){"__proto__"==t&&pH?pH(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};const yH=function(e,t,n){(void 0!==n&&!rz(e[t],n)||void 0===n&&!(t in e))&&gH(e,t,n)};const mH=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}();var vH="object"==typeof exports&&exports&&!exports.nodeType&&exports,bH=vH&&"object"==typeof module&&module&&!module.nodeType&&module,wH=bH&&bH.exports===vH?vz.Buffer:void 0,xH=wH?wH.allocUnsafe:void 0;const EH=function(e,t){if(t)return e.slice();var n=e.length,r=xH?xH(n):new e.constructor(n);return e.copy(r),r};const kH=vz.Uint8Array;const _H=function(e){var t=new e.constructor(e.byteLength);return new kH(t).set(new kH(e)),t};const SH=function(e,t){var n=t?_H(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};const CH=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var AH=Object.create;const OH=function(){function e(){}return function(t){if(!Nz(t))return{};if(AH)return AH(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const NH=function(e,t){return function(n){return e(t(n))}};const PH=NH(Object.getPrototypeOf,Object);var jH=Object.prototype;const DH=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||jH)};const RH=function(e){return"function"!=typeof e.constructor||DH(e)?{}:OH(PH(e))};const TH=function(e){return null!=e&&"object"==typeof e};const IH=function(e){return TH(e)&&"[object Arguments]"==Oz(e)};var FH=Object.prototype,LH=FH.hasOwnProperty,BH=FH.propertyIsEnumerable;const MH=IH(function(){return arguments}())?IH:function(e){return TH(e)&&LH.call(e,"callee")&&!BH.call(e,"callee")};const UH=Array.isArray;const zH=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};const HH=function(e){return null!=e&&zH(e.length)&&!Pz(e)};const qH=function(e){return TH(e)&&HH(e)};const KH=function(){return!1};var VH="object"==typeof exports&&exports&&!exports.nodeType&&exports,GH=VH&&"object"==typeof module&&module&&!module.nodeType&&module,WH=GH&&GH.exports===VH?vz.Buffer:void 0;const YH=(WH?WH.isBuffer:void 0)||KH;var ZH=Function.prototype,QH=Object.prototype,$H=ZH.toString,JH=QH.hasOwnProperty,XH=$H.call(Object);const eq=function(e){if(!TH(e)||"[object Object]"!=Oz(e))return!1;var t=PH(e);if(null===t)return!0;var n=JH.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&$H.call(n)==XH};var tq={};tq["[object Float32Array]"]=tq["[object Float64Array]"]=tq["[object Int8Array]"]=tq["[object Int16Array]"]=tq["[object Int32Array]"]=tq["[object Uint8Array]"]=tq["[object Uint8ClampedArray]"]=tq["[object Uint16Array]"]=tq["[object Uint32Array]"]=!0,tq["[object Arguments]"]=tq["[object Array]"]=tq["[object ArrayBuffer]"]=tq["[object Boolean]"]=tq["[object DataView]"]=tq["[object Date]"]=tq["[object Error]"]=tq["[object Function]"]=tq["[object Map]"]=tq["[object Number]"]=tq["[object Object]"]=tq["[object RegExp]"]=tq["[object Set]"]=tq["[object String]"]=tq["[object WeakMap]"]=!1;const nq=function(e){return TH(e)&&zH(e.length)&&!!tq[Oz(e)]};const rq=function(e){return function(t){return e(t)}};var iq="object"==typeof exports&&exports&&!exports.nodeType&&exports,oq=iq&&"object"==typeof module&&module&&!module.nodeType&&module,aq=oq&&oq.exports===iq&&yz.process,sq=function(){try{var e=oq&&oq.require&&oq.require("util").types;return e||aq&&aq.binding&&aq.binding("util")}catch(oR){}}();var lq=sq&&sq.isTypedArray;const cq=lq?rq(lq):nq;const uq=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]};var dq=Object.prototype.hasOwnProperty;const hq=function(e,t,n){var r=e[t];dq.call(e,t)&&rz(r,n)&&(void 0!==n||t in e)||gH(e,t,n)};const fq=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?gH(n,s,l):hq(n,s,l)}return n};const pq=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var gq=/^(?:0|[1-9]\d*)$/;const yq=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&gq.test(e))&&e>-1&&e%1==0&&e<t};var mq=Object.prototype.hasOwnProperty;const vq=function(e,t){var n=UH(e),r=!n&&MH(e),i=!n&&!r&&YH(e),o=!n&&!r&&!i&&cq(e),a=n||r||i||o,s=a?pq(e.length,String):[],l=s.length;for(var c in e)!t&&!mq.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||yq(c,l))||s.push(c);return s};const bq=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var wq=Object.prototype.hasOwnProperty;const xq=function(e){if(!Nz(e))return bq(e);var t=DH(e),n=[];for(var r in e)("constructor"!=r||!t&&wq.call(e,r))&&n.push(r);return n};const Eq=function(e){return HH(e)?vq(e,!0):xq(e)};const kq=function(e){return fq(e,Eq(e))};const _q=function(e,t,n,r,i,o,a){var s=uq(e,n),l=uq(t,n),c=a.get(l);if(c)yH(e,n,c);else{var u=o?o(s,l,n+"",e,t,a):void 0,d=void 0===u;if(d){var h=UH(l),f=!h&&YH(l),p=!h&&!f&&cq(l);u=l,h||f||p?UH(s)?u=s:qH(s)?u=CH(s):f?(d=!1,u=EH(l,!0)):p?(d=!1,u=SH(l,!0)):u=[]:eq(l)||MH(l)?(u=s,MH(s)?u=kq(s):Nz(s)&&!Pz(s)||(u=RH(l))):d=!1}d&&(a.set(l,u),i(u,l,r,o,a),a.delete(l)),yH(e,n,u)}};const Sq=function e(t,n,r,i,o){t!==n&&mH(n,(function(a,s){if(o||(o=new fH),Nz(a))_q(t,n,s,r,e,i,o);else{var l=i?i(uq(t,s),a,s+"",t,n,o):void 0;void 0===l&&(l=a),yH(t,s,l)}}),Eq)};const Cq=function(e){return e};const Aq=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var Oq=Math.max;const Nq=function(e,t,n){return t=Oq(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Oq(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),Aq(e,this,s)}};const Pq=function(e){return function(){return e}};const jq=pH?function(e,t){return pH(e,"toString",{configurable:!0,enumerable:!1,value:Pq(t),writable:!0})}:Cq;var Dq=Date.now;const Rq=function(e){var t=0,n=0;return function(){var r=Dq(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(jq);const Tq=function(e,t){return Rq(Nq(e,t,Cq),e+"")};const Iq=function(e,t,n){if(!Nz(n))return!1;var r=typeof t;return!!("number"==r?HH(n)&&yq(t,n.length):"string"==r&&t in n)&&rz(n[t],e)};const Fq=function(e){return Tq((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&Iq(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))}((function(e,t,n){Sq(e,t,n)}));var Lq=function(e){var t=e.zDepth,n=e.radius,r=e.background,i=e.children,o=e.styles,s=void 0===o?{}:o,l=(0,TU.Ay)(Fq({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:r}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":1===t});return a.createElement("div",{style:l.wrap},a.createElement("div",{style:l.bg}),a.createElement("div",{style:l.content},i))};Lq.propTypes={background:tz().string,zDepth:tz().oneOf([0,1,2,3,4,5]),radius:tz().number,styles:tz().object},Lq.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};const Bq=Lq;const Mq=function(){return vz.Date.now()};var Uq=/\s/;const zq=function(e){for(var t=e.length;t--&&Uq.test(e.charAt(t)););return t};var Hq=/^\s+/;const qq=function(e){return e?e.slice(0,zq(e)+1).replace(Hq,""):e};const Kq=function(e){return"symbol"==typeof e||TH(e)&&"[object Symbol]"==Oz(e)};var Vq=/^[-+]0x[0-9a-f]+$/i,Gq=/^0b[01]+$/i,Wq=/^0o[0-7]+$/i,Yq=parseInt;const Zq=function(e){if("number"==typeof e)return e;if(Kq(e))return NaN;if(Nz(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Nz(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=qq(e);var n=Gq.test(e);return n||Wq.test(e)?Yq(e.slice(2),n?2:8):Vq.test(e)?NaN:+e};var Qq=Math.max,$q=Math.min;const Jq=function(e,t,n){var r,i,o,a,s,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function g(){var e=Mq();if(p(e))return y(e);s=setTimeout(g,function(e){var n=t-(e-l);return d?$q(n,o-(e-c)):n}(e))}function y(e){return s=void 0,h&&r?f(e):(r=i=void 0,a)}function m(){var e=Mq(),n=p(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(g,t),u?f(e):a}(l);if(d)return clearTimeout(s),s=setTimeout(g,t),f(l)}return void 0===s&&(s=setTimeout(g,t)),a}return t=Zq(t)||0,Nz(n)&&(u=!!n.leading,o=(d="maxWait"in n)?Qq(Zq(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),m.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},m.flush=function(){return void 0===s?a:y(Mq())},m};const Xq=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Nz(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Jq(e,t,{leading:r,maxWait:t,trailing:i})};var eK=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var tK=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){"function"===typeof n.props.onChange&&n.throttle(n.props.onChange,function(e,t,n){var r=n.getBoundingClientRect(),i=r.width,o=r.height,a="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(n.getBoundingClientRect().left+window.pageXOffset),c=s-(n.getBoundingClientRect().top+window.pageYOffset);l<0?l=0:l>i&&(l=i),c<0?c=0:c>o&&(c=o);var u=l/i,d=1-c/o;return{h:t.h,s:u,v:d,a:t.a,source:"hsv"}}(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e);var t=n.getContainerRenderWindow();t.addEventListener("mousemove",n.handleChange),t.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=Xq((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),eK(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,i=t.black,o=t.pointer,s=t.circle,l=(0,TU.Ay)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:i,pointer:o,circle:s}},{custom:!!this.props.style});return a.createElement("div",{style:l.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),a.createElement("div",{style:l.white,className:"saturation-white"},a.createElement("div",{style:l.black,className:"saturation-black"}),a.createElement("div",{style:l.pointer},this.props.pointer?a.createElement(this.props.pointer,this.props):a.createElement("div",{style:l.circle}))))}}]),t}(a.PureComponent||a.Component);const nK=tK;const rK=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};const iK=NH(Object.keys,Object);var oK=Object.prototype.hasOwnProperty;const aK=function(e){if(!DH(e))return iK(e);var t=[];for(var n in Object(e))oK.call(e,n)&&"constructor"!=n&&t.push(n);return t};const sK=function(e){return HH(e)?vq(e):aK(e)};const lK=function(e,t){return function(n,r){if(null==n)return n;if(!HH(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}((function(e,t){return e&&mH(e,t,sK)}));const cK=function(e){return"function"==typeof e?e:Cq};const uK=function(e,t){return(UH(e)?rK:lK)(e,cK(t))};function dK(e){return dK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dK(e)}var hK=/^\s+/,fK=/\s+$/;function pK(e,t){if(t=t||{},(e=e||"")instanceof pK)return e;if(!(this instanceof pK))return new pK(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;"string"==typeof e&&(e=function(e){e=e.replace(hK,"").replace(fK,"").toLowerCase();var t,n=!1;if(jK[e])e=jK[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=zK.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=zK.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=zK.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=zK.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=zK.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=zK.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=zK.hex8.exec(e))return{r:FK(t[1]),g:FK(t[2]),b:FK(t[3]),a:UK(t[4]),format:n?"name":"hex8"};if(t=zK.hex6.exec(e))return{r:FK(t[1]),g:FK(t[2]),b:FK(t[3]),format:n?"name":"hex"};if(t=zK.hex4.exec(e))return{r:FK(t[1]+""+t[1]),g:FK(t[2]+""+t[2]),b:FK(t[3]+""+t[3]),a:UK(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=zK.hex3.exec(e))return{r:FK(t[1]+""+t[1]),g:FK(t[2]+""+t[2]),b:FK(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==dK(e)&&(HK(e.r)&&HK(e.g)&&HK(e.b)?(t=function(e,t,n){return{r:255*TK(e,255),g:255*TK(t,255),b:255*TK(n,255)}}(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):HK(e.h)&&HK(e.s)&&HK(e.v)?(r=BK(e.s),i=BK(e.v),t=function(e,t,n){e=6*TK(e,360),t=TK(t,100),n=TK(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6,c=[n,a,o,o,s,n][l],u=[s,n,n,a,o,o][l],d=[o,o,s,n,n,a][l];return{r:255*c,g:255*u,b:255*d}}(e.h,r,i),a=!0,s="hsv"):HK(e.h)&&HK(e.s)&&HK(e.l)&&(r=BK(e.s),o=BK(e.l),t=function(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=TK(e,360),t=TK(t,100),n=TK(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),i=a(l,s,e),o=a(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,o),a=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a));return n=RK(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function gK(e,t,n){e=TK(e,255),t=TK(t,255),n=TK(n,255);var r,i,o=Math.max(e,t,n),a=Math.min(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:s}}function yK(e,t,n){e=TK(e,255),t=TK(t,255),n=TK(n,255);var r,i,o=Math.max(e,t,n),a=Math.min(e,t,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:s}}function mK(e,t,n,r){var i=[LK(Math.round(e).toString(16)),LK(Math.round(t).toString(16)),LK(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function vK(e,t,n,r){return[LK(MK(r)),LK(Math.round(e).toString(16)),LK(Math.round(t).toString(16)),LK(Math.round(n).toString(16))].join("")}function bK(e,t){t=0===t?0:t||10;var n=pK(e).toHsl();return n.s-=t/100,n.s=IK(n.s),pK(n)}function wK(e,t){t=0===t?0:t||10;var n=pK(e).toHsl();return n.s+=t/100,n.s=IK(n.s),pK(n)}function xK(e){return pK(e).desaturate(100)}function EK(e,t){t=0===t?0:t||10;var n=pK(e).toHsl();return n.l+=t/100,n.l=IK(n.l),pK(n)}function kK(e,t){t=0===t?0:t||10;var n=pK(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),pK(n)}function _K(e,t){t=0===t?0:t||10;var n=pK(e).toHsl();return n.l-=t/100,n.l=IK(n.l),pK(n)}function SK(e,t){var n=pK(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,pK(n)}function CK(e){var t=pK(e).toHsl();return t.h=(t.h+180)%360,pK(t)}function AK(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=pK(e).toHsl(),r=[pK(e)],i=360/t,o=1;o<t;o++)r.push(pK({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function OK(e){var t=pK(e).toHsl(),n=t.h;return[pK(e),pK({h:(n+72)%360,s:t.s,l:t.l}),pK({h:(n+216)%360,s:t.s,l:t.l})]}function NK(e,t,n){t=t||6,n=n||30;var r=pK(e).toHsl(),i=360/n,o=[pK(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(pK(r));return o}function PK(e,t){t=t||6;for(var n=pK(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(pK({h:r,s:i,v:o})),o=(o+s)%1;return a}pK.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=RK(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=yK(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=yK(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=gK(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=gK(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return mK(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[LK(Math.round(e).toString(16)),LK(Math.round(t).toString(16)),LK(Math.round(n).toString(16)),LK(MK(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*TK(this._r,255))+"%",g:Math.round(100*TK(this._g,255))+"%",b:Math.round(100*TK(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*TK(this._r,255))+"%, "+Math.round(100*TK(this._g,255))+"%, "+Math.round(100*TK(this._b,255))+"%)":"rgba("+Math.round(100*TK(this._r,255))+"%, "+Math.round(100*TK(this._g,255))+"%, "+Math.round(100*TK(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(DK[mK(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+vK(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=pK(e);n="#"+vK(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return pK(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(EK,arguments)},brighten:function(){return this._applyModification(kK,arguments)},darken:function(){return this._applyModification(_K,arguments)},desaturate:function(){return this._applyModification(bK,arguments)},saturate:function(){return this._applyModification(wK,arguments)},greyscale:function(){return this._applyModification(xK,arguments)},spin:function(){return this._applyModification(SK,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(NK,arguments)},complement:function(){return this._applyCombination(CK,arguments)},monochromatic:function(){return this._applyCombination(PK,arguments)},splitcomplement:function(){return this._applyCombination(OK,arguments)},triad:function(){return this._applyCombination(AK,[3])},tetrad:function(){return this._applyCombination(AK,[4])}},pK.fromRatio=function(e,t){if("object"==dK(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:BK(e[r]));e=n}return pK(e,t)},pK.equals=function(e,t){return!(!e||!t)&&pK(e).toRgbString()==pK(t).toRgbString()},pK.random=function(){return pK.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},pK.mix=function(e,t,n){n=0===n?0:n||50;var r=pK(e).toRgb(),i=pK(t).toRgb(),o=n/100;return pK({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},pK.readability=function(e,t){var n=pK(e),r=pK(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},pK.isReadable=function(e,t,n){var r,i,o=pK.readability(e,t);switch(i=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},pK.mostReadable=function(e,t,n){var r,i,o,a,s=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=pK.readability(e,t[c]))>l&&(l=r,s=pK(t[c]));return pK.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,pK.mostReadable(e,["#fff","#000"],n))};var jK=pK.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},DK=pK.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(jK);function RK(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function TK(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function IK(e){return Math.min(1,Math.max(0,e))}function FK(e){return parseInt(e,16)}function LK(e){return 1==e.length?"0"+e:""+e}function BK(e){return e<=1&&(e=100*e+"%"),e}function MK(e){return Math.round(255*parseFloat(e)).toString(16)}function UK(e){return FK(e)/255}var zK=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function HK(e){return!!zK.CSS_UNIT.exec(e)}var qK=function(e){var t=0,n=0;return uK(["r","g","b","a","h","s","l","v"],(function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(e[r])&&(n+=1)}})),t===n&&e},KK=function(e,t){var n=e.hex?pK(e.hex):pK(e),r=n.toHsl(),i=n.toHsv(),o=n.toRgb(),a=n.toHex();return 0===r.s&&(r.h=t||0,i.h=t||0),{hsl:r,hex:"000000"===a&&0===o.a?"transparent":"#"+a,rgb:o,hsv:i,oldHue:e.h||t||r.h,source:e.source}},VK=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&pK(e).isValid()},GK=function(e){if(!e)return"#fff";var t=KK(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},WK=function(e,t){return pK(t+" ("+e.replace("\xb0","")+")")._ok},YK=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZK=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();const QK=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(qK(e)){var r=KK(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(qK(e)){var r=KK(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=YK({},KK(e.color,0)),t.debounce=Jq((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),ZK(n,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),a.createElement(e,YK({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return YK({},KK(e.color,t.oldHue))}}]),n}(a.PureComponent||a.Component);return t.propTypes=YK({},e.propTypes),t.defaultProps=YK({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};var $K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JK=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function XK(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var eV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};const tV=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n=XK(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},XK(n,t)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),JK(r,[{key:"render",value:function(){return a.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},a.createElement(e,$K({},this.props,this.state)))}}]),r}(a.Component)}((function(e){var t=e.color,n=e.style,r=e.onClick,i=void 0===r?function(){}:r,o=e.onHover,s=e.title,l=void 0===s?t:s,c=e.children,u=e.focus,d=e.focusStyle,h=void 0===d?{}:d,f="transparent"===t,p=(0,TU.Ay)({default:{swatch:eV({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,u?h:{})}}),g={};return o&&(g.onMouseOver=function(e){return o(t,e)}),a.createElement("div",eV({style:p.swatch,onClick:function(e){return i(t,e)},title:l,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&i(t,e)}},g),c,f&&a.createElement(MU,{borderRadius:p.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))}));const nV=function(e){var t=e.direction,n=(0,TU.Ay)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return a.createElement("div",{style:n.picker})};var rV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iV=function(e){var t=e.rgb,n=e.hsl,r=e.width,i=e.height,o=e.onChange,s=e.direction,l=e.style,c=e.renderers,u=e.pointer,d=e.className,h=void 0===d?"":d,f=(0,TU.Ay)({default:{picker:{position:"relative",width:r,height:i},alpha:{radius:"2px",style:l}}});return a.createElement("div",{style:f.picker,className:"alpha-picker "+h},a.createElement(KU,rV({},f.alpha,{rgb:t,hsl:n,pointer:u,renderers:c,onChange:o,direction:s})))};iV.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:nV};QK(iV);const oV=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};const aV=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const sV=function(e){return this.__data__.has(e)};function lV(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new uH;++t<n;)this.add(e[t])}lV.prototype.add=lV.prototype.push=aV,lV.prototype.has=sV;const cV=lV;const uV=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};const dV=function(e,t){return e.has(t)};const hV=function(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,f=2&n?new cV:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var p=e[d],g=t[d];if(r)var y=a?r(g,p,d,t,e,o):r(p,g,d,e,t,o);if(void 0!==y){if(y)continue;h=!1;break}if(f){if(!uV(t,(function(e,t){if(!dV(f,t)&&(p===e||i(p,e,n,r,o)))return f.push(t)}))){h=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h};const fV=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};const pV=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var gV=bz?bz.prototype:void 0,yV=gV?gV.valueOf:void 0;const mV=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new kH(e),new kH(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return rz(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=fV;case"[object Set]":var l=1&r;if(s||(s=pV),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var u=hV(s(e),s(t),r,i,o,a);return a.delete(e),u;case"[object Symbol]":if(yV)return yV.call(e)==yV.call(t)}return!1};const vV=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};const bV=function(e,t,n){var r=t(e);return UH(e)?r:vV(r,n(e))};const wV=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o};const xV=function(){return[]};var EV=Object.prototype.propertyIsEnumerable,kV=Object.getOwnPropertySymbols;const _V=kV?function(e){return null==e?[]:(e=Object(e),wV(kV(e),(function(t){return EV.call(e,t)})))}:xV;const SV=function(e){return bV(e,sK,_V)};var CV=Object.prototype.hasOwnProperty;const AV=function(e,t,n,r,i,o){var a=1&n,s=SV(e),l=s.length;if(l!=SV(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:CV.call(t,u)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=a;++c<l;){var g=e[u=s[c]],y=t[u];if(r)var m=a?r(y,g,u,t,e,o):r(g,y,u,e,t,o);if(!(void 0===m?g===y||i(g,y,n,r,o):m)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(e),o.delete(t),f};const OV=Kz(vz,"DataView");const NV=Kz(vz,"Promise");const PV=Kz(vz,"Set");const jV=Kz(vz,"WeakMap");var DV="[object Map]",RV="[object Promise]",TV="[object Set]",IV="[object WeakMap]",FV="[object DataView]",LV=Iz(OV),BV=Iz(Vz),MV=Iz(NV),UV=Iz(PV),zV=Iz(jV),HV=Oz;(OV&&HV(new OV(new ArrayBuffer(1)))!=FV||Vz&&HV(new Vz)!=DV||NV&&HV(NV.resolve())!=RV||PV&&HV(new PV)!=TV||jV&&HV(new jV)!=IV)&&(HV=function(e){var t=Oz(e),n="[object Object]"==t?e.constructor:void 0,r=n?Iz(n):"";if(r)switch(r){case LV:return FV;case BV:return DV;case MV:return RV;case UV:return TV;case zV:return IV}return t});const qV=HV;var KV="[object Arguments]",VV="[object Array]",GV="[object Object]",WV=Object.prototype.hasOwnProperty;const YV=function(e,t,n,r,i,o){var a=UH(e),s=UH(t),l=a?VV:qV(e),c=s?VV:qV(t),u=(l=l==KV?GV:l)==GV,d=(c=c==KV?GV:c)==GV,h=l==c;if(h&&YH(e)){if(!YH(t))return!1;a=!0,u=!1}if(h&&!u)return o||(o=new fH),a||cq(e)?hV(e,t,n,r,i,o):mV(e,t,l,n,r,i,o);if(!(1&n)){var f=u&&WV.call(e,"__wrapped__"),p=d&&WV.call(t,"__wrapped__");if(f||p){var g=f?e.value():e,y=p?t.value():t;return o||(o=new fH),i(g,y,n,r,o)}}return!!h&&(o||(o=new fH),AV(e,t,n,r,i,o))};const ZV=function e(t,n,r,i,o){return t===n||(null==t||null==n||!TH(t)&&!TH(n)?t!==t&&n!==n:YV(t,n,r,i,e,o))};const QV=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var l=(s=n[i])[0],c=e[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new fH;if(r)var h=r(c,u,l,e,t,d);if(!(void 0===h?ZV(u,c,3,r,d):h))return!1}}return!0};const $V=function(e){return e===e&&!Nz(e)};const JV=function(e){for(var t=sK(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,$V(i)]}return t};const XV=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};const eG=function(e){var t=JV(e);return 1==t.length&&t[0][2]?XV(t[0][0],t[0][1]):function(n){return n===e||QV(n,e,t)}};var tG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nG=/^\w*$/;const rG=function(e,t){if(UH(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Kq(e))||(nG.test(e)||!tG.test(e)||null!=t&&e in Object(t))};function iG(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(iG.Cache||uH),n}iG.Cache=uH;const oG=iG;var aG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sG=/\\(\\)?/g,lG=function(e){var t=oG(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(aG,(function(e,n,r,i){t.push(r?i.replace(sG,"$1"):n||e)})),t}));const cG=lG;var uG=bz?bz.prototype:void 0,dG=uG?uG.toString:void 0;const hG=function e(t){if("string"==typeof t)return t;if(UH(t))return oV(t,e)+"";if(Kq(t))return dG?dG.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};const fG=function(e){return null==e?"":hG(e)};const pG=function(e,t){return UH(e)?e:rG(e,t)?[e]:cG(fG(e))};const gG=function(e){if("string"==typeof e||Kq(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};const yG=function(e,t){for(var n=0,r=(t=pG(t,e)).length;null!=e&&n<r;)e=e[gG(t[n++])];return n&&n==r?e:void 0};const mG=function(e,t,n){var r=null==e?void 0:yG(e,t);return void 0===r?n:r};const vG=function(e,t){return null!=e&&t in Object(e)};const bG=function(e,t,n){for(var r=-1,i=(t=pG(t,e)).length,o=!1;++r<i;){var a=gG(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&zH(i)&&yq(a,i)&&(UH(e)||MH(e))};const wG=function(e,t){return null!=e&&bG(e,t,vG)};const xG=function(e,t){return rG(e)&&$V(t)?XV(gG(e),t):function(n){var r=mG(n,e);return void 0===r&&r===t?wG(n,e):ZV(t,r,3)}};const EG=function(e){return function(t){return null==t?void 0:t[e]}};const kG=function(e){return function(t){return yG(t,e)}};const _G=function(e){return rG(e)?EG(gG(e)):kG(e)};const SG=function(e){return"function"==typeof e?e:null==e?Cq:"object"==typeof e?UH(e)?xG(e[0],e[1]):eG(e):_G(e)};const CG=function(e,t){var n=-1,r=HH(e)?Array(e.length):[];return lK(e,(function(e,i,o){r[++n]=t(e,i,o)})),r};const AG=function(e,t){return(UH(e)?oV:CG)(e,SG(t,3))};const OG=function(e){var t=e.colors,n=e.onClick,r=e.onSwatchHover,i=(0,TU.Ay)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return a.createElement("div",{style:i.swatches},AG(t,(function(e){return a.createElement(tV,{key:e,color:e,style:i.swatch,onClick:n,onHover:r,focusStyle:{boxShadow:"0 0 4px "+e}})})),a.createElement("div",{style:i.clear}))};var NG=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,i=e.colors,o=e.width,s=e.triangle,l=e.styles,c=void 0===l?{}:l,u=e.className,d=void 0===u?"":u,h="transparent"===r,f=function(e,n){VK(e)&&t({hex:e,source:"hex"},n)},p=(0,TU.Ay)(Fq({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:r,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:GK(r),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+r+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":"hide"===s});return a.createElement("div",{style:p.card,className:"block-picker "+d},a.createElement("div",{style:p.triangle}),a.createElement("div",{style:p.head},h&&a.createElement(MU,{borderRadius:"6px 6px 0 0"}),a.createElement("div",{style:p.label},r)),a.createElement("div",{style:p.body},a.createElement(OG,{colors:i,onClick:f,onSwatchHover:n}),a.createElement(ZU,{style:{input:p.input},value:r,onChange:f})))};NG.propTypes={width:tz().oneOfType([tz().string,tz().number]),colors:tz().arrayOf(tz().string),triangle:tz().oneOf(["top","hide"]),styles:tz().object},NG.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};QK(NG);var PG={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},jG={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},DG={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},RG={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},TG={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},IG={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},FG={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},LG={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},BG={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},MG={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},UG={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},zG={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},HG={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},qG={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},KG={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},VG={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},GG={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},WG={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"};var YG=function(e){var t=e.color,n=e.onClick,r=e.onSwatchHover,i=e.hover,o=e.active,s=e.circleSize,l=e.circleSpacing,c=(0,TU.Ay)({default:{swatch:{width:s,height:s,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(s/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:i,active:o});return a.createElement("div",{style:c.swatch},a.createElement(tV,{style:c.Swatch,color:t,onClick:n,onHover:r,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+t}}))};YG.defaultProps={circleSize:28,circleSpacing:14};const ZG=(0,TU.H8)(YG);var QG=function(e){var t=e.width,n=e.onChange,r=e.onSwatchHover,i=e.colors,o=e.hex,s=e.circleSize,l=e.styles,c=void 0===l?{}:l,u=e.circleSpacing,d=e.className,h=void 0===d?"":d,f=(0,TU.Ay)(Fq({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},c)),p=function(e,t){return n({hex:e,source:"hex"},t)};return a.createElement("div",{style:f.card,className:"circle-picker "+h},AG(i,(function(e){return a.createElement(ZG,{key:e,color:e,onClick:p,onSwatchHover:r,active:o===e.toLowerCase(),circleSize:s,circleSpacing:u})})))};QG.propTypes={width:tz().oneOfType([tz().string,tz().number]),circleSize:tz().number,circleSpacing:tz().number,styles:tz().object},QG.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[PG[500],jG[500],DG[500],RG[500],TG[500],IG[500],FG[500],LG[500],BG[500],MG[500],UG[500],zG[500],HG[500],qG[500],KG[500],VG[500],GG[500],WG[500]],styles:{}};QK(QG);const $G=function(e){return void 0===e};var JG=__webpack_require__(6127),XG=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var eW=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){"hex"===n.state.view?n.setState({view:"rgb"}):"rgb"===n.state.view?n.setState({view:"hsl"}):"hsl"===n.state.view&&(1===n.props.hsl.a?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(e,t){e.hex?VK(e.hex)&&n.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?n.props.onChange({r:e.r||n.props.rgb.r,g:e.g||n.props.rgb.g,b:e.b||n.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"===typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"===typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),n.props.onChange({h:e.h||n.props.hsl.h,s:Number($G(e.s)?n.props.hsl.s:e.s),l:Number($G(e.l)?n.props.hsl.l:e.l),source:"hsl"},t))},n.showHighlight=function(e){e.currentTarget.style.background="#eee"},n.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?n.state={view:"rgb"}:n.state={view:e.view},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),XG(t,[{key:"render",value:function(){var e=this,t=(0,TU.Ay)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=a.createElement("div",{style:t.fields,className:"flexbox-fix"},a.createElement("div",{style:t.field},a.createElement(ZU,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=a.createElement("div",{style:t.fields,className:"flexbox-fix"},a.createElement("div",{style:t.field},a.createElement(ZU,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),a.createElement("div",{style:t.field},a.createElement(ZU,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),a.createElement("div",{style:t.field},a.createElement(ZU,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),a.createElement("div",{style:t.alpha},a.createElement(ZU,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=a.createElement("div",{style:t.fields,className:"flexbox-fix"},a.createElement("div",{style:t.field},a.createElement(ZU,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),a.createElement("div",{style:t.field},a.createElement(ZU,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),a.createElement("div",{style:t.field},a.createElement(ZU,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),a.createElement("div",{style:t.alpha},a.createElement(ZU,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),a.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,a.createElement("div",{style:t.toggle},a.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},a.createElement(JG.A,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),t}(a.Component);eW.defaultProps={view:"hex"};const tW=eW;const nW=function(){var e=(0,TU.Ay)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return a.createElement("div",{style:e.picker})};const rW=function(){var e=(0,TU.Ay)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return a.createElement("div",{style:e.picker})};var iW=function(e){var t=e.width,n=e.onChange,r=e.disableAlpha,i=e.rgb,o=e.hsl,s=e.hsv,l=e.hex,c=e.renderers,u=e.styles,d=void 0===u?{}:u,h=e.className,f=void 0===h?"":h,p=e.defaultView,g=(0,TU.Ay)(Fq({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},d),{disableAlpha:r});return a.createElement("div",{style:g.picker,className:"chrome-picker "+f},a.createElement("div",{style:g.saturation},a.createElement(nK,{style:g.Saturation,hsl:o,hsv:s,pointer:rW,onChange:n})),a.createElement("div",{style:g.body},a.createElement("div",{style:g.controls,className:"flexbox-fix"},a.createElement("div",{style:g.color},a.createElement("div",{style:g.swatch},a.createElement("div",{style:g.active}),a.createElement(MU,{renderers:c}))),a.createElement("div",{style:g.toggles},a.createElement("div",{style:g.hue},a.createElement(XU,{style:g.Hue,hsl:o,pointer:nW,onChange:n})),a.createElement("div",{style:g.alpha},a.createElement(KU,{style:g.Alpha,rgb:i,hsl:o,pointer:nW,renderers:c,onChange:n})))),a.createElement(tW,{rgb:i,hsl:o,hex:l,view:p,onChange:n,disableAlpha:r})))};iW.propTypes={width:tz().oneOfType([tz().string,tz().number]),disableAlpha:tz().bool,styles:tz().object,defaultView:tz().oneOf(["hex","rgb","hsl"])},iW.defaultProps={width:225,disableAlpha:!1,styles:{}};QK(iW);const oW=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,o=e.active,s=(0,TU.Ay)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:GK(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return a.createElement(tV,{style:s.color,color:t,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+t}},a.createElement("div",{style:s.dot}))};const aW=function(e){var t=e.hex,n=e.rgb,r=e.onChange,i=(0,TU.Ay)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(e,t){e.r||e.g||e.b?r({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):r({hex:e.hex,source:"hex"},t)};return a.createElement("div",{style:i.fields,className:"flexbox-fix"},a.createElement("div",{style:i.active}),a.createElement(ZU,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"hex",value:t,onChange:o}),a.createElement(ZU,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:n.r,onChange:o}),a.createElement(ZU,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:n.g,onChange:o}),a.createElement(ZU,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:n.b,onChange:o}))};var sW=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.colors,i=e.hex,o=e.rgb,s=e.styles,l=void 0===s?{}:s,c=e.className,u=void 0===c?"":c,d=(0,TU.Ay)(Fq({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),h=function(e,n){e.hex?VK(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return a.createElement(Bq,{style:d.Compact,styles:l},a.createElement("div",{style:d.compact,className:"compact-picker "+u},a.createElement("div",null,AG(r,(function(e){return a.createElement(oW,{key:e,color:e,active:e.toLowerCase()===i,onClick:h,onSwatchHover:n})})),a.createElement("div",{style:d.clear})),a.createElement(aW,{hex:i,rgb:o,onChange:h})))};sW.propTypes={colors:tz().arrayOf(tz().string),styles:tz().object},sW.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};QK(sW);const lW=(0,TU.H8)((function(e){var t=e.hover,n=e.color,r=e.onClick,i=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},s=(0,TU.Ay)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:t});return a.createElement("div",{style:s.swatch},a.createElement(tV,{color:n,onClick:r,onHover:i,focusStyle:o}))}));var cW=function(e){var t=e.width,n=e.colors,r=e.onChange,i=e.onSwatchHover,o=e.triangle,s=e.styles,l=void 0===s?{}:s,c=e.className,u=void 0===c?"":c,d=(0,TU.Ay)(Fq({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":"hide"===o,"top-left-triangle":"top-left"===o,"top-right-triangle":"top-right"===o,"bottom-left-triangle":"bottom-left"===o,"bottom-right-triangle":"bottom-right"===o}),h=function(e,t){return r({hex:e,source:"hex"},t)};return a.createElement("div",{style:d.card,className:"github-picker "+u},a.createElement("div",{style:d.triangleShadow}),a.createElement("div",{style:d.triangle}),AG(n,(function(e){return a.createElement(lW,{color:e,key:e,onClick:h,onSwatchHover:i})})))};cW.propTypes={width:tz().oneOfType([tz().string,tz().number]),colors:tz().arrayOf(tz().string),triangle:tz().oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:tz().object},cW.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};QK(cW);const uW=function(e){var t=e.direction,n=(0,TU.Ay)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return a.createElement("div",{style:n.picker})};var dW=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hW=function(e){var t=e.width,n=e.height,r=e.onChange,i=e.hsl,o=e.direction,s=e.pointer,l=e.styles,c=void 0===l?{}:l,u=e.className,d=void 0===u?"":u,h=(0,TU.Ay)(Fq({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}},c));return a.createElement("div",{style:h.picker,className:"hue-picker "+d},a.createElement(XU,dW({},h.hue,{hsl:i,pointer:s,onChange:function(e){return r({a:1,h:e.h,l:.5,s:1})},direction:o})))};hW.propTypes={styles:tz().object},hW.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:uW,styles:{}};QK(hW);QK((function(e){var t=e.onChange,n=e.hex,r=e.rgb,i=e.styles,o=void 0===i?{}:i,s=e.className,l=void 0===s?"":s,c=(0,TU.Ay)(Fq({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),u=function(e,n){e.hex?VK(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},n)};return a.createElement(Bq,{styles:o},a.createElement("div",{style:c.material,className:"material-picker "+l},a.createElement(ZU,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:n,onChange:u}),a.createElement("div",{style:c.split,className:"flexbox-fix"},a.createElement("div",{style:c.third},a.createElement(ZU,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:r.r,onChange:u})),a.createElement("div",{style:c.third},a.createElement(ZU,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:r.g,onChange:u})),a.createElement("div",{style:c.third},a.createElement(ZU,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:r.b,onChange:u})))))}));const fW=function(e){var t=e.onChange,n=e.rgb,r=e.hsv,i=e.hex,o=(0,TU.Ay)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),s=function(e,i){e["#"]?VK(e["#"])&&t({hex:e["#"],source:"hex"},i):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},i):(e.h||e.s||e.v)&&t({h:e.h||r.h,s:e.s||r.s,v:e.v||r.v,source:"hsv"},i)};return a.createElement("div",{style:o.fields},a.createElement(ZU,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(r.h),onChange:s}),a.createElement(ZU,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(100*r.s),onChange:s}),a.createElement(ZU,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(100*r.v),onChange:s}),a.createElement("div",{style:o.divider}),a.createElement(ZU,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:n.r,onChange:s}),a.createElement(ZU,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:n.g,onChange:s}),a.createElement(ZU,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:n.b,onChange:s}),a.createElement("div",{style:o.divider}),a.createElement(ZU,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:i.replace("#",""),onChange:s}),a.createElement("div",{style:o.fieldSymbols},a.createElement("div",{style:o.symbol},"\xb0"),a.createElement("div",{style:o.symbol},"%"),a.createElement("div",{style:o.symbol},"%")))};const pW=function(e){var t=e.hsl,n=(0,TU.Ay)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return a.createElement("div",{style:n.picker})};const gW=function(){var e=(0,TU.Ay)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return a.createElement("div",{style:e.pointer},a.createElement("div",{style:e.left},a.createElement("div",{style:e.leftInside})),a.createElement("div",{style:e.right},a.createElement("div",{style:e.rightInside})))};const yW=function(e){var t=e.onClick,n=e.label,r=e.children,i=e.active,o=(0,TU.Ay)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return a.createElement("div",{style:o.button,onClick:t},n||r)};const mW=function(e){var t=e.rgb,n=e.currentColor,r=(0,TU.Ay)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return a.createElement("div",null,a.createElement("div",{style:r.label},"new"),a.createElement("div",{style:r.swatches},a.createElement("div",{style:r.new}),a.createElement("div",{style:r.current})),a.createElement("div",{style:r.label},"current"))};var vW=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var bW=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),vW(t,[{key:"render",value:function(){var e=this.props,t=e.styles,n=void 0===t?{}:t,r=e.className,i=void 0===r?"":r,o=(0,TU.Ay)(Fq({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},n));return a.createElement("div",{style:o.picker,className:"photoshop-picker "+i},a.createElement("div",{style:o.head},this.props.header),a.createElement("div",{style:o.body,className:"flexbox-fix"},a.createElement("div",{style:o.saturation},a.createElement(nK,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:pW,onChange:this.props.onChange})),a.createElement("div",{style:o.hue},a.createElement(XU,{direction:"vertical",hsl:this.props.hsl,pointer:gW,onChange:this.props.onChange})),a.createElement("div",{style:o.controls},a.createElement("div",{style:o.top,className:"flexbox-fix"},a.createElement("div",{style:o.previews},a.createElement(mW,{rgb:this.props.rgb,currentColor:this.state.currentColor})),a.createElement("div",{style:o.actions},a.createElement(yW,{label:"OK",onClick:this.props.onAccept,active:!0}),a.createElement(yW,{label:"Cancel",onClick:this.props.onCancel}),a.createElement(fW,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(a.Component);bW.propTypes={header:tz().string,styles:tz().object},bW.defaultProps={header:"Color Picker",styles:{}};QK(bW);const wW=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,i=e.hex,o=e.disableAlpha,s=(0,TU.Ay)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(e,i){e.hex?VK(e.hex)&&t({hex:e.hex,source:"hex"},i):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},i):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:r.h,s:r.s,l:r.l,a:e.a,source:"rgb"},i))};return a.createElement("div",{style:s.fields,className:"flexbox-fix"},a.createElement("div",{style:s.double},a.createElement(ZU,{style:{input:s.input,label:s.label},label:"hex",value:i.replace("#",""),onChange:l})),a.createElement("div",{style:s.single},a.createElement(ZU,{style:{input:s.input,label:s.label},label:"r",value:n.r,onChange:l,dragLabel:"true",dragMax:"255"})),a.createElement("div",{style:s.single},a.createElement(ZU,{style:{input:s.input,label:s.label},label:"g",value:n.g,onChange:l,dragLabel:"true",dragMax:"255"})),a.createElement("div",{style:s.single},a.createElement(ZU,{style:{input:s.input,label:s.label},label:"b",value:n.b,onChange:l,dragLabel:"true",dragMax:"255"})),a.createElement("div",{style:s.alpha},a.createElement(ZU,{style:{input:s.input,label:s.label},label:"a",value:Math.round(100*n.a),onChange:l,dragLabel:"true",dragMax:"100"})))};var xW=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EW=function(e){var t=e.colors,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,o=(0,TU.Ay)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),s=function(e,t){r({hex:e,source:"hex"},t)};return a.createElement("div",{style:o.colors,className:"flexbox-fix"},t.map((function(e){var t="string"===typeof e?{color:e}:e,n=""+t.color+(t.title||"");return a.createElement("div",{key:n,style:o.swatchWrap},a.createElement(tV,xW({},t,{style:o.swatch,onClick:s,onHover:i,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};EW.propTypes={colors:tz().arrayOf(tz().oneOfType([tz().string,tz().shape({color:tz().string,title:tz().string})])).isRequired};const kW=EW;var _W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SW=function(e){var t=e.width,n=e.rgb,r=e.hex,i=e.hsv,o=e.hsl,s=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,u=e.presetColors,d=e.renderers,h=e.styles,f=void 0===h?{}:h,p=e.className,g=void 0===p?"":p,y=(0,TU.Ay)(Fq({default:_W({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},f),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},f),{disableAlpha:c});return a.createElement("div",{style:y.picker,className:"sketch-picker "+g},a.createElement("div",{style:y.saturation},a.createElement(nK,{style:y.Saturation,hsl:o,hsv:i,onChange:s})),a.createElement("div",{style:y.controls,className:"flexbox-fix"},a.createElement("div",{style:y.sliders},a.createElement("div",{style:y.hue},a.createElement(XU,{style:y.Hue,hsl:o,onChange:s})),a.createElement("div",{style:y.alpha},a.createElement(KU,{style:y.Alpha,rgb:n,hsl:o,renderers:d,onChange:s}))),a.createElement("div",{style:y.color},a.createElement(MU,null),a.createElement("div",{style:y.activeColor}))),a.createElement(wW,{rgb:n,hsl:o,hex:r,onChange:s,disableAlpha:c}),a.createElement(kW,{colors:u,onClick:s,onSwatchHover:l}))};SW.propTypes={disableAlpha:tz().bool,width:tz().oneOfType([tz().string,tz().number]),styles:tz().object},SW.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const CW=QK(SW);const AW=function(e){var t=e.hsl,n=e.offset,r=e.onClick,i=void 0===r?function(){}:r,o=e.active,s=e.first,l=e.last,c=(0,TU.Ay)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:s,last:l});return a.createElement("div",{style:c.swatch,onClick:function(e){return i({h:t.h,s:.5,l:n,source:"hsl"},e)}})};const OW=function(e){var t=e.onClick,n=e.hsl,r=(0,TU.Ay)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),i=.1;return a.createElement("div",{style:r.swatches},a.createElement("div",{style:r.swatch},a.createElement(AW,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<i&&Math.abs(n.s-.5)<i,onClick:t,first:!0})),a.createElement("div",{style:r.swatch},a.createElement(AW,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<i&&Math.abs(n.s-.5)<i,onClick:t})),a.createElement("div",{style:r.swatch},a.createElement(AW,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<i&&Math.abs(n.s-.5)<i,onClick:t})),a.createElement("div",{style:r.swatch},a.createElement(AW,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<i&&Math.abs(n.s-.5)<i,onClick:t})),a.createElement("div",{style:r.swatch},a.createElement(AW,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<i&&Math.abs(n.s-.5)<i,onClick:t,last:!0})),a.createElement("div",{style:r.clear}))};const NW=function(){var e=(0,TU.Ay)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return a.createElement("div",{style:e.picker})};var PW=function(e){var t=e.hsl,n=e.onChange,r=e.pointer,i=e.styles,o=void 0===i?{}:i,s=e.className,l=void 0===s?"":s,c=(0,TU.Ay)(Fq({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return a.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},a.createElement("div",{style:c.hue},a.createElement(XU,{style:c.Hue,hsl:t,pointer:r,onChange:n})),a.createElement("div",{style:c.swatches},a.createElement(OW,{hsl:t,onClick:n})))};PW.propTypes={styles:tz().object},PW.defaultProps={pointer:NW,styles:{}};QK(PW);var jW=__webpack_require__(7530);const DW=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,o=e.first,s=e.last,l=e.active,c=(0,TU.Ay)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:GK(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:s,active:l,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return a.createElement(tV,{color:t,style:c.color,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+t}},a.createElement("div",{style:c.check},a.createElement(jW.A,null)))};const RW=function(e){var t=e.onClick,n=e.onSwatchHover,r=e.group,i=e.active,o=(0,TU.Ay)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return a.createElement("div",{style:o.group},AG(r,(function(e,o){return a.createElement(DW,{key:e,color:e,active:e.toLowerCase()===i,first:0===o,last:o===r.length-1,onClick:t,onSwatchHover:n})})))};var TW=function(e){var t=e.width,n=e.height,r=e.onChange,i=e.onSwatchHover,o=e.colors,s=e.hex,l=e.styles,c=void 0===l?{}:l,u=e.className,d=void 0===u?"":u,h=(0,TU.Ay)(Fq({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),f=function(e,t){return r({hex:e,source:"hex"},t)};return a.createElement("div",{style:h.picker,className:"swatches-picker "+d},a.createElement(Bq,null,a.createElement("div",{style:h.overflow},a.createElement("div",{style:h.body},AG(o,(function(e){return a.createElement(RW,{key:e.toString(),group:e,active:s,onClick:f,onSwatchHover:i})})),a.createElement("div",{style:h.clear})))))};TW.propTypes={width:tz().oneOfType([tz().string,tz().number]),height:tz().oneOfType([tz().string,tz().number]),colors:tz().arrayOf(tz().arrayOf(tz().string)),styles:tz().object},TW.defaultProps={width:320,height:240,colors:[[PG[900],PG[700],PG[500],PG[300],PG[100]],[jG[900],jG[700],jG[500],jG[300],jG[100]],[DG[900],DG[700],DG[500],DG[300],DG[100]],[RG[900],RG[700],RG[500],RG[300],RG[100]],[TG[900],TG[700],TG[500],TG[300],TG[100]],[IG[900],IG[700],IG[500],IG[300],IG[100]],[FG[900],FG[700],FG[500],FG[300],FG[100]],[LG[900],LG[700],LG[500],LG[300],LG[100]],[BG[900],BG[700],BG[500],BG[300],BG[100]],["#194D33",MG[700],MG[500],MG[300],MG[100]],[UG[900],UG[700],UG[500],UG[300],UG[100]],[zG[900],zG[700],zG[500],zG[300],zG[100]],[HG[900],HG[700],HG[500],HG[300],HG[100]],[qG[900],qG[700],qG[500],qG[300],qG[100]],[KG[900],KG[700],KG[500],KG[300],KG[100]],[VG[900],VG[700],VG[500],VG[300],VG[100]],[GG[900],GG[700],GG[500],GG[300],GG[100]],[WG[900],WG[700],WG[500],WG[300],WG[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};QK(TW);var IW=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,i=e.colors,o=e.width,s=e.triangle,l=e.styles,c=void 0===l?{}:l,u=e.className,d=void 0===u?"":u,h=(0,TU.Ay)(Fq({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":"hide"===s,"top-left-triangle":"top-left"===s,"top-right-triangle":"top-right"===s}),f=function(e,n){VK(e)&&t({hex:e,source:"hex"},n)};return a.createElement("div",{style:h.card,className:"twitter-picker "+d},a.createElement("div",{style:h.triangleShadow}),a.createElement("div",{style:h.triangle}),a.createElement("div",{style:h.body},AG(i,(function(e,t){return a.createElement(tV,{key:t,color:e,hex:e,style:h.swatch,onClick:f,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),a.createElement("div",{style:h.hash},"#"),a.createElement(ZU,{label:null,style:{input:h.input},value:r.replace("#",""),onChange:f}),a.createElement("div",{style:h.clear})))};IW.propTypes={width:tz().oneOfType([tz().string,tz().number]),triangle:tz().oneOf(["hide","top-left","top-right"]),colors:tz().arrayOf(tz().string),styles:tz().object},IW.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};QK(IW);var FW=function(e){var t=(0,TU.Ay)({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(100*e.hsl.s)+"%, "+Math.round(100*e.hsl.l)+"%)"}}});return a.createElement("div",{style:t.picker})};FW.propTypes={hsl:tz().shape({h:tz().number,s:tz().number,l:tz().number,a:tz().number})},FW.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};const LW=FW;var BW=function(e){var t=(0,TU.Ay)({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return a.createElement("div",{style:t.picker})};BW.propTypes={hsl:tz().shape({h:tz().number,s:tz().number,l:tz().number,a:tz().number})},BW.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};const MW=BW;const UW=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,i=e.hex,o=e.hsv,s=function(e,n){if(e.hex)VK(e.hex)&&t({hex:e.hex,source:"hex"},n);else if(e.rgb){var r=e.rgb.split(",");WK(e.rgb,"rgb")&&t({r:r[0],g:r[1],b:r[2],a:1,source:"rgb"},n)}else if(e.hsv){var i=e.hsv.split(",");WK(e.hsv,"hsv")&&(i[2]=i[2].replace("%",""),i[1]=i[1].replace("%",""),i[0]=i[0].replace("\xb0",""),1==i[1]?i[1]=.01:1==i[2]&&(i[2]=.01),t({h:Number(i[0]),s:Number(i[1]),v:Number(i[2]),source:"hsv"},n))}else if(e.hsl){var o=e.hsl.split(",");WK(e.hsl,"hsl")&&(o[2]=o[2].replace("%",""),o[1]=o[1].replace("%",""),o[0]=o[0].replace("\xb0",""),1==d[1]?d[1]=.01:1==d[2]&&(d[2]=.01),t({h:Number(o[0]),s:Number(o[1]),v:Number(o[2]),source:"hsl"},n))}},l=(0,TU.Ay)({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=n.r+", "+n.g+", "+n.b,u=Math.round(r.h)+"\xb0, "+Math.round(100*r.s)+"%, "+Math.round(100*r.l)+"%",d=Math.round(o.h)+"\xb0, "+Math.round(100*o.s)+"%, "+Math.round(100*o.v)+"%";return a.createElement("div",{style:l.wrap,className:"flexbox-fix"},a.createElement("div",{style:l.fields},a.createElement("div",{style:l.double},a.createElement(ZU,{style:{input:l.input,label:l.label},label:"hex",value:i,onChange:s})),a.createElement("div",{style:l.column},a.createElement("div",{style:l.single},a.createElement(ZU,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:s})),a.createElement("div",{style:l.single},a.createElement(ZU,{style:{input:l.input2,label:l.label2},label:"hsv",value:d,onChange:s})),a.createElement("div",{style:l.single},a.createElement(ZU,{style:{input:l.input2,label:l.label2},label:"hsl",value:u,onChange:s})))))};var zW=function(e){var t=e.width,n=e.onChange,r=e.rgb,i=e.hsl,o=e.hsv,s=e.hex,l=e.header,c=e.styles,u=void 0===c?{}:c,d=e.className,h=void 0===d?"":d,f=(0,TU.Ay)(Fq({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+r.r+", "+r.g+", "+r.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return a.createElement("div",{style:f.picker,className:"google-picker "+h},a.createElement("div",{style:f.head},l),a.createElement("div",{style:f.swatch}),a.createElement("div",{style:f.saturation},a.createElement(nK,{hsl:i,hsv:o,pointer:LW,onChange:n})),a.createElement("div",{style:f.body},a.createElement("div",{style:f.controls,className:"flexbox-fix"},a.createElement("div",{style:f.hue},a.createElement(XU,{style:f.Hue,hsl:i,radius:"4px",pointer:MW,onChange:n}))),a.createElement(UW,{rgb:r,hsl:i,hex:s,hsv:o,onChange:n})))};zW.propTypes={width:tz().oneOfType([tz().string,tz().number]),styles:tz().object,header:tz().string},zW.defaultProps={width:652,styles:{},header:"Color picker"};QK(zW);var HW;const qW=["title","titleId"];function KW(){return KW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KW.apply(null,arguments)}function VW(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,qW);return a.createElement("svg",KW({xmlns:"http://www.w3.org/2000/svg",className:"ionicon",viewBox:"0 0 512 512",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,HW||(HW=a.createElement("path",{d:"M456.7 242.27l-26.08-4.2a8 8 0 01-6.6-6.82c-.5-3.2-1-6.41-1.7-9.51a8.08 8.08 0 013.9-8.62l23.09-12.82a8.05 8.05 0 003.9-9.92l-4-11a7.94 7.94 0 00-9.4-5l-25.89 5a8 8 0 01-8.59-4.11q-2.25-4.2-4.8-8.41a8.16 8.16 0 01.7-9.52l17.29-19.94a8 8 0 00.3-10.62l-7.49-9a7.88 7.88 0 00-10.5-1.51l-22.69 13.63a8 8 0 01-9.39-.9c-2.4-2.11-4.9-4.21-7.4-6.22a8 8 0 01-2.5-9.11l9.4-24.75A8 8 0 00365 78.77l-10.2-5.91a8 8 0 00-10.39 2.21l-16.64 20.84a7.15 7.15 0 01-8.5 2.5s-5.6-2.3-9.8-3.71A8 8 0 01304 87l.4-26.45a8.07 8.07 0 00-6.6-8.42l-11.59-2a8.07 8.07 0 00-9.1 5.61l-8.6 25.05a8 8 0 01-7.79 5.41h-9.8a8.07 8.07 0 01-7.79-5.41l-8.6-25.05a8.07 8.07 0 00-9.1-5.61l-11.59 2a8.07 8.07 0 00-6.6 8.42l.4 26.45a8 8 0 01-5.49 7.71c-2.3.9-7.3 2.81-9.7 3.71-2.8 1-6.1.2-8.8-2.91l-16.51-20.34A8 8 0 00156.75 73l-10.2 5.91a7.94 7.94 0 00-3.3 10.09l9.4 24.75a8.06 8.06 0 01-2.5 9.11c-2.5 2-5 4.11-7.4 6.22a8 8 0 01-9.39.9L111 116.14a8 8 0 00-10.5 1.51l-7.49 9a8 8 0 00.3 10.62l17.29 19.94a8 8 0 01.7 9.52q-2.55 4-4.8 8.41a8.11 8.11 0 01-8.59 4.11l-25.89-5a8 8 0 00-9.4 5l-4 11a8.05 8.05 0 003.9 9.92L85.58 213a7.94 7.94 0 013.9 8.62c-.6 3.2-1.2 6.31-1.7 9.51a8.08 8.08 0 01-6.6 6.82l-26.08 4.2a8.09 8.09 0 00-7.1 7.92v11.72a7.86 7.86 0 007.1 7.92l26.08 4.2a8 8 0 016.6 6.82c.5 3.2 1 6.41 1.7 9.51a8.08 8.08 0 01-3.9 8.62L62.49 311.7a8.05 8.05 0 00-3.9 9.92l4 11a7.94 7.94 0 009.4 5l25.89-5a8 8 0 018.59 4.11q2.25 4.2 4.8 8.41a8.16 8.16 0 01-.7 9.52l-17.29 19.96a8 8 0 00-.3 10.62l7.49 9a7.88 7.88 0 0010.5 1.51l22.69-13.63a8 8 0 019.39.9c2.4 2.11 4.9 4.21 7.4 6.22a8 8 0 012.5 9.11l-9.4 24.75a8 8 0 003.3 10.12l10.2 5.91a8 8 0 0010.39-2.21l16.79-20.64c2.1-2.6 5.5-3.7 8.2-2.6 3.4 1.4 5.7 2.2 9.9 3.61a8 8 0 015.49 7.71l-.4 26.45a8.07 8.07 0 006.6 8.42l11.59 2a8.07 8.07 0 009.1-5.61l8.6-25a8 8 0 017.79-5.41h9.8a8.07 8.07 0 017.79 5.41l8.6 25a8.07 8.07 0 009.1 5.61l11.59-2a8.07 8.07 0 006.6-8.42l-.4-26.45a8 8 0 015.49-7.71c4.2-1.41 7-2.51 9.6-3.51s5.8-1 8.3 2.1l17 20.94A8 8 0 00355 439l10.2-5.91a7.93 7.93 0 003.3-10.12l-9.4-24.75a8.08 8.08 0 012.5-9.12c2.5-2 5-4.1 7.4-6.21a8 8 0 019.39-.9L401 395.66a8 8 0 0010.5-1.51l7.49-9a8 8 0 00-.3-10.62l-17.29-19.94a8 8 0 01-.7-9.52q2.55-4.05 4.8-8.41a8.11 8.11 0 018.59-4.11l25.89 5a8 8 0 009.4-5l4-11a8.05 8.05 0 00-3.9-9.92l-23.09-12.82a7.94 7.94 0 01-3.9-8.62c.6-3.2 1.2-6.31 1.7-9.51a8.08 8.08 0 016.6-6.82l26.08-4.2a8.09 8.09 0 007.1-7.92V250a8.25 8.25 0 00-7.27-7.73zM256 112a143.82 143.82 0 01139.38 108.12A16 16 0 01379.85 240H274.61a16 16 0 01-13.91-8.09l-52.1-91.71a16 16 0 019.85-23.39A146.94 146.94 0 01256 112zM112 256a144 144 0 0143.65-103.41 16 16 0 0125.17 3.47L233.06 248a16 16 0 010 15.87l-52.67 91.7a16 16 0 01-25.18 3.36A143.94 143.94 0 01112 256zm144 144a146.9 146.9 0 01-38.19-4.95 16 16 0 01-9.76-23.44l52.58-91.55a16 16 0 0113.88-8H379.9a16 16 0 0115.52 19.88A143.84 143.84 0 01256 400z"})))}const GW=a.forwardRef(VW),WW=(__webpack_require__.p,e=>{let{text:t,onTextChange:n,onDelete:r,onStyleChange:i,onColorChange:o,onOutlineColorChange:s,fonts:l,styles:c}=e;const[u,d]=(0,a.useState)(null),h=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&d(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const f=e=>{d(u===e?null:e)};return(0,RN.jsxs)("div",{className:"mb-4 relative",children:[(0,RN.jsxs)("div",{className:"flex items-center bg-gray-300 border pr-1",children:[(0,RN.jsx)("input",{type:"text",value:t.text,onChange:e=>n(t.id,e.target.value),placeholder:"Enter text",className:"px-2 py-2 w-full border "}),(0,RN.jsxs)("div",{className:"flex flex-nowrap items-center ",children:[(0,RN.jsx)("button",{className:"ml-1 p-2 bg-gray-200 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400",onClick:()=>f("gear"),children:(0,RN.jsx)(GW,{className:"w-6 h-6 text-gray-600"})}),(0,RN.jsx)("button",{className:"ml-2 w-8 h-8 border-2 border-gray-300",style:{backgroundColor:t.fill},onClick:()=>f("fillColor")}),(0,RN.jsx)("button",{className:"ml-2 w-8 h-8 border-2 border-gray-300",style:{backgroundColor:t.stroke},onClick:()=>f("outlineColor")}),(0,RN.jsx)("button",{className:"ml-2 px-2 py-1 bg-red-500 text-white rounded-lg hover:bg-red-700",onClick:()=>r(t.id),children:"Delete"})]})]}),u&&(0,RN.jsxs)("div",{ref:h,className:"absolute right-0 mt-2 z-10",children:["gear"===u&&(0,RN.jsx)("div",{className:"w-48 bg-white border border-gray-200 rounded-lg shadow-lg",children:(0,RN.jsxs)("div",{className:"p-4",children:[(0,RN.jsxs)("div",{className:"mb-4",children:[(0,RN.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Font Family:"}),(0,RN.jsx)("select",{value:t.fontFamily,onChange:e=>i(t.id,"fontFamily",e.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md",children:l.map(((e,t)=>(0,RN.jsx)("option",{value:e,children:e},t)))})]}),(0,RN.jsxs)("div",{className:"mb-4",children:[(0,RN.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Font Style:"}),(0,RN.jsx)("select",{value:t.fontStyle,onChange:e=>i(t.id,"fontStyle",e.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md",children:c.map(((e,t)=>(0,RN.jsx)("option",{value:e,children:e},t)))})]}),(0,RN.jsxs)("div",{className:"mb-4",children:[(0,RN.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Font Size:"}),(0,RN.jsx)("input",{type:"number",value:t.fontSize,onChange:e=>i(t.id,"fontSize",Number(e.target.value)),min:"8",max:"72",className:"w-full px-2 py-1 border border-gray-300 rounded-md"})]}),(0,RN.jsxs)("div",{className:"mb-4",children:[(0,RN.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outline Width:"}),(0,RN.jsx)("input",{type:"number",value:t.strokeWidth,onChange:e=>i(t.id,"strokeWidth",Number(e.target.value)),min:"0",max:"20",className:"w-full px-2 py-1 border border-gray-300 rounded-md"})]})]})}),"fillColor"===u&&(0,RN.jsx)(CW,{color:t.fill,onChangeComplete:e=>o(t.id,e.hex)}),"outlineColor"===u&&(0,RN.jsx)(CW,{color:t.stroke,onChangeComplete:e=>s(t.id,e.hex)})]})]})}),YW=e=>{let{texts:t,onTextChange:n,onAddText:r,onDeleteText:i,onStyleChange:o,onColorChange:a,onOutlineColorChange:s,fonts:l,styles:c,fileInputRef:u,handleImageUpload:d}=e;return(0,RN.jsxs)("div",{className:"flex-1 p-4",children:[(0,RN.jsx)("div",{className:"flex-1",children:(0,RN.jsx)("div",{children:(0,RN.jsx)("input",{id:"fileInput",type:"file",accept:"image/*",onChange:d,style:{display:"none"},ref:u})})}),t.map((e=>(0,RN.jsx)(WW,{text:e,onTextChange:n,onDelete:i,onStyleChange:o,onColorChange:a,onOutlineColorChange:s,fonts:l,styles:c},e.id))),(0,RN.jsx)("button",{onClick:r,className:"px-4 py-2 mt-2 bg-slate-700 text-white rounded-lg hover:bg-slate-900",children:"Add Another Text"})]})},ZW=(0,a.createContext)(),QW=()=>{const e=400,t=400,[n,r]=(0,a.useState)(null),[i,o]=(0,a.useState)([{id:Date.now(),text:"",x:50,y:50,fontSize:24,fontStyle:"normal",fontFamily:"Impact",stroke:"#000000",fill:"#ffffff",strokeWidth:1,width:200}]),[s,l]=(0,a.useState)([]),[c,u]=(0,a.useState)(e),[d,h]=(0,a.useState)(t),p=(0,a.useRef)(null),g=(0,a.useRef)(null),y=(0,a.useRef)(null),[m,v]=(0,a.useState)(""),[b,w]=(0,a.useState)(!1),[x,E]=(0,a.useState)(!1),[k,_]=(0,a.useState)(!1);let S;const[C,A]=(0,a.useState)([]),[O,N]=(0,a.useState)(""),[P,j]=(0,a.useState)(!1),[D,R]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const n=()=>{const n=p.current.container().offsetWidth/e;p.current.width(e*n),p.current.height(t*n),p.current.scale({x:n,y:n})};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}),[]),(0,a.useEffect)((()=>{(async()=>{if(0===s.length)try{const e=await fetch("https://6sz2qdcmae.execute-api.us-east-1.amazonaws.com/prod/");if(!e.ok)throw new Error("Failed to fetch images");const t=await e.json();l(t)}catch(kU){console.error("Error fetching images:",kU)}})()}),[s.length]),(0,a.useEffect)((()=>{if(n){const r=n.width/n.height;r>1?(u(e),h(e/r)):(h(t),u(t*r))}}),[n]);const T={templates:s,handleTemplateImageSelect:n=>{const i=new window.Image;i.src=n,i.crossOrigin="Anonymous",i.onload=()=>{const n=i.width/i.height;n>1?(i.width=e,i.height=e/n):(i.height=t,i.width=t*n),r(i)}}};return(0,RN.jsxs)(RN.Fragment,{children:[(0,RN.jsx)("h1",{className:"mt-2 text-3xl font-nunito font-bold text-center",children:"Make a Meme"}),(0,RN.jsxs)("div",{className:"flex flex-col md:flex-row overflow-auto",children:[(0,RN.jsxs)("div",{className:"p-4 rounded-lg flex-1",children:[(0,RN.jsx)("div",{style:{marginTop:"10px",border:"1px solid grey",display:"inline-block"},children:(0,RN.jsx)(PU,{width:c,height:d,ref:p,children:(0,RN.jsxs)("Layer",{children:[n&&(0,RN.jsx)("Image",{image:n,width:c,height:d}),i.map((e=>(0,RN.jsx)("Text",{id:"text-".concat(e.id),text:e.text,x:e.x,y:e.y,fontSize:e.fontSize,fontStyle:e.fontStyle,fontFamily:e.fontFamily,fill:e.fill,width:e.width,wrap:"word",stroke:e.stroke,strokeWidth:e.strokeWidth,draggable:!0,onDragEnd:t=>{const n=t.target,r=i.map((t=>t.id===e.id?f(f({},t),{},{x:n.x(),y:n.y()}):t));o(r)},onClick:()=>(e=>{const t=p.current.findOne("#text-".concat(e));t&&(y.current.nodes([t]),y.current.getLayer().batchDraw())})(e.id)},e.id))),(0,RN.jsx)("Transformer",{ref:y})]})})}),(0,RN.jsxs)("div",{className:"flex mt-4 justify-center gap-2",children:[(0,RN.jsx)("label",{htmlFor:"fileInput",className:"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-slate-900 cursor-pointer inline-block",children:"Upload Image"}),(0,RN.jsx)("button",{onClick:()=>{const e=p.current,t=y.current;t&&(t.detach(),t.getLayer().batchDraw());const n="memestr.app",r=e.toDataURL({pixelRatio:2}),i=document.createElement("canvas");i.width=2*e.width(),i.height=2*e.height();const o=i.getContext("2d"),a=new window.Image;a.onload=()=>{o.drawImage(a,0,0),o.font="".concat(30,"px Arial");const e=o.measureText(n).width,t=i.width-14,r=i.height-14;o.fillStyle="rgba(0, 0, 0, 0.5)",o.fillRect(t-e-14,r-30-14,e+28,58),o.fillStyle="rgba(255, 255, 255, 0.8)",o.textAlign="right",o.textBaseline="bottom",o.fillText(n,t,r),i.toBlob((e=>{(0,jU.saveAs)(e,"my-meme.png")}))},a.src=r},className:"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-900",children:"Save"}),(0,RN.jsx)("button",{onClick:()=>{E((e=>!e))},className:"px-4 py-2  bg-gray-700 text-white rounded-lg hover:bg-gray-900",children:"Post on Nostr."})]}),x&&(0,RN.jsxs)("div",{className:"flex flex-col p-4",children:[(0,RN.jsx)("h2",{className:"text-xl font-nunito font-semibold mb-2",children:"Post Details"}),(0,RN.jsx)("input",{value:m,onChange:e=>v(e.target.value),placeholder:"Title",className:"px-4 py-2 w-full border border-gray-300 rounded-lg"}),(0,RN.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2",children:[(0,RN.jsxs)("div",{className:"flex w-full",children:[(0,RN.jsx)("div",{className:"bg-white border border-gray-300 rounded-l-md p-2 flex items-center",children:(0,RN.jsx)("span",{className:"text-indigo-600",children:"#"})}),(0,RN.jsx)("input",{type:"text",name:"hashtags",id:"hashtags",value:O,onChange:e=>{N(e.target.value)},onKeyDown:e=>{if((" "===e.key||"Enter"===e.key)&&""!==e.target.value.trim()){let t=e.target.value.trim();t.startsWith("#")||(t="#".concat(t)),C.length<3?(A([...C,t]),N(""),j(!1)):(j(!0),clearTimeout(S),S=setTimeout((()=>{j(!1)}),3e3)),e.preventDefault()}},className:"bg-white border border-gray-300 text-gray-900 text-sm rounded-r-md focus:ring-blue-500 focus:border-blue-500 block w-full p-2",placeholder:"Add Tags"})]}),C.map(((e,t)=>(0,RN.jsxs)("div",{className:"flex items-center text-wrap gap-2 bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded",children:[e,(0,RN.jsx)("button",{type:"button",onClick:()=>(e=>{const t=C.filter(((t,n)=>n!==e));A(t),j(!1)})(t),className:"text-blue-500 hover:text-blue-700",children:"\xd7"})]},e))),P&&(0,RN.jsx)("div",{className:"fixed top-0 inset-x-0 flex justify-center items-start z-50",children:(0,RN.jsx)("div",{className:"mt-2 p-4 bg-black text-white rounded-lg shadow-lg transition-transform transform-gpu animate-slideInSlideOut",children:(0,RN.jsx)("p",{children:"Max allowed tags: 3"})})})]}),(0,RN.jsx)("button",{onClick:async()=>{if(!localStorage.getItem("memestr"))return R(!0),void setTimeout((()=>R(!1)),3e3);w(!0);const e=p.current,t=y.current;t&&(t.detach(),t.getLayer().batchDraw());const n="memestr.app",r=e.toDataURL({pixelRatio:2});try{const t=document.createElement("canvas");t.width=2*e.width(),t.height=2*e.height();const i=t.getContext("2d"),o=new window.Image;o.onload=()=>{i.drawImage(o,0,0),i.font="".concat(30,"px Arial");const e=i.measureText(n).width,r=t.width-14,a=t.height-14;i.fillStyle="rgba(0, 0, 0, 0.5)",i.fillRect(r-e-14,a-30-14,e+28,58),i.fillStyle="rgba(255, 255, 255, 0.8)",i.textAlign="right",i.textBaseline="bottom",i.fillText(n,r,a),t.toBlob((async e=>{const t=(await qL(e)).data.link;t&&(await(async(e,t,n)=>{if(!e||!t)return void alert("Can not create post without image and title.");const r=PN(),i=localStorage.getItem("memestr");if(!i)return void alert("Login required to upload post.");let o=JSON.parse(i).pubKey,a=JSON.parse(i).privateKey,s=Ha.decode(a),l={kind:1,pubkey:o,created_at:Math.floor(Date.now()/1e3),tags:[["d","memestr"],["url",e],["p",o],["category","memestrrr"]],content:t+" "+e+" "+n.join(" ")};l.id=_a(l),l.sig=Oa(l,s.data);let c=r.publish(["wss://relay.primal.net","wss://relay.damus.io","wss://relay.nostr.band","wss://relay.nostr.bg","wss://relay.nostrati.com","wss://nos.lol","wss://nostr.mom"],l);Promise.resolve(c).then((e=>{console.log("Success",e)}),(e=>{console.error("something went wrong",e)}))})(t,m,C),E(!1),v(" "),A([]),N(""),_(!0),setTimeout((()=>_(!1)),3e3))}))},o.src=r}catch(kU){console.error("An error occurred while uploading to Imgur:",kU)}w(!1)},className:"px-4 mt-2 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-900",disabled:b||!m.trim(),children:b?"Uploading...":"Upload to Nostr"})]}),k&&(0,RN.jsx)("div",{className:"fixed top-0 inset-x-0 flex justify-center items-start notification z-50",children:(0,RN.jsxs)("div",{className:"mt-12 p-4 bg-black text-white rounded-lg shadow-lg transition-transform transform-gpu animate-slideInSlideOut flex items-center",children:[(0,RN.jsx)("p",{className:"text-bold text-white px-2",children:"Meme Uploaded Successfully"}),(0,RN.jsx)(BT,{className:"h-6 w-6 mr-2 text-white",onClick:()=>_(!1)})]})}),D&&(0,RN.jsx)("div",{className:"fixed top-0 inset-x-0 flex justify-center items-start notification z-50",children:(0,RN.jsxs)("div",{className:"mt-12 p-4 bg-black text-white rounded-lg shadow-lg transition-transform transform-gpu animate-slideInSlideOut flex items-center",children:[(0,RN.jsx)("p",{className:"text-bold text-white px-2",children:"Login Required to Post"}),(0,RN.jsx)(BT,{className:"h-6 w-6 mr-2 text-white",onClick:()=>R(!1)})]})})]}),(0,RN.jsx)(ZW.Provider,{value:T,children:(0,RN.jsx)("div",{className:"container mx-auto p-4",children:(0,RN.jsxs)(RU,{children:[(0,RN.jsx)("div",{title:"Tools",children:(0,RN.jsx)(YW,{texts:i,onTextChange:(e,t)=>{o(i.map((n=>n.id===e?f(f({},n),{},{text:t}):n)))},onAddText:()=>{const e={id:Date.now(),text:"",x:50,y:50,fontSize:24,fontStyle:"normal",fontFamily:"Impact",fill:"#ffffff",stroke:"#000000",strokeWidth:1,width:200};o([...i,e])},onDeleteText:e=>{o(i.filter((t=>t.id!==e)))},onStyleChange:(e,t,n)=>{o(i.map((r=>r.id===e?f(f({},r),{},{[t]:n}):r)))},onColorChange:(e,t)=>{o(i.map((n=>n.id===e?f(f({},n),{},{fill:t}):n)))},onOutlineColorChange:(e,t)=>{o(i.map((n=>n.id===e?f(f({},n),{},{stroke:t}):n)))},fonts:["Arial","Times New Roman","Courier New","Georgia","Verdana","Comic Sans MS","Impact"],styles:["Normal","Bold","Italic"],fileInputRef:g,handleImageUpload:n=>{const i=n.target.files[0],o=new FileReader;o.onload=()=>{const n=new window.Image;n.src=o.result,n.onload=()=>{const i=n.width/n.height;i>1?(n.width=e,n.height=e/i):(n.height=t,n.width=t*i),r(n)}},o.readAsDataURL(i)}})}),(0,RN.jsx)("div",{title:"Popular Memes",children:(0,RN.jsx)(DU,{})})]})})})]})]})};const $W=function(e){const t=e.className||"",n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,a.useRef)(null);return(0,a.useEffect)((()=>{const r=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&e()}))}),{root:t.root||null,rootMargin:t.rootMargin||"0px",threshold:t.threshold||1}),i=n.current;return i&&r.observe(i),()=>{i&&r.unobserve(i)}}),[e,t]),n}((()=>{e.isLoading||e.onLoadMore()}),{root:null,rootMargin:"200px",threshold:.1}),r=Math.max(0,e.notes.length-10);return(0,RN.jsx)(qI.Provider,{value:e.isHomePage,children:(0,RN.jsx)("div",{className:"\n                      feed-container\n                      mx-auto max-w-xl\n                      ".concat(t,"\n                    "),children:e.notes.filter((e=>YI(e.content).length>0)).map(((e,t)=>(0,RN.jsxs)("div",{children:[(0,RN.jsx)(JI,{note:e}),t===r&&(0,RN.jsx)("div",{ref:n})]},e.id)))})})};const JW=function(e){let{showMemeEditor:t}=e;const[n,r]=(0,a.useState)(""),i=jP();return(0,RN.jsxs)("aside",{className:"hidden lg:block w-96 bg-white p-2 sticky top-0 h-screen overflow-y-auto border-l border-gray-200 ".concat("z-50"),children:[(0,RN.jsx)("form",{onSubmit:e=>{e.preventDefault(),n.trim().length>0&&(i("/search/".concat(n.trim())),r(""))},className:"hidden md:flex items-center w-80 px-2 ",children:(0,RN.jsxs)("div",{className:"relative w-full",children:[(0,RN.jsx)("input",{type:"search",className:"pl-4 pr-8 py-2 w-full border border-gray-200  bg-slate-50 rounded-full focus:outline-none focus:border-grey-400 transition-shadow",placeholder:"Search...",value:n,onChange:e=>{r(e.target.value)}}),(0,RN.jsx)("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-transparent text-gray-600 hover:text-gray-500 focus:text-gray-500 outline-none",children:(0,RN.jsx)(qB,{className:"h-6 w-6"})})]})}),(0,RN.jsx)("div",{className:"flex justify-center",children:(0,RN.jsx)("h2",{className:"text-2xl font-bold text-center pt-2 text-gray-900 mb-2",children:"Trending Tags"})}),(0,RN.jsx)("div",{className:"flex flex-wrap gap-2 p-2 mt-2 overflow-x-auto justify-center",children:["meme","nostr","grownstr","bitcoin","plebchain","siamstr","btc","privacy","security","memes","tunestr","music","coffeechain","press","presse","memestr","photography","funny","france","artstr","foodstr","news","btcprague","sats","zaps","china","permaculture","inflation","primal","plebs","permies","photestr","homesteading","bible","biblestr","christian","crypto","yestr","new","thainostrich","nostrich","wisdom","hodl","us","dance"].map(((e,t)=>(0,RN.jsx)("button",{onClick:()=>(e=>{i("/search/".concat(e))})(e),className:"bg-gray-200 text-black rounded-full px-4 py-1 text-sm focus:outline-none ",style:{flex:"0 0 auto"},children:e},t)))})]})};var XW;const eY=["title","titleId"];function tY(){return tY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tY.apply(null,arguments)}function nY(e,t){let{title:n,titleId:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,eY);return a.createElement("svg",tY({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,XW||(XW=a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15 11.25-3-3m0 0-3 3m3-3v7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})))}const rY=a.forwardRef(nY);__webpack_require__.p;const iY=function(){const{notes:e,LoadMoreMedia:t,isLoading:n,filterTags:r}=(0,a.useContext)(FN),[i,o]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),[d,h]=(0,a.useState)(!1);!function(e){(0,a.useEffect)((()=>{window.scrollTo(0,0)}),[e])}(r);const f=e=>{let{isVisible:t}=e;return t?(0,RN.jsx)("div",{className:"fixed bottom-0 left-0 w-full flex items-center justify-center bg-opacity-50 p-4",children:(0,RN.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-800"})}):null},p=e=>{let{isVisible:t,message:n,onClose:r}=e;return t?(0,RN.jsx)("div",{className:"fixed top-0 inset-x-0 flex justify-center items-start notification z-50",children:(0,RN.jsxs)("div",{className:"mt-12 p-4 bg-black text-white rounded-lg shadow-lg transition-transform transform-gpu animate-slideInSlideOut flex items-center",children:[(0,RN.jsx)("p",{className:"text-bold text-white px-2",children:n}),(0,RN.jsx)(BT,{className:"h-6 w-6 mr-2 text-white",onClick:r})]})}):null};return(0,RN.jsx)(RN.Fragment,{children:(0,RN.jsxs)("div",{className:"flex flex-col md:flex-row min-h-screen",children:[(0,RN.jsx)(GF,{showMemeEditor:c,setShowMemeEditor:u}),(0,RN.jsxs)("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:[n&&(0,RN.jsx)(Ej,{}),(0,RN.jsx)($W,{isHomePage:!0,notes:e,onLoadMore:function(){l(!0),t().then((()=>{l(!1)}))},isLoading:n||s,className:"pt-12"}),(0,RN.jsx)(f,{isVisible:s}),(0,RN.jsx)("button",{onClick:function(){o(!0)},title:"Upload",style:{zIndex:50},className:"hidden md:block fixed bottom-4 right-8  bg-gradient-to-r from-blue-500 to-teal-500 hover:from-pink-500 hover:to-yellow-500 w-14 h-14 rounded-full flex items-center justify-center text-white drop-shadow-lg hover:drop-shadow-2xl",children:(0,RN.jsx)(rY,{className:"m-auto h-6 w-6"})}),i&&(0,RN.jsx)(KL,{isOpen:i,onClose:function(){o(!1)},onUploadSuccess:function(){h(!0),setTimeout((()=>h(!1)),3e3)}}),(0,RN.jsx)(p,{isVisible:d,message:"Post Uploaded Successfully",onClose:()=>h(!1)})]}),(0,RN.jsx)(JW,{showMemeEditor:c}),c&&(0,RN.jsx)("div",{className:"fixed editor-container inset-0 flex items-center justify-center bg-black bg-opacity-40 transition-opacity overflow-auto",children:(0,RN.jsxs)("div",{className:"bg-white p-6 rounded-md shadow-md relative max-h-full lg:w-2/3 overflow-auto",children:[(0,RN.jsx)(QW,{}),(0,RN.jsx)("button",{type:"button",className:"absolute top-4 right-4 mt-2 mr-2 text-gray-600 hover:text-gray-800",onClick:()=>u(!1),children:(0,RN.jsx)(BT,{})})]})})]})})};const oY=function(){const{isLoggedIn:e}=mI(),t=jP(),[n,r]=(0,a.useState)(null),[i,o]=(0,a.useState)(!0),[s,l]=(0,a.useState)(null),[c,u]=(0,a.useState)(null),[d,h]=(0,a.useState)(null),[p,g]=(0,a.useState)(""),[y,m]=(0,a.useState)(""),[v,b]=(0,a.useState)(""),[w,x]=(0,a.useState)(""),[E,k]=(0,a.useState)(""),[_,S]=(0,a.useState)(""),[C,A]=(0,a.useState)(""),[O,N]=(0,a.useState)(""),[P,j]=(0,a.useState)(!1),[D,R]=(0,a.useState)(""),[T,I]=(0,a.useState)(null),[F,L]=(0,a.useState)(null);(0,a.useEffect)((()=>{e?B():t(-1)}),[e,t]),(0,a.useEffect)((()=>{n&&(x(n.name),k(n.about),S(n.lightningAddress),N(n.banner),A(n.picture))}),[n]);const B=async()=>{const e=localStorage.getItem("memestr");if(e){const t=JSON.parse(e).pubKey;h(t);try{const e=(await eF(t)).content,n=JSON.parse(e);r(f({},n)),g(n.name),m(n.about),b(n.lightningAddress),l(n.picture),u(n.banner),o(!1)}catch(kU){console.error("Error fetching user details:",kU)}}};return(0,RN.jsxs)("div",{className:"flex flex-col md:flex-row min-h-screen ",children:[(0,RN.jsx)(GF,{}),(0,RN.jsxs)("main",{className:"md:w-7/12 p-4 pt-8",children:[(0,RN.jsxs)("div",{className:"mt-8 mb-4 flex items-center justify-between",children:[(0,RN.jsx)("h1",{className:"text-2xl font-bold",children:"Edit Profile"}),(0,RN.jsxs)("div",{children:[(0,RN.jsx)("button",{onClick:async()=>{const e=["wss://relay.damus.io","wss://relay.primal.net","wss://relay.snort.social","wss://relay.hllo.live"],t=PN(),n=localStorage.getItem("memestr");if(n){const i=JSON.parse(n).pubKey,a=JSON.parse(n).privateKey;let l=Ha.decode(a);const u={name:p,about:y,lightningAddress:v,picture:s,banner:c},d={kind:0,pubkey:i,created_at:Math.floor(Date.now()/1e3),tags:[["p",i],["w","memestrAccount"]],content:JSON.stringify(u)};d.id=_a(d),d.sig=Oa(d,l.data);try{await t.publish(e,d),t.close(e);const n=await eF(i);let s=JSON.parse(n.content);s.pubKey=i,s.privateKey=a,localStorage.setItem("memestr",JSON.stringify(s)),r(s),o(!1),R("User Details Saved Successfully"),j(!0),setTimeout((()=>j(!1)),3e3)}catch(kU){console.error("Error during saving changes:",kU),o(!1)}}},className:"text-white bg-gradient-to-r from-blue-500 to-teal-500 hover:from-pink-500 hover:to-yellow-500 focus:outline-none focus:ring-4 font-medium rounded-full text-md px-5 py-2.5 me-2 mb-2 ",children:"Save"}),(0,RN.jsx)("button",{onClick:()=>{g(w),m(E),b(_),t(-1)},className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-full",children:"Cancel"})]})]}),i?(0,RN.jsx)(YL,{}):(0,RN.jsxs)(RN.Fragment,{children:[P&&(0,RN.jsx)("div",{className:"fixed top-0 inset-x-0 flex justify-center items-start z-50",children:(0,RN.jsxs)("div",{className:"mt-12 p-4 bg-black text-white rounded-lg shadow-lg transition-transform transform-gpu animate-slideInSlideOut flex items-center",children:[(0,RN.jsx)("p",{className:"text-bold text-white px-2",children:D}),(0,RN.jsx)(BT,{className:"h-6 w-6 mr-2 text-white cursor-pointer",onClick:()=>j(!1)})]})}),(0,RN.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,RN.jsxs)("label",{htmlFor:"banner-upload",children:[(0,RN.jsx)("input",{type:"file",id:"banner-upload",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)try{const e=await qL(t);u(e.data.link),L(URL.createObjectURL(t))}catch(kU){console.error("An error occured:",kU),L(null)}},className:"hidden"}),(0,RN.jsx)("div",{className:"w-screen h-48 bg-gray-200 flex items-center justify-center cursor-pointer overflow-hidden",style:{backgroundImage:"url(".concat(F||c||n.banner||O,")"),backgroundSize:"cover",backgroundPosition:"center"}})]})}),(0,RN.jsx)("div",{className:"flex items-center mb-4 w-full",children:(0,RN.jsxs)("label",{htmlFor:"profile-upload",children:[(0,RN.jsx)("input",{type:"file",id:"profile-upload",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)try{const e=await qL(t);l(e.data.link),I(URL.createObjectURL(t))}catch(kU){console.error("An error occurred:",kU),l(null)}},className:"hidden"}),(0,RN.jsx)("div",{className:"flex items-center justify-center mr-auto -mt-20 bg-gray-50 rounded-full border-gray-100 w-32 h-32 cursor-pointer overflow-hidden",style:{backgroundImage:"url(".concat(T||s||n.picture||C,")"),backgroundSize:"cover",backgroundPosition:"center"},children:!T&&!s&&!n.picture&&!localStorage.getItem("profileImage_".concat(d))&&(0,RN.jsx)(DL,{className:"w-24 h-24"})})]})}),(0,RN.jsxs)("div",{className:"mb-4",children:[(0,RN.jsx)("label",{htmlFor:"username",className:"text-lg font-semibold mb-2 block",children:"User Name"}),(0,RN.jsx)("input",{type:"text",id:"username",className:"w-full px-4 py-2 border rounded",value:p,onChange:e=>g(e.target.value)})]}),(0,RN.jsxs)("div",{className:"mb-4",children:[(0,RN.jsx)("label",{htmlFor:"bio",className:"text-lg font-semibold mb-2 block",children:"Bio"}),(0,RN.jsx)("textarea",{id:"bio",className:"w-full px-4 py-2 border rounded",rows:"4",placeholder:"Write your bio here...",value:y,onChange:e=>m(e.target.value)})]}),(0,RN.jsxs)("div",{className:"mb-4",children:[(0,RN.jsx)("label",{htmlFor:"lightning-address",className:"text-lg font-semibold mb-2 block",children:"Bitcoin Lightning Address"}),(0,RN.jsx)("input",{type:"text",id:"lightning-address",className:"w-full px-4 py-2 border rounded",placeholder:"Enter your Bitcoin Lightning address",value:v,onChange:e=>b(e.target.value)})]}),(0,RN.jsxs)("div",{className:"mb-4",children:[(0,RN.jsx)("label",{htmlFor:"public-key",className:"text-lg font-semibold mb-2 block",children:"Public Key"}),(0,RN.jsx)("input",{type:"text",id:"public-key",className:"w-full px-4 py-2 border rounded",value:d||"Not available",readOnly:!0})]})]})]}),(0,RN.jsx)(JW,{})]})};const aY=function(){const{pubKey:e}=DP(),[t,n]=(0,a.useState)({}),[r,i]=(0,a.useState)(null),[o,s]=(0,a.useState)(!0),[l,c]=(0,a.useState)(!0),[u,d]=(0,a.useState)("posts"),h=e=>{d(e)};return(0,a.useEffect)((()=>{(async()=>{try{const t=await eF(e);i(t),s(!1)}catch(kU){console.error("Error fetching user details:",kU)}})(),(async()=>{try{const t=NN(),i={kinds:[1],authors:[e]},o=new dw(t,i),a=[];o.on("event",(e=>{a.push(e)})),await t.cacheAdapter.query(o);let s=[];if(a.length>10)s=a;else{s=(await DN(i)).filter((e=>/(https?:\/\/[^\s]+(\.jpg|\.mp4|\.gif))/gi.test(e.content)))}const l=s.map((e=>e.id)),u=await jN(l);for(const e of s){e.voteCount=u[e.id]||0;const n=new $b(t,e);await t.cacheAdapter.setEvent(n,[i]),e.profile=r}n(s),c(!1)}catch(kU){console.error("Error fetching user notes:",kU)}})()}),[e,r]),(0,RN.jsxs)("div",{className:"flex flex-col md:flex-row min-h-screen",children:[(0,RN.jsx)(GF,{}),(0,RN.jsx)("main",{className:"md:w-7/12 p-2 pt-4",children:o?(0,RN.jsx)(YL,{}):(0,RN.jsxs)(RN.Fragment,{children:[(0,RN.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,RN.jsx)("div",{className:"w-screen h-48 bg-gray-200 flex items-center justify-center cursor-pointer overflow-hidden",style:{backgroundImage:"url(".concat(r.banner,")"),backgroundSize:"cover",backgroundPosition:"center"}})}),(0,RN.jsxs)("div",{className:"flex items-center justify-between mb-4 w-full -mt-20 px-4",children:[(0,RN.jsx)("div",{className:"flex items-center justify-center bg-gray-50 rounded-full border-gray-100 w-28 h-28 cursor-pointer overflow-hidden",style:{backgroundImage:"url(".concat(r.image,")"),backgroundSize:"cover",backgroundPosition:"center"},children:!r.image&&(0,RN.jsx)(DL,{className:"w-24 h-24"})}),(0,RN.jsxs)("div",{className:"flex space-x-4 self-end",children:[(0,RN.jsx)("button",{className:"px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600",children:"Follow"}),(0,RN.jsx)("button",{className:"px-4 py-2 text-white bg-gray-500 rounded hover:bg-gray-600",children:"Message"})]})]}),(0,RN.jsxs)("div",{className:"flex flex-col justify-between mb-4 w-full px-4",children:[(0,RN.jsx)("div",{className:"font-semibold text-xl",children:r.display_name||r.displayName||r.name}),(0,RN.jsx)("div",{className:"mb-2 text-sm text-gray-500",children:r.nip05}),(0,RN.jsx)("div",{className:"text-sm mb-2",children:r.about&&r.about.split("\n").map(((e,t)=>(0,RN.jsx)("p",{className:"mb-0.5",children:e},t)))}),(0,RN.jsx)("div",{className:"mb-2 text-sm text-gray-500",children:r.website&&(0,RN.jsx)("a",{href:r.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:r.website})})]}),(0,RN.jsx)("div",{className:"tabs-section border-b border-gray-300",children:(0,RN.jsxs)("ul",{className:"flex justify-around",children:[(0,RN.jsx)("li",{className:"cursor-pointer py-2 px-4 ".concat("posts"===u?"border-b-2 border-blue-500 font-bold text-blue-500":"text-gray-500"),onClick:()=>h("posts"),children:"Posts"}),(0,RN.jsx)("li",{className:"cursor-pointer py-2 px-4 ".concat("liked"===u?"border-b-2 border-blue-500 font-bold text-blue-500":"text-gray-500"),onClick:()=>h("liked"),children:"Liked"}),(0,RN.jsx)("li",{className:"cursor-pointer py-2 px-4 ".concat("commented"===u?"border-b-2 border-blue-500 font-bold text-blue-500":"text-gray-500"),onClick:()=>h("commented"),children:"Commented"})]})}),(0,RN.jsxs)("div",{className:"feed-section",children:["posts"===u&&(l?(0,RN.jsx)("div",{className:"flex justify-center items-center",children:(0,RN.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):(0,RN.jsx)($W,{isHomePage:!1,notes:t,onLoadMore:function(){}})),"liked"===u&&(0,RN.jsx)("div",{className:"text-center text-gray-500",children:"No liked posts available."}),"commented"===u&&(0,RN.jsx)("div",{className:"text-center text-gray-500",children:"No commented posts available."})]})]})}),(0,RN.jsx)(JW,{})]})};function sY(){let{searchQuery:e}=DP();return(0,RN.jsx)(IN,{filterTags:[e],children:(0,RN.jsx)(iY,{})})}const lY=function(){const e={"/":["memes","meme","funny","memestr"],"/pets":["pets","dogs","cats"],"/nature":["nature","flowers","sky","sea"],"/food":["food"],"/photography":["photography"],"/vehicles":["cars","motorcycle","car","motorcycles"],"/relationship":["love","dating","relationship","tinder","bumble","romance","crush","marriage","single","couple","boyfriend","girlfriend"],"/crypto":["crypto","bitcoin","btc","ethereum","cryptocurrency","blockchain","nft"]};function t(){let e=NP();return"/search"!==e.pathname&&"/meme-editor"!==e.pathname?(0,RN.jsx)(DB,{}):null}return(0,RN.jsx)(vI,{children:(0,RN.jsxs)(lj,{children:[(0,RN.jsx)(t,{}),(0,RN.jsxs)($P,{children:[(0,RN.jsx)(ZP,{exact:!0,path:"/",element:(0,RN.jsx)(IN,{filterTags:e["/"],children:(0,RN.jsx)(iY,{})})}),(0,RN.jsx)(ZP,{path:"/post/:postId",element:(0,RN.jsx)(WF,{})}),(0,RN.jsx)(ZP,{path:"/profile",element:(0,RN.jsx)(oY,{})}),(0,RN.jsx)(ZP,{path:"/userprofile/:pubKey",element:(0,RN.jsx)(aY,{})}),(0,RN.jsx)(ZP,{path:"/search/:searchQuery",element:(0,RN.jsx)(sY,{})}),(0,RN.jsx)(ZP,{path:"/search",element:(0,RN.jsx)(cM,{})}),(0,RN.jsx)(ZP,{path:"/meme-editor",element:(0,RN.jsx)(QW,{})}),(0,RN.jsx)(ZP,{path:"/pets",element:(0,RN.jsx)(IN,{filterTags:e["/pets"],children:(0,RN.jsx)(iY,{})})}),(0,RN.jsx)(ZP,{path:"/nature",element:(0,RN.jsx)(IN,{filterTags:e["/nature"],children:(0,RN.jsx)(iY,{})})}),(0,RN.jsx)(ZP,{path:"/food",element:(0,RN.jsx)(IN,{filterTags:e["/food"],children:(0,RN.jsx)(iY,{})})}),(0,RN.jsx)(ZP,{path:"/photography",element:(0,RN.jsx)(IN,{filterTags:e["/photography"],children:(0,RN.jsx)(iY,{})})}),(0,RN.jsx)(ZP,{path:"/vehicles",element:(0,RN.jsx)(IN,{filterTags:e["/vehicles"],children:(0,RN.jsx)(iY,{})})}),(0,RN.jsx)(ZP,{path:"/crypto",element:(0,RN.jsx)(IN,{filterTags:e["/crypto"],children:(0,RN.jsx)(iY,{})})}),(0,RN.jsx)(ZP,{path:"/relationship",element:(0,RN.jsx)(IN,{filterTags:e["/relationship"],children:(0,RN.jsx)(iY,{})})})]}),(0,RN.jsx)(rM,{})]})})};l.createRoot(document.getElementById("root")).render((0,RN.jsx)(RN.Fragment,{children:(0,RN.jsx)(lY,{})}))})()})();